(self.webpackChunkPortfolioWebsite=self.webpackChunkPortfolioWebsite||[]).push([[179],{811:(oe,v,z)=>{"use strict";function h(e){return"function"==typeof e}function U(e){const t=e(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const j=U(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ie(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class N{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(h(i))try{i()}catch(s){n=s instanceof j?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{B(s)}catch(a){n=n??[],a instanceof j?n=[...n,...a.errors]:n.push(a)}}if(n)throw new j(n)}}add(n){var t;if(n&&n!==this)if(this.closed)B(n);else{if(n instanceof N){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&ie(t,n)}remove(n){const{_finalizers:t}=this;t&&ie(t,n),n instanceof N&&n._removeParent(this)}}N.EMPTY=(()=>{const e=new N;return e.closed=!0,e})();const O=N.EMPTY;function M(e){return e instanceof N||e&&"closed"in e&&h(e.remove)&&h(e.add)&&h(e.unsubscribe)}function B(e){h(e)?e():e.unsubscribe()}const W={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ee={setTimeout(e,n,...t){const{delegate:i}=ee;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=ee;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function G(e){ee.setTimeout(()=>{const{onUnhandledError:n}=W;if(!n)throw e;n(e)})}function ne(){}const E=H("C",void 0,void 0);function H(e,n,t){return{kind:e,value:n,error:t}}let F=null;function I(e){if(W.useDeprecatedSynchronousErrorHandling){const n=!F;if(n&&(F={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:i}=F;if(F=null,t)throw i}}else e()}class g extends N{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,M(n)&&n.add(this)):this.destination=Y}static create(n,t,i){return new P(n,t,i)}next(n){this.isStopped?q(function L(e){return H("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?q(function V(e){return H("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?q(E,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const w=Function.prototype.bind;function R(e,n){return w.call(e,n)}class A{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){D(i)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){D(i)}else D(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){D(t)}}}class P extends g{constructor(n,t,i){let r;if(super(),h(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&W.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&R(n.next,s),error:n.error&&R(n.error,s),complete:n.complete&&R(n.complete,s)}):r=n}this.destination=new A(r)}}function D(e){W.useDeprecatedSynchronousErrorHandling?function p(e){W.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=e)}(e):G(e)}function q(e,n){const{onStoppedNotification:t}=W;t&&ee.setTimeout(()=>t(e,n))}const Y={closed:!0,next:ne,error:function C(e){throw e},complete:ne},se="function"==typeof Symbol&&Symbol.observable||"@@observable";function he(e){return e}let ve=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function K(e){return e&&e instanceof g||function Le(e){return e&&h(e.next)&&h(e.error)&&h(e.complete)}(e)&&M(e)}(t)?t:new P(t,i,r);return I(()=>{const{operator:a,source:o}=this;s.add(a?a.call(s,o):o?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Ne(i))((r,s)=>{const a=new P({next:o=>{try{t(o)}catch(l){s(l),a.unsubscribe()}},error:s,complete:r});this.subscribe(a)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[se](){return this}pipe(...t){return function _e(e){return 0===e.length?he:1===e.length?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=Ne(t))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return e.create=n=>new e(n),e})();function Ne(e){var n;return null!==(n=e??W.Promise)&&void 0!==n?n:Promise}const _=U(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let u=(()=>{class e extends ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new m(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new _}next(t){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?O:(this.currentObservers=null,s.push(t),new N(()=>{this.currentObservers=null,ie(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new ve;return t.source=this,t}}return e.create=(n,t)=>new m(n,t),e})();class m extends u{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,n)}error(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==i?i:O}}class y extends u{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function T(e){return n=>{if(function S(e){return h(e?.lift)}(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function x(e,n,t,i,r){return new Q(e,n,t,i,r)}class Q extends g{constructor(n,t,i,r,s,a){super(n),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(o){try{t(o)}catch(l){n.error(l)}}:super._next,this._error=r?function(o){try{r(o)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(o){n.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function ue(e,n){return T((t,i)=>{let r=0;t.subscribe(x(i,s=>{i.next(e.call(n,s,r++))}))})}function je(e){return this instanceof je?(this.v=e,this):new je(e)}function re(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Ze(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=e[s]&&function(a){return new Promise(function(o,l){!function r(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}(o,l,(a=e[s](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Lt=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Xt(e){return h(e?.then)}function pn(e){return h(e[se])}function Ei(e){return Symbol.asyncIterator&&h(e?.[Symbol.asyncIterator])}function Fn(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const On=function gi(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Rn(e){return h(e?.[On])}function ai(e){return function le(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(e,n||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(b){i[b]&&(r[b]=function(k){return new Promise(function($,ae){s.push([b,k,$,ae])>1||o(b,k)})})}function o(b,k){try{!function l(b){b.value instanceof je?Promise.resolve(b.value.v).then(c,d):f(s[0][2],b)}(i[b](k))}catch($){f(s[0][3],$)}}function c(b){o("next",b)}function d(b){o("throw",b)}function f(b,k){b(k),s.shift(),s.length&&o(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:i,done:r}=yield je(t.read());if(r)return yield je(void 0);yield yield je(i)}}finally{t.releaseLock()}})}function Ji(e){return h(e?.getReader)}function En(e){if(e instanceof ve)return e;if(null!=e){if(pn(e))return function Js(e){return new ve(n=>{const t=e[se]();if(h(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Lt(e))return function fA(e){return new ve(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Xt(e))return function pA(e){return new ve(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,G)})}(e);if(Ei(e))return pm(e);if(Rn(e))return function gA(e){return new ve(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Ji(e))return function mA(e){return pm(ai(e))}(e)}throw Fn(e)}function pm(e){return new ve(n=>{(function _A(e,n){var t,i,r,s;return function lt(e,n,t,i){return new(t||(t=Promise))(function(s,a){function o(d){try{c(i.next(d))}catch(f){a(f)}}function l(d){try{c(i.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):function r(s){return s instanceof t?s:new t(function(a){a(s)})}(d.value).then(o,l)}c((i=i.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=re(e);!(i=yield t.next()).done;)if(n.next(i.value),n.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function rs(e,n,t,i=0,r=!1){const s=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function md(e,n,t=1/0){return h(n)?md((i,r)=>ue((s,a)=>n(i,s,r,a))(En(e(i,r))),t):("number"==typeof n&&(t=n),T((i,r)=>function vA(e,n,t,i,r,s,a,o){const l=[];let c=0,d=0,f=!1;const b=()=>{f&&!l.length&&!c&&n.complete()},k=ae=>c<i?$(ae):l.push(ae),$=ae=>{s&&n.next(ae),c++;let J=!1;En(t(ae,d++)).subscribe(x(n,me=>{r?.(me),s?k(me):n.next(me)},()=>{J=!0},void 0,()=>{if(J)try{for(c--;l.length&&c<i;){const me=l.shift();a?rs(n,a,()=>$(me)):$(me)}b()}catch(me){n.error(me)}}))};return e.subscribe(x(n,k,()=>{f=!0,b()})),()=>{o?.()}}(i,r,e,t)))}const gm=new ve(e=>e.complete());function _d(e){return e[e.length-1]}function mm(e){return function bA(e){return e&&h(e.schedule)}(_d(e))?e.pop():void 0}function _m(e,n=0){return T((t,i)=>{t.subscribe(x(i,r=>rs(i,e,()=>i.next(r),n),()=>rs(i,e,()=>i.complete(),n),r=>rs(i,e,()=>i.error(r),n)))})}function vm(e,n=0){return T((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function ym(e,n){if(!e)throw new Error("Iterable cannot be null");return new ve(t=>{rs(t,n,()=>{const i=e[Symbol.asyncIterator]();rs(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Ol(e,n){return n?function EA(e,n){if(null!=e){if(pn(e))return function wA(e,n){return En(e).pipe(vm(n),_m(n))}(e,n);if(Lt(e))return function SA(e,n){return new ve(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}(e,n);if(Xt(e))return function TA(e,n){return En(e).pipe(vm(n),_m(n))}(e,n);if(Ei(e))return ym(e,n);if(Rn(e))return function AA(e,n){return new ve(t=>{let i;return rs(t,n,()=>{i=e[On](),rs(t,n,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){return void t.error(a)}s?t.complete():t.next(r)},0,!0)}),()=>h(i?.return)&&i.return()})}(e,n);if(Ji(e))return function DA(e,n){return ym(ai(e),n)}(e,n)}throw Fn(e)}(e,n):En(e)}function xm(...e){return Ol(e,mm(e))}function bm(e={}){const{connector:n=(()=>new u),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return s=>{let a,o,l,c=0,d=!1,f=!1;const b=()=>{o?.unsubscribe(),o=void 0},k=()=>{b(),a=l=void 0,d=f=!1},$=()=>{const ae=a;k(),ae?.unsubscribe()};return T((ae,J)=>{c++,!f&&!d&&b();const me=l=l??n();J.add(()=>{c--,0===c&&!f&&!d&&(o=vd($,r))}),me.subscribe(J),!a&&c>0&&(a=new P({next:de=>me.next(de),error:de=>{f=!0,b(),o=vd(k,t,de),me.error(de)},complete:()=>{d=!0,b(),o=vd(k,i),me.complete()}}),En(ae).subscribe(a))})(s)}}function vd(e,n,...t){if(!0===n)return void e();if(!1===n)return;const i=new P({next:()=>{i.unsubscribe(),e()}});return En(n(...t)).subscribe(i)}function LA(e,n){return e===n}function rn(e){for(let n in e)if(e[n]===rn)return n;throw Error("Could not find renamed property on target object.")}function Rl(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Nn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Nn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function yd(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const FA=rn({__forward_ref__:rn});function xd(e){return e.__forward_ref__=xd,e.toString=function(){return Nn(this())},e}function At(e){return bd(e)?e():e}function bd(e){return"function"==typeof e&&e.hasOwnProperty(FA)&&e.__forward_ref__===xd}function Cd(e){return e&&!!e.\u0275providers}const Cm="https://g.co/ng/security#xss";class Be extends Error{constructor(n,t){super(function Nl(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function Dt(e){return"string"==typeof e?e:null==e?"":String(e)}function wd(e,n){throw new Be(-201,!1)}function Hi(e,n){null==e&&function Kt(e,n,t,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${t} ${i} ${n} <=Actual]`))}(n,e,null,"!=")}function Gt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function gn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Bl(e){return wm(e,Vl)||wm(e,Sm)}function wm(e,n){return e.hasOwnProperty(n)?e[n]:null}function Tm(e){return e&&(e.hasOwnProperty(Td)||e.hasOwnProperty(HA))?e[Td]:null}const Vl=rn({\u0275prov:rn}),Td=rn({\u0275inj:rn}),Sm=rn({ngInjectableDef:rn}),HA=rn({ngInjectorDef:rn});var Ht=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ht||{});let Sd;function mi(e){const n=Sd;return Sd=e,n}function Dm(e,n,t){const i=Bl(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Ht.Optional?null:void 0!==n?n:void wd(Nn(e))}const on=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ao={},Ad="__NG_DI_FLAG__",Hl="ngTempTokenPath",zA=/\n/gm,Em="__source";let ea;function ss(e){const n=ea;return ea=e,n}function WA(e,n=Ht.Default){if(void 0===ea)throw new Be(-203,!1);return null===ea?Dm(e,void 0,n):ea.get(e,n&Ht.Optional?null:void 0,n)}function vt(e,n=Ht.Default){return(function Am(){return Sd}()||WA)(At(e),n)}function vn(e,n=Ht.Default){return vt(e,$l(n))}function $l(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Dd(e){const n=[];for(let t=0;t<e.length;t++){const i=At(e[t]);if(Array.isArray(i)){if(0===i.length)throw new Be(900,!1);let r,s=Ht.Default;for(let a=0;a<i.length;a++){const o=i[a],l=UA(o);"number"==typeof l?-1===l?r=o.token:s|=l:r=o}n.push(vt(r,s))}else n.push(vt(i))}return n}function oo(e,n){return e[Ad]=n,e.prototype[Ad]=n,e}function UA(e){return e[Ad]}function Pr(e){return{toString:e}.toString()}var zl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(zl||{}),$i=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}($i||{});const fr={},Yt=[],jl=rn({\u0275cmp:rn}),Ed=rn({\u0275dir:rn}),kd=rn({\u0275pipe:rn}),Mm=rn({\u0275mod:rn}),Lr=rn({\u0275fac:rn}),lo=rn({__NG_ELEMENT_ID__:rn}),Pm=rn({__NG_ENV_ID__:rn});function Lm(e,n,t){let i=e.length;for(;;){const r=e.indexOf(n,t);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=n.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}t=r+1}}function Md(e,n,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],a=t[i++],o=t[i++];e.setAttribute(n,a,o,s)}else{const s=r,a=t[++i];Im(s)?e.setProperty(n,s,a):e.setAttribute(n,s,a),i++}}return i}function Fm(e){return 3===e||4===e||6===e}function Im(e){return 64===e.charCodeAt(0)}function co(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?t=r:0===t||Om(e,t,r,null,-1===t||2===t?n[++i]:null)}}return e}function Om(e,n,t,i,r){let s=0,a=e.length;if(-1===n)a=-1;else for(;s<e.length;){const o=e[s++];if("number"==typeof o){if(o===n){a=-1;break}if(o>n){a=s-1;break}}}for(;s<e.length;){const o=e[s];if("number"==typeof o)break;if(o===t){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(e.splice(a,0,n),s=a+1),e.splice(s++,0,t),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}const Rm="ng-template";function qA(e,n,t){let i=0,r=!0;for(;i<e.length;){let s=e[i++];if("string"==typeof s&&r){const a=e[i++];if(t&&"class"===s&&-1!==Lm(a.toLowerCase(),n,0))return!0}else{if(1===s){for(;i<e.length&&"string"==typeof(s=e[i++]);)if(s.toLowerCase()===n)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function Nm(e){return 4===e.type&&e.value!==Rm}function QA(e,n,t){return n===(4!==e.type||t?e.value:Rm)}function KA(e,n,t){let i=4;const r=e.attrs||[],s=function e1(e){for(let n=0;n<e.length;n++)if(Fm(e[n]))return n;return e.length}(r);let a=!1;for(let o=0;o<n.length;o++){const l=n[o];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!QA(e,l,t)||""===l&&1===n.length){if(er(i))return!1;a=!0}}else{const c=8&i?l:n[++o];if(8&i&&null!==e.attrs){if(!qA(e.attrs,c,t)){if(er(i))return!1;a=!0}continue}const f=ZA(8&i?"class":l,r,Nm(e),t);if(-1===f){if(er(i))return!1;a=!0;continue}if(""!==c){let b;b=f>s?"":r[f+1].toLowerCase();const k=8&i?b:null;if(k&&-1!==Lm(k,c,0)||2&i&&c!==b){if(er(i))return!1;a=!0}}}}else{if(!a&&!er(i)&&!er(l))return!1;if(a&&er(l))continue;a=!1,i=l|1&i}}return er(i)||a}function er(e){return 0==(1&e)}function ZA(e,n,t,i){if(null===n)return-1;let r=0;if(i||!t){let s=!1;for(;r<n.length;){const a=n[r];if(a===e)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){let o=n[++r];for(;"string"==typeof o;)o=n[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function t1(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const i=e[t];if("number"==typeof i)return-1;if(i===n)return t;t++}return-1}(n,e)}function Bm(e,n,t=!1){for(let i=0;i<n.length;i++)if(KA(e,n[i],t))return!0;return!1}function n1(e,n){e:for(let t=0;t<n.length;t++){const i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Vm(e,n){return e?":not("+n.trim()+")":n}function i1(e){let n=e[0],t=1,i=2,r="",s=!1;for(;t<e.length;){let a=e[t];if("string"==typeof a)if(2&i){const o=e[++t];r+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!er(a)&&(n+=Vm(s,r),r=""),i=a,s=s||!er(i);t++}return""!==r&&(n+=Vm(s,r)),n}function It(e){return Pr(()=>{const n=$m(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===zl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||$i.Emulated,styles:e.styles||Yt,_:null,schemas:e.schemas||null,tView:null,id:""};zm(t);const i=e.dependencies;return t.directiveDefs=Gl(i,!1),t.pipeDefs=Gl(i,!0),t.id=function d1(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of t)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function o1(e){return Zt(e)||Qn(e)}function l1(e){return null!==e}function yn(e){return Pr(()=>({type:e.type,bootstrap:e.bootstrap||Yt,declarations:e.declarations||Yt,imports:e.imports||Yt,exports:e.exports||Yt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Hm(e,n){if(null==e)return fr;const t={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,n&&(n[r]=s)}return t}function _i(e){return Pr(()=>{const n=$m(e);return zm(n),n})}function Zt(e){return e[jl]||null}function Qn(e){return e[Ed]||null}function yi(e){return e[kd]||null}function $m(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||fr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Yt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hm(e.inputs,n),outputs:Hm(e.outputs)}}function zm(e){e.features?.forEach(n=>n(e))}function Gl(e,n){if(!e)return null;const t=n?yi:o1;return()=>("function"==typeof e?e():e).map(i=>t(i)).filter(l1)}const Bn=0,rt=1,kt=2,Cn=3,tr=4,ho=5,Kn=6,ta=7,kn=8,na=9,Cs=10,Mt=11,fo=12,jm=13,ia=14,Mn=15,po=16,ra=17,pr=18,go=19,Gm=20,as=21,Fr=22,Wl=23,Ul=24,Bt=25,Pd=1,Wm=2,gr=7,sa=9,Zn=11;function Pi(e){return Array.isArray(e)&&"object"==typeof e[Pd]}function xi(e){return Array.isArray(e)&&!0===e[Pd]}function Ld(e){return 0!=(4&e.flags)}function ws(e){return e.componentOffset>-1}function Yl(e){return 1==(1&e.flags)}function nr(e){return!!e.template}function Fd(e){return 0!=(512&e[kt])}function Ts(e,n){return e.hasOwnProperty(Lr)?e[Lr]:null}let _1=on.WeakRef??class m1{constructor(n){this.ref=n}deref(){return this.ref}},y1=0,mr=null,ql=!1;function zn(e){const n=mr;return mr=e,n}class Qm{constructor(){this.id=y1++,this.ref=function v1(e){return new _1(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,t]of this.producers){const i=t.producerNode.deref();if(null!=i&&t.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(n),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=ql;ql=!0;try{for(const[t,i]of this.consumers){const r=i.consumerNode.deref();null!=r&&r.trackingVersion===i.atTrackingVersion?r.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),r?.producers.delete(this.id))}}finally{ql=n}}producerAccessed(){if(ql)throw new Error("");if(null===mr)return;let n=mr.producers.get(this.id);void 0===n?(n={consumerNode:mr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:mr.trackingVersion},mr.producers.set(this.id,n),this.consumers.set(mr.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=mr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==mr?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let Km=null;const Jm=()=>{};class w1 extends Qm{constructor(n,t,i){super(),this.watch=n,this.schedule=t,this.dirty=!1,this.cleanupFn=Jm,this.registerOnCleanup=r=>{this.cleanupFn=r},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=zn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Jm,this.watch(this.registerOnCleanup)}finally{zn(n)}}cleanup(){this.cleanupFn()}}class T1{constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function xn(){return e_}function e_(e){return e.type.prototype.ngOnChanges&&(e.setInput=A1),S1}function S1(){const e=n_(this),n=e?.current;if(n){const t=e.previous;if(t===fr)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function A1(e,n,t,i){const r=this.declaredInputs[t],s=n_(e)||function D1(e,n){return e[t_]=n}(e,{previous:fr,current:null}),a=s.current||(s.current={}),o=s.previous,l=o[r];a[r]=new T1(l&&l.currentValue,n,o===fr),e[i]=n}xn.ngInherit=!0;const t_="__ngSimpleChanges__";function n_(e){return e[t_]||null}const _r=function(e,n,t){},i_="svg";function mn(e){for(;Array.isArray(e);)e=e[Bn];return e}function Zl(e,n){return mn(n[e])}function bi(e,n){return mn(n[e.index])}function s_(e,n){return e.data[n]}function Li(e,n){const t=n[e];return Pi(t)?t:t[Bn]}function os(e,n){return null==n?null:e[n]}function a_(e){e[ra]=0}function I1(e){1024&e[kt]||(e[kt]|=1024,l_(e,1))}function o_(e){1024&e[kt]&&(e[kt]&=-1025,l_(e,-1))}function l_(e,n){let t=e[Cn];if(null===t)return;t[ho]+=n;let i=t;for(t=t[Cn];null!==t&&(1===n&&1===i[ho]||-1===n&&0===i[ho]);)t[ho]+=n,i=t,t=t[Cn]}const wt={lFrame:y_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function d_(){return wt.bindingsEnabled}function oa(){return null!==wt.skipHydrationRootTNode}function Ie(){return wt.lFrame.lView}function Wt(){return wt.lFrame.tView}function un(e){return wt.lFrame.contextLView=e,e[kn]}function dn(e){return wt.lFrame.contextLView=null,e}function Un(){let e=h_();for(;null!==e&&64===e.type;)e=e.parent;return e}function h_(){return wt.lFrame.currentTNode}function vr(e,n){const t=wt.lFrame;t.currentTNode=e,t.isParent=n}function Vd(){return wt.lFrame.isParent}function Hd(){wt.lFrame.isParent=!1}function oi(){const e=wt.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function la(){return wt.lFrame.bindingIndex++}function Or(e){const n=wt.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function U1(e,n){const t=wt.lFrame;t.bindingIndex=t.bindingRootIndex=e,$d(n)}function $d(e){wt.lFrame.currentDirectiveIndex=e}function m_(){return wt.lFrame.currentQueryIndex}function jd(e){wt.lFrame.currentQueryIndex=e}function Y1(e){const n=e[rt];return 2===n.type?n.declTNode:1===n.type?e[Kn]:null}function __(e,n,t){if(t&Ht.SkipSelf){let r=n,s=e;for(;!(r=r.parent,null!==r||t&Ht.Host||(r=Y1(s),null===r||(s=s[ia],10&r.type))););if(null===r)return!1;n=r,e=s}const i=wt.lFrame=v_();return i.currentTNode=n,i.lView=e,!0}function Gd(e){const n=v_(),t=e[rt];wt.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function v_(){const e=wt.lFrame,n=null===e?null:e.child;return null===n?y_(e):n}function y_(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function x_(){const e=wt.lFrame;return wt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const b_=x_;function Wd(){const e=x_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function li(){return wt.lFrame.selectedIndex}function Ss(e){wt.lFrame.selectedIndex=e}function wn(){const e=wt.lFrame;return s_(e.tView,e.selectedIndex)}function ot(){wt.lFrame.currentNamespace=i_}function Jl(){!function Z1(){wt.lFrame.currentNamespace=null}()}let w_=!0;function ec(){return w_}function ls(e){w_=e}function tc(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;a&&(e.contentHooks??=[]).push(-t,a),o&&((e.contentHooks??=[]).push(t,o),(e.contentCheckHooks??=[]).push(t,o)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),null!=d&&(e.destroyHooks??=[]).push(t,d)}}function nc(e,n,t){T_(e,n,3,t)}function ic(e,n,t,i){(3&e[kt])===t&&T_(e,n,t,i)}function Ud(e,n){let t=e[kt];(3&t)===n&&(t&=8191,t+=1,e[kt]=t)}function T_(e,n,t,i){const s=i??-1,a=n.length-1;let o=0;for(let l=void 0!==i?65535&e[ra]:0;l<a;l++)if("number"==typeof n[l+1]){if(o=n[l],null!=i&&o>=i)break}else n[l]<0&&(e[ra]+=65536),(o<s||-1==s)&&(eD(e,t,n,l),e[ra]=(4294901760&e[ra])+l+2),l++}function S_(e,n){_r(4,e,n);const t=zn(null);try{n.call(e)}finally{zn(t),_r(5,e,n)}}function eD(e,n,t,i){const r=t[i]<0,s=t[i+1],o=e[r?-t[i]:t[i]];r?e[kt]>>13<e[ra]>>16&&(3&e[kt])===n&&(e[kt]+=8192,S_(o,s)):S_(o,s)}const ca=-1;class vo{constructor(n,t,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function A_(e){return e!==ca}function rc(e){return 32767&e}function sc(e,n){let t=function rD(e){return e>>16}(e),i=n;for(;t>0;)i=i[ia],t--;return i}let Yd=!0;function ac(e){const n=Yd;return Yd=e,n}const D_=255,E_=5;let sD=0;const yr={};function oc(e,n){const t=k_(e,n);if(-1!==t)return t;const i=n[rt];i.firstCreatePass&&(e.injectorIndex=n.length,qd(i.data,e),qd(n,null),qd(i.blueprint,null));const r=Qd(e,n),s=e.injectorIndex;if(A_(r)){const a=rc(r),o=sc(r,n),l=o[rt].data;for(let c=0;c<8;c++)n[s+c]=o[a+c]|l[a+c]}return n[s+8]=r,s}function qd(e,n){e.push(0,0,0,0,0,0,0,0,n)}function k_(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Qd(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;null!==r;){if(i=N_(r),null===i)return ca;if(t++,r=r[ia],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return ca}function Kd(e,n,t){!function aD(e,n,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(lo)&&(i=t[lo]),null==i&&(i=t[lo]=sD++);const r=i&D_;n.data[e+(r>>E_)]|=1<<r}(e,n,t)}function M_(e,n,t){if(t&Ht.Optional||void 0!==e)return e;wd()}function P_(e,n,t,i){if(t&Ht.Optional&&void 0===i&&(i=null),!(t&(Ht.Self|Ht.Host))){const r=e[na],s=mi(void 0);try{return r?r.get(n,i,t&Ht.Optional):Dm(n,i,t&Ht.Optional)}finally{mi(s)}}return M_(i,0,t)}function L_(e,n,t,i=Ht.Default,r){if(null!==e){if(2048&n[kt]&&!(i&Ht.Self)){const a=function dD(e,n,t,i,r){let s=e,a=n;for(;null!==s&&null!==a&&2048&a[kt]&&!(512&a[kt]);){const o=F_(s,a,t,i|Ht.Self,yr);if(o!==yr)return o;let l=s.parent;if(!l){const c=a[Gm];if(c){const d=c.get(t,yr,i);if(d!==yr)return d}l=N_(a),a=a[ia]}s=l}return r}(e,n,t,i,yr);if(a!==yr)return a}const s=F_(e,n,t,i,yr);if(s!==yr)return s}return P_(n,t,i,r)}function F_(e,n,t,i,r){const s=function cD(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(lo)?e[lo]:void 0;return"number"==typeof n?n>=0?n&D_:uD:n}(t);if("function"==typeof s){if(!__(n,e,i))return i&Ht.Host?M_(r,0,i):P_(n,t,i,r);try{const a=s(i);if(null!=a||i&Ht.Optional)return a;wd()}finally{b_()}}else if("number"==typeof s){let a=null,o=k_(e,n),l=ca,c=i&Ht.Host?n[Mn][Kn]:null;for((-1===o||i&Ht.SkipSelf)&&(l=-1===o?Qd(e,n):n[o+8],l!==ca&&O_(i,!1)?(a=n[rt],o=rc(l),n=sc(l,n)):o=-1);-1!==o;){const d=n[rt];if(I_(s,o,d.data)){const f=lD(o,n,t,a,i,c);if(f!==yr)return f}l=n[o+8],l!==ca&&O_(i,n[rt].data[o+8]===c)&&I_(s,o,n)?(a=d,o=rc(l),n=sc(l,n)):o=-1}}return r}function lD(e,n,t,i,r,s){const a=n[rt],o=a.data[e+8],d=lc(o,a,t,null==i?ws(o)&&Yd:i!=a&&0!=(3&o.type),r&Ht.Host&&s===o);return null!==d?As(n,a,d,o):yr}function lc(e,n,t,i,r){const s=e.providerIndexes,a=n.data,o=1048575&s,l=e.directiveStart,d=s>>20,b=r?o+d:e.directiveEnd;for(let k=i?o:o+d;k<b;k++){const $=a[k];if(k<l&&t===$||k>=l&&$.type===t)return k}if(r){const k=a[l];if(k&&nr(k)&&k.type===t)return l}return null}function As(e,n,t,i){let r=e[t];const s=n.data;if(function tD(e){return e instanceof vo}(r)){const a=r;a.resolving&&function IA(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Be(-200,`Circular dependency in DI detected for ${e}${t}`)}(function tn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Dt(e)}(s[t]));const o=ac(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?mi(a.injectImpl):null;__(e,i,Ht.Default);try{r=e[t]=a.factory(void 0,s,e,i),n.firstCreatePass&&t>=i.directiveStart&&function J1(e,n,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=n.type.prototype;if(i){const a=e_(n);(t.preOrderHooks??=[]).push(e,a),(t.preOrderCheckHooks??=[]).push(e,a)}r&&(t.preOrderHooks??=[]).push(0-e,r),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],n)}finally{null!==l&&mi(l),ac(o),a.resolving=!1,b_()}}return r}function I_(e,n,t){return!!(t[n+(e>>E_)]&1<<e)}function O_(e,n){return!(e&Ht.Self||e&Ht.Host&&n)}class ua{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return L_(this._tNode,this._lView,n,$l(i),t)}}function uD(){return new ua(Un(),Ie())}function Zd(e){return bd(e)?()=>{const n=Zd(At(e));return n&&n()}:Ts(e)}function N_(e){const n=e[rt],t=n.type;return 2===t?n.declTNode:1===t?e[Kn]:null}const ha="__parameters__";function pa(e,n,t){return Pr(()=>{const i=function eh(e){return function(...t){if(e){const i=e(...t);for(const r in i)this[r]=i[r]}}}(n);function r(...s){if(this instanceof r)return i.apply(this,s),this;const a=new r(...s);return o.annotation=a,o;function o(l,c,d){const f=l.hasOwnProperty(ha)?l[ha]:Object.defineProperty(l,ha,{value:[]})[ha];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(a),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function xo(e,n){e.forEach(t=>Array.isArray(t)?xo(t,n):n(t))}function V_(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function cc(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function bo(e,n){const t=[];for(let i=0;i<e;i++)t.push(n);return t}function Fi(e,n,t){let i=ma(e,n);return i>=0?e[1|i]=t:(i=~i,function vD(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(1===r)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;)e[r]=e[r-2],r--;e[n]=t,e[n+1]=i}}(e,i,n,t)),i}function th(e,n){const t=ma(e,n);if(t>=0)return e[1|t]}function ma(e,n){return function H_(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){const s=i+(r-i>>1),a=e[s<<t];if(n===a)return s<<t;a>n?r=s:i=s+1}return~(r<<t)}(e,n,1)}const ih=oo(pa("Optional"),8),rh=oo(pa("SkipSelf"),4);function gc(e){return 128==(128&e.flags)}var cs=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(cs||{});const VD=/^>|^->|<!--|-->|--!>|<!-$/g,HD=/(<|>)/,$D="\u200b$1\u200b";const lh=new Map;let zD=0;const uh="__ngContext__";function Jn(e,n){Pi(n)?(e[uh]=n[go],function GD(e){lh.set(e[go],e)}(n)):e[uh]=n}let dh;function hh(e,n){return dh(e,n)}function To(e){const n=e[Cn];return xi(n)?n[Cn]:n}function av(e){return lv(e[fo])}function ov(e){return lv(e[tr])}function lv(e){for(;null!==e&&!xi(e);)e=e[tr];return e}function ya(e,n,t,i,r){if(null!=i){let s,a=!1;xi(i)?s=i:Pi(i)&&(a=!0,i=i[Bn]);const o=mn(i);0===e&&null!==t?null==r?fv(n,t,o):Ds(n,t,o,r||null,!0):1===e&&null!==t?Ds(n,t,o,r||null,!0):2===e?function bc(e,n,t){const i=yc(e,n);i&&function cE(e,n,t,i){e.removeChild(n,t,i)}(e,i,n,t)}(n,o,a):3===e&&n.destroyNode(o),null!=s&&function hE(e,n,t,i,r){const s=t[gr];s!==mn(t)&&ya(n,e,i,s,r);for(let o=Zn;o<t.length;o++){const l=t[o];Ao(l[rt],l,e,n,i,s)}}(n,e,s,t,r)}}function fh(e,n){return e.createComment(function Z_(e){return e.replace(VD,n=>n.replace(HD,$D))}(n))}function vc(e,n,t){return e.createElement(n,t)}function uv(e,n){const t=e[sa],i=t.indexOf(n);o_(n),t.splice(i,1)}function ph(e,n){if(e.length<=Zn)return;const t=Zn+n,i=e[t];if(i){const r=i[po];null!==r&&r!==e&&uv(r,i),n>0&&(e[t-1][tr]=i[tr]);const s=cc(e,Zn+n);!function tE(e,n){Ao(e,n,n[Mt],2,null,null),n[Bn]=null,n[Kn]=null}(i[rt],i);const a=s[pr];null!==a&&a.detachView(s[rt]),i[Cn]=null,i[tr]=null,i[kt]&=-129}return i}function dv(e,n){if(!(256&n[kt])){const t=n[Mt];n[Wl]?.destroy(),n[Ul]?.destroy(),t.destroyNode&&Ao(e,n,t,3,null,null),function rE(e){let n=e[fo];if(!n)return gh(e[rt],e);for(;n;){let t=null;if(Pi(n))t=n[fo];else{const i=n[Zn];i&&(t=i)}if(!t){for(;n&&!n[tr]&&n!==e;)Pi(n)&&gh(n[rt],n),n=n[Cn];null===n&&(n=e),Pi(n)&&gh(n[rt],n),t=n&&n[tr]}n=t}}(n)}}function gh(e,n){if(!(256&n[kt])){n[kt]&=-129,n[kt]|=256,function lE(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let i=0;i<t.length;i+=2){const r=n[t[i]];if(!(r instanceof vo)){const s=t[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const o=r[s[a]],l=s[a+1];_r(4,o,l);try{l.call(o)}finally{_r(5,o,l)}}else{_r(4,r,s);try{s.call(r)}finally{_r(5,r,s)}}}}}(e,n),function oE(e,n){const t=e.cleanup,i=n[ta];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else t[s].call(i[t[s+1]]);null!==i&&(n[ta]=null);const r=n[as];if(null!==r){n[as]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(e,n),1===n[rt].type&&n[Mt].destroy();const t=n[po];if(null!==t&&xi(n[Cn])){t!==n[Cn]&&uv(t,n);const i=n[pr];null!==i&&i.detachView(e)}!function WD(e){lh.delete(e[go])}(n)}}function mh(e,n,t){return function hv(e,n,t){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return t[Bn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=e.data[i.directiveStart+r];if(s===$i.None||s===$i.Emulated)return null}return bi(i,t)}}(e,n.parent,t)}function Ds(e,n,t,i,r){e.insertBefore(n,t,i,r)}function fv(e,n,t){e.appendChild(n,t)}function pv(e,n,t,i,r){null!==i?Ds(e,n,t,i,r):fv(e,n,t)}function yc(e,n){return e.parentNode(n)}function gv(e,n,t){return _v(e,n,t)}let _h,Cc,bh,wc,_v=function mv(e,n,t){return 40&e.type?bi(e,t):null};function xc(e,n,t,i){const r=mh(e,i,n),s=n[Mt],o=gv(i.parent||n[Kn],i,n);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)pv(s,r,t[l],o,!1);else pv(s,r,t,o,!1);void 0!==_h&&_h(s,i,n,t,r)}function So(e,n){if(null!==n){const t=n.type;if(3&t)return bi(n,e);if(4&t)return vh(-1,e[n.index]);if(8&t){const i=n.child;if(null!==i)return So(e,i);{const r=e[n.index];return xi(r)?vh(-1,r):mn(r)}}if(32&t)return hh(n,e)()||mn(e[n.index]);{const i=yv(e,n);return null!==i?Array.isArray(i)?i[0]:So(To(e[Mn]),i):So(e,n.next)}}return null}function yv(e,n){return null!==n?e[Mn][Kn].projection[n.projection]:null}function vh(e,n){const t=Zn+e+1;if(t<n.length){const i=n[t],r=i[rt].firstChild;if(null!==r)return So(i,r)}return n[gr]}function yh(e,n,t,i,r,s,a){for(;null!=t;){const o=i[t.index],l=t.type;if(a&&0===n&&(o&&Jn(mn(o),i),t.flags|=2),32!=(32&t.flags))if(8&l)yh(e,n,t.child,i,r,s,!1),ya(n,e,r,o,s);else if(32&l){const c=hh(t,i);let d;for(;d=c();)ya(n,e,r,d,s);ya(n,e,r,o,s)}else 16&l?bv(e,n,i,t,r,s):ya(n,e,r,o,s);t=a?t.projectionNext:t.next}}function Ao(e,n,t,i,r,s){yh(t,i,e.firstChild,n,r,s,!1)}function bv(e,n,t,i,r,s){const a=t[Mn],l=a[Kn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ya(n,e,r,l[c],s);else{let c=l;const d=a[Cn];gc(i)&&(c.flags|=128),yh(e,n,c,d,r,s,!0)}}function Cv(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function wv(e,n,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&Md(e,n,i),null!==r&&Cv(e,n,r),null!==s&&function pE(e,n,t){e.setAttribute(n,"style",t)}(e,n,s)}function xa(e){return function xh(){if(void 0===Cc&&(Cc=null,on.trustedTypes))try{Cc=on.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Cc}()?.createHTML(e)||e}function Do(){if(void 0!==bh)return bh;if(typeof document<"u")return document;throw new Be(210,!1)}function Tv(e){return function Ch(){if(void 0===wc&&(wc=null,on.trustedTypes))try{wc=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return wc}()?.createHTML(e)||e}class Dv{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Cm})`}}function us(e){return e instanceof Dv?e.changingThisBreaksApplicationSecurity:e}function Eo(e,n){const t=function TE(e){return e instanceof Dv&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Cm})`)}return t===n}class SE{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(xa(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch{return null}}}class AE{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const t=this.inertDocument.createElement("template");return t.innerHTML=xa(n),t}}const EE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wh(e){return(e=String(e)).match(EE)?e:"unsafe:"+e}function Rr(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function ko(...e){const n={};for(const t of e)for(const i in t)t.hasOwnProperty(i)&&(n[i]=!0);return n}const kv=Rr("area,br,col,hr,img,wbr"),Mv=Rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pv=Rr("rp,rt"),Th=ko(kv,ko(Mv,Rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ko(Pv,Rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ko(Pv,Mv)),Sh=Rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lv=ko(Sh,Rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kE=Rr("script,style,template");class ME{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(n){const t=n.nodeName.toLowerCase();if(!Th.hasOwnProperty(t))return this.sanitizedSomething=!0,!kE.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=n.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),a=s.name,o=a.toLowerCase();if(!Lv.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let l=s.value;Sh[o]&&(l=wh(l)),this.buf.push(" ",a,'="',Fv(l),'"')}return this.buf.push(">"),!0}endElement(n){const t=n.nodeName.toLowerCase();Th.hasOwnProperty(t)&&!kv.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(Fv(n))}checkClobberedElement(n,t){if(t&&(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return t}}const PE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,LE=/([^\#-~ |!])/g;function Fv(e){return e.replace(/&/g,"&amp;").replace(PE,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(LE,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tc;function Ah(e){return"content"in e&&function IE(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ba=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ba||{});function Iv(e){const n=Mo();return n?Tv(n.sanitize(ba.HTML,e)||""):Eo(e,"HTML")?Tv(us(e)):function FE(e,n){let t=null;try{Tc=Tc||function Ev(e){const n=new AE(e);return function DE(){try{return!!(new window.DOMParser).parseFromString(xa(""),"text/html")}catch{return!1}}()?new SE(n):n}(e);let i=n?String(n):"";t=Tc.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Tc.getInertBodyElement(i)}while(i!==s);return xa((new ME).sanitizeChildren(Ah(t)||t))}finally{if(t){const i=Ah(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(Do(),Dt(e))}function Dh(e){const n=Mo();return n?n.sanitize(ba.URL,e)||"":Eo(e,"URL")?us(e):wh(Dt(e))}function Mo(){const e=Ie();return e&&e[Cs].sanitizer}class bt{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Gt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Sc=new bt("ENVIRONMENT_INITIALIZER"),Rv=new bt("INJECTOR",-1),Nv=new bt("INJECTOR_DEF_TYPES");class Bv{get(n,t=ao){if(t===ao){const i=new Error(`NullInjectorError: No provider for ${Nn(n)}!`);throw i.name="NullInjectorError",i}return t}}function $E(...e){return{\u0275providers:Hv(0,e),\u0275fromNgModule:!0}}function Hv(e,...n){const t=[],i=new Set;let r;return xo(n,s=>{const a=s;Eh(a,t,[],i)&&(r||=[],r.push(a))}),void 0!==r&&$v(r,t),t}function $v(e,n){for(let t=0;t<e.length;t++){const{providers:r}=e[t];kh(r,s=>{n.push(s)})}}function Eh(e,n,t,i){if(!(e=At(e)))return!1;let r=null,s=Tm(e);const a=!s&&Zt(e);if(s||a){if(a&&!a.standalone)return!1;r=e}else{const l=e.ngModule;if(s=Tm(l),!s)return!1;r=l}const o=i.has(r);if(a){if(o)return!1;if(i.add(r),a.dependencies){const l="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const c of l)Eh(c,n,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!o){let c;i.add(r);try{xo(s.imports,d=>{Eh(d,n,t,i)&&(c||=[],c.push(d))})}finally{}void 0!==c&&$v(c,n)}if(!o){const c=Ts(r)||(()=>new r);n.push({provide:r,useFactory:c,deps:Yt},{provide:Nv,useValue:r,multi:!0},{provide:Sc,useValue:()=>vt(r),multi:!0})}const l=s.providers;null==l||o||kh(l,d=>{n.push(d)})}}return r!==e&&void 0!==e.providers}function kh(e,n){for(let t of e)Cd(t)&&(t=t.\u0275providers),Array.isArray(t)?kh(t,n):n(t)}const zE=rn({provide:String,useValue:rn});function Mh(e){return null!==e&&"object"==typeof e&&zE in e}function Es(e){return"function"==typeof e}const Ph=new bt("Set Injector scope."),Ac={},GE={};let Lh;function Dc(){return void 0===Lh&&(Lh=new Bv),Lh}class Ca{}class Fh extends Ca{get destroyed(){return this._destroyed}constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Oh(n,a=>this.processProvider(a)),this.records.set(Rv,wa(void 0,this)),r.has("environment")&&this.records.set(Ca,wa(void 0,this));const s=this.records.get(Ph);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Nv.multi,Yt,Ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=ss(this),i=mi(void 0);try{return n()}finally{ss(t),mi(i)}}get(n,t=ao,i=Ht.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Pm))return n[Pm](this);i=$l(i);const r=ss(this),s=mi(void 0);try{if(!(i&Ht.SkipSelf)){let o=this.records.get(n);if(void 0===o){const l=function qE(e){return"function"==typeof e||"object"==typeof e&&e instanceof bt}(n)&&Bl(n);o=l&&this.injectableDefInScope(l)?wa(Ih(n),Ac):null,this.records.set(n,o)}if(null!=o)return this.hydrate(n,o)}return(i&Ht.Self?Dc():this.parent).get(n,t=i&Ht.Optional&&t===ao?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Hl]=a[Hl]||[]).unshift(Nn(n)),r)throw a;return function XA(e,n,t,i){const r=e[Hl];throw n[Em]&&r.unshift(n[Em]),e.message=function YA(e,n,t,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=Nn(n);if(Array.isArray(n))r=n.map(Nn).join(" -> ");else if("object"==typeof n){let s=[];for(let a in n)if(n.hasOwnProperty(a)){let o=n[a];s.push(a+":"+("string"==typeof o?JSON.stringify(o):Nn(o)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(zA,"\n  ")}`}("\n"+e.message,r,t,i),e.ngTokenPath=r,e[Hl]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{mi(s),ss(r)}}resolveInjectorInitializers(){const n=ss(this),t=mi(void 0);try{const i=this.get(Sc.multi,Yt,Ht.Self);for(const r of i)r()}finally{ss(n),mi(t)}}toString(){const n=[],t=this.records;for(const i of t.keys())n.push(Nn(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(n){let t=Es(n=At(n))?n:At(n&&n.provide);const i=function UE(e){return Mh(e)?wa(void 0,e.useValue):wa(Gv(e),Ac)}(n);if(Es(n)||!0!==n.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=wa(void 0,Ac,!0),r.factory=()=>Dd(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){return t.value===Ac&&(t.value=GE,t.value=t.factory()),"object"==typeof t.value&&t.value&&function YE(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=At(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Ih(e){const n=Bl(e),t=null!==n?n.factory:Ts(e);if(null!==t)return t;if(e instanceof bt)throw new Be(204,!1);if(e instanceof Function)return function WE(e){const n=e.length;if(n>0)throw bo(n,"?"),new Be(204,!1);const t=function VA(e){return e&&(e[Vl]||e[Sm])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new Be(204,!1)}function Gv(e,n,t){let i;if(Es(e)){const r=At(e);return Ts(r)||Ih(r)}if(Mh(e))i=()=>At(e.useValue);else if(function jv(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...Dd(e.deps||[]));else if(function zv(e){return!(!e||!e.useExisting)}(e))i=()=>vt(At(e.useExisting));else{const r=At(e&&(e.useClass||e.provide));if(!function XE(e){return!!e.deps}(e))return Ts(r)||Ih(r);i=()=>new r(...Dd(e.deps))}return i}function wa(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Oh(e,n){for(const t of e)Array.isArray(t)?Oh(t,n):t&&Cd(t)?Oh(t.\u0275providers,n):n(t)}const Ec=new bt("AppId",{providedIn:"root",factory:()=>QE}),QE="ng",Wv=new bt("Platform Initializer"),wi=new bt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Uv=new bt("AnimationModuleType"),Xv=new bt("CSP nonce",{providedIn:"root",factory:()=>Do().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qv=(e,n)=>null;function Qv(e,n){return qv(e,n)}class sk{}class Jv{}class ok{resolveComponentFactory(n){throw function ak(e){const n=Error(`No component factory found for ${Nn(e)}.`);return n.ngComponent=e,n}(n)}}let Fo=(()=>{class e{}return e.NULL=new ok,e})();function lk(){return Sa(Un(),Ie())}function Sa(e,n){return new Xn(bi(e,n))}let Xn=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=lk,e})();function ck(e){return e instanceof Xn?e.nativeElement:e}class Io{}let Fc=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function uk(){const e=Ie(),t=Li(Un().index,e);return(Pi(t)?t:e)[Mt]}(),e})(),dk=(()=>{class e{}return e.\u0275prov=Gt({token:e,providedIn:"root",factory:()=>null}),e})();class Uh{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const hk=new Uh("16.1.8"),Xh={};function Oo(e){for(;e;){e[kt]|=64;const n=To(e);if(Fd(e)&&!n)return e;e=n}return null}function Yh(e){return e.ngOriginalError}class ks{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Yh(n);for(;t&&Yh(t);)t=Yh(t);return t||null}}const r0=new bt("",{providedIn:"root",factory:()=>!1});function s0(e){return e.ownerDocument.defaultView}class u0 extends Qm{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){Oo(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,t,i){const r=zn(this);this.trackingVersion++;try{n(t,i)}finally{zn(r)}}destroy(){this.trackingVersion++}}let Oc=null;function d0(){return Oc??=new u0,Oc}function h0(e,n){return e[n]??d0()}function f0(e,n){const t=d0();t.hasReadASignal&&(e[n]=Oc,t.lView=e,Oc=new u0)}const Pt={};function Ee(e){p0(Wt(),Ie(),li()+e,!1)}function p0(e,n,t,i){if(!i)if(3==(3&n[kt])){const s=e.preOrderCheckHooks;null!==s&&nc(n,s,t)}else{const s=e.preOrderHooks;null!==s&&ic(n,s,0,t)}Ss(t)}function v0(e,n=null,t=null,i){const r=y0(e,n,t,i);return r.resolveInjectorInitializers(),r}function y0(e,n=null,t=null,i,r=new Set){const s=[t||Yt,$E(e)];return i=i||("object"==typeof e?void 0:Nn(e)),new Fh(s,n||Dc(),i||null,r)}let Br=(()=>{class e{static create(t,i){if(Array.isArray(t))return v0({name:""},i,t,"");{const r=t.name??"";return v0({name:r},t.parent,t.providers,r)}}}return e.THROW_IF_NOT_FOUND=ao,e.NULL=new Bv,e.\u0275prov=Gt({token:e,providedIn:"any",factory:()=>vt(Rv)}),e.__NG_ELEMENT_ID__=-1,e})();function nt(e,n=Ht.Default){const t=Ie();return null===t?vt(e,n):L_(Un(),t,At(e),n)}function Rc(e,n,t,i,r,s,a,o,l,c,d){const f=n.blueprint.slice();return f[Bn]=r,f[kt]=140|i,(null!==c||e&&2048&e[kt])&&(f[kt]|=2048),a_(f),f[Cn]=f[ia]=e,f[kn]=t,f[Cs]=a||e&&e[Cs],f[Mt]=o||e&&e[Mt],f[na]=l||e&&e[na]||null,f[Kn]=s,f[go]=function jD(){return zD++}(),f[Fr]=d,f[Gm]=c,f[Mn]=2==n.type?e[Mn]:f,f}function Da(e,n,t,i,r){let s=e.data[n];if(null===s)s=function qh(e,n,t,i,r){const s=h_(),a=Vd(),l=e.data[n]=function Fk(e,n,t,i,r,s){let a=n?n.injectorIndex:-1,o=0;return oa()&&(o|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:o,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,t,n,i,r);return null===e.firstChild&&(e.firstChild=l),null!==s&&(a?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,n,t,i,r),function W1(){return wt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const a=function _o(){const e=wt.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return vr(s,!0),s}function Ro(e,n,t,i){if(0===t)return-1;const r=n.length;for(let s=0;s<t;s++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function x0(e,n,t,i,r){const s=h0(n,Wl),a=li(),o=2&i;try{if(Ss(-1),o&&n.length>Bt&&p0(e,n,Bt,!1),_r(o?2:0,r),o)s.runInContext(t,i,r);else{const c=zn(null);try{t(i,r)}finally{zn(c)}}}finally{o&&null===n[Wl]&&f0(n,Wl),Ss(a),_r(o?3:1,r)}}function Qh(e,n,t){if(Ld(n)){const i=zn(null);try{const s=n.directiveEnd;for(let a=n.directiveStart;a<s;a++){const o=e.data[a];o.contentQueries&&o.contentQueries(1,t[a],a)}}finally{zn(i)}}}function Kh(e,n,t){d_()&&(function Hk(e,n,t,i){const r=t.directiveStart,s=t.directiveEnd;ws(t)&&function Xk(e,n,t){const i=bi(n,e),r=b0(t);let a=16;t.signals?a=4096:t.onPush&&(a=64);const o=Nc(e,Rc(e,r,null,a,i,n,null,e[Cs].rendererFactory.createRenderer(i,t),null,null,null));e[n.index]=o}(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||oc(t,n),Jn(i,n);const a=t.initialInputs;for(let o=r;o<s;o++){const l=e.data[o],c=As(n,e,o,t);Jn(c,n),null!==a&&Yk(0,o-r,c,l,0,a),nr(l)&&(Li(t.index,n)[kn]=As(n,e,o,t))}}(e,n,t,bi(t,n)),64==(64&t.flags)&&A0(e,n,t))}function Zh(e,n,t=bi){const i=n.localNames;if(null!==i){let r=n.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],o=-1===a?t(n,e):e[a];e[r++]=o}}}function b0(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Jh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Jh(e,n,t,i,r,s,a,o,l,c,d){const f=Bt+i,b=f+r,k=function Dk(e,n){const t=[];for(let i=0;i<n;i++)t.push(i<e?null:Pt);return t}(f,b),$="function"==typeof c?c():c;return k[rt]={type:e,blueprint:k,template:t,queries:null,viewQuery:o,declTNode:n,data:k.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:$,incompleteFirstPass:!1,ssrId:d}}let C0=e=>null;function w0(e,n,t,i){for(let r in e)if(e.hasOwnProperty(r)){t=null===t?{}:t;const s=e[r];null===i?T0(t,n,r,s):i.hasOwnProperty(r)&&T0(t,n,i[r],s)}return t}function T0(e,n,t,i){e.hasOwnProperty(t)?e[t].push(n,i):e[t]=[n,i]}function Ii(e,n,t,i,r,s,a,o){const l=bi(n,t);let d,c=n.inputs;!o&&null!=c&&(d=c[i])?(sf(e,t,d,i,r),ws(n)&&function Rk(e,n){const t=Li(n,e);16&t[kt]||(t[kt]|=64)}(t,n.index)):3&n.type&&(i=function Ok(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=a?a(r,n.value||"",i):r,s.setProperty(l,i,r))}function ef(e,n,t,i){if(d_()){const r=null===i?null:{"":-1},s=function zk(e,n){const t=e.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const a=t[s];if(Bm(n,a.selectors,!1))if(i||(i=[]),nr(a))if(null!==a.findHostDirectiveDefs){const o=[];r=r||new Map,a.findHostDirectiveDefs(a,o,r),i.unshift(...o,a),tf(e,n,o.length)}else i.unshift(a),tf(e,n,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return null===i?null:[i,r]}(e,t);let a,o;null===s?a=o=null:[a,o]=s,null!==a&&S0(e,n,t,a,r,o),r&&function jk(e,n,t){if(n){const i=e.localNames=[];for(let r=0;r<n.length;r+=2){const s=t[n[r+1]];if(null==s)throw new Be(-301,!1);i.push(n[r],s)}}}(t,i,r)}t.mergedAttrs=co(t.mergedAttrs,t.attrs)}function S0(e,n,t,i,r,s){for(let c=0;c<i.length;c++)Kd(oc(t,n),e,i[c].type);!function Wk(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,i.length);for(let c=0;c<i.length;c++){const d=i[c];d.providersResolver&&d.providersResolver(d)}let a=!1,o=!1,l=Ro(e,n,i.length,null);for(let c=0;c<i.length;c++){const d=i[c];t.mergedAttrs=co(t.mergedAttrs,d.hostAttrs),Uk(e,t,n,l,d),Gk(l,d,r),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),a=!0),!o&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),o=!0),l++}!function Ik(e,n,t){const r=n.directiveEnd,s=e.data,a=n.attrs,o=[];let l=null,c=null;for(let d=n.directiveStart;d<r;d++){const f=s[d],b=t?t.get(f):null,$=b?b.outputs:null;l=w0(f.inputs,d,l,b?b.inputs:null),c=w0(f.outputs,d,c,$);const ae=null===l||null===a||Nm(n)?null:qk(l,d,a);o.push(ae)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=o,n.inputs=l,n.outputs=c}(e,t,s)}function A0(e,n,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,a=function X1(){return wt.lFrame.currentDirectiveIndex}();try{Ss(s);for(let o=i;o<r;o++){const l=e.data[o],c=n[o];$d(o),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&$k(l,c)}}finally{Ss(-1),$d(a)}}function $k(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function tf(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function Gk(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;nr(n)&&(t[""]=e)}}function Uk(e,n,t,i,r){e.data[i]=r;const s=r.factory||(r.factory=Ts(r.type)),a=new vo(s,nr(r),nt);e.blueprint[i]=a,t[i]=a,function Bk(e,n,t,i,r){const s=r.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const o=~n.index;(function Vk(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(a)!=o&&a.push(o),a.push(t,i,s)}}(e,n,i,Ro(e,t,r.hostVars,Pt),r)}function xr(e,n,t,i,r,s){const a=bi(e,n);!function nf(e,n,t,i,r,s,a){if(null==s)e.removeAttribute(n,r,t);else{const o=null==a?Dt(s):a(s,i||"",r);e.setAttribute(n,r,o,t)}}(n[Mt],a,s,e.value,t,i,r)}function Yk(e,n,t,i,r,s){const a=s[n];if(null!==a)for(let o=0;o<a.length;)D0(i,t,a[o++],a[o++],a[o++])}function D0(e,n,t,i,r){const s=zn(null);try{const a=e.inputTransforms;null!==a&&a.hasOwnProperty(i)&&(r=a[i].call(n,r)),null!==e.setInput?e.setInput(n,r,t,i):n[i]=r}finally{zn(s)}}function qk(e,n,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===i&&(i=[]);const a=e[s];for(let o=0;o<a.length;o+=2)if(a[o]===n){i.push(s,a[o+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function E0(e,n,t,i){return[e,!0,!1,n,null,0,i,t,null,null,null]}function k0(e,n){const t=e.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const a=e.data[s];jd(t[i]),a.contentQueries(2,n[s],s)}}}function Nc(e,n){return e[fo]?e[jm][tr]=n:e[fo]=n,e[jm]=n,n}function rf(e,n,t){jd(0);const i=zn(null);try{n(e,t)}finally{zn(i)}}function M0(e){return e[ta]||(e[ta]=[])}function P0(e){return e.cleanup||(e.cleanup=[])}function F0(e,n){const t=e[na],i=t?t.get(ks,null):null;i&&i.handleError(n)}function sf(e,n,t,i,r){for(let s=0;s<t.length;){const a=t[s++],o=t[s++];D0(e.data[a],n[a],i,o,r)}}function Vr(e,n,t){const i=Zl(n,e);!function cv(e,n,t){e.setValue(n,t)}(e[Mt],i,t)}function Qk(e,n){const t=Li(n,e),i=t[rt];!function Kk(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(i,t);const r=t[Bn];null!==r&&null===t[Fr]&&(t[Fr]=Qv(r,t[na])),af(i,t,t[kn])}function af(e,n,t){Gd(n);try{const i=e.viewQuery;null!==i&&rf(1,i,t);const r=e.template;null!==r&&x0(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&k0(e,n),e.staticViewQueries&&rf(2,e.viewQuery,t);const s=e.components;null!==s&&function Zk(e,n){for(let t=0;t<n.length;t++)Qk(e,n[t])}(n,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[kt]&=-5,Wd()}}let I0=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const s=typeof Zone>"u"?null:Zone.current,a=new w1(t,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let o;this.all.add(a),a.notify();const l=()=>{a.cleanup(),o?.(),this.all.delete(a),this.queue.delete(a)};return o=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=Gt({token:e,providedIn:"root",factory:()=>new e}),e})();function Bc(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,s=0;if(null!==n)for(let a=0;a<n.length;a++){const o=n[a];"number"==typeof o?s=o:1==s?r=yd(r,o):2==s&&(i=yd(i,o+": "+n[++a]+";"))}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}function No(e,n,t,i,r=!1){for(;null!==t;){const s=n[t.index];if(null!==s&&i.push(mn(s)),xi(s)){for(let o=Zn;o<s.length;o++){const l=s[o],c=l[rt].firstChild;null!==c&&No(l[rt],l,c,i)}s[gr]!==s[Bn]&&i.push(s[gr])}const a=t.type;if(8&a)No(e,n,t.child,i);else if(32&a){const o=hh(t,n);let l;for(;l=o();)i.push(l)}else if(16&a){const o=yv(n,t);if(Array.isArray(o))i.push(...o);else{const l=To(n[Mn]);No(l[rt],l,o,i,!0)}}t=r?t.projectionNext:t.next}return i}function Vc(e,n,t,i=!0){const r=n[Cs].rendererFactory;r.begin&&r.begin();try{O0(e,n,e.template,t)}catch(a){throw i&&F0(n,a),a}finally{r.end&&r.end(),n[Cs].effectManager?.flush()}}function O0(e,n,t,i){const r=n[kt];if(256!=(256&r)){n[Cs].effectManager?.flush(),Gd(n);try{a_(n),function p_(e){return wt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&x0(e,n,t,2,i);const a=3==(3&r);if(a){const c=e.preOrderCheckHooks;null!==c&&nc(n,c,null)}else{const c=e.preOrderHooks;null!==c&&ic(n,c,0,null),Ud(n,0)}if(function iM(e){for(let n=av(e);null!==n;n=ov(n)){if(!n[Wm])continue;const t=n[sa];for(let i=0;i<t.length;i++){I1(t[i])}}}(n),R0(n,2),null!==e.contentQueries&&k0(e,n),a){const c=e.contentCheckHooks;null!==c&&nc(n,c)}else{const c=e.contentHooks;null!==c&&ic(n,c,1),Ud(n,1)}!function Ak(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const i=h0(n,Ul);try{for(let r=0;r<t.length;r++){const s=t[r];if(s<0)Ss(~s);else{const a=s,o=t[++r],l=t[++r];U1(o,a),i.runInContext(l,2,n[a])}}}finally{null===n[Ul]&&f0(n,Ul),Ss(-1)}}(e,n);const o=e.components;null!==o&&B0(n,o,0);const l=e.viewQuery;if(null!==l&&rf(2,l,i),a){const c=e.viewCheckHooks;null!==c&&nc(n,c)}else{const c=e.viewHooks;null!==c&&ic(n,c,2),Ud(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[kt]&=-73,o_(n)}finally{Wd()}}}function R0(e,n){for(let t=av(e);null!==t;t=ov(t))for(let i=Zn;i<t.length;i++)N0(t[i],n)}function rM(e,n,t){N0(Li(n,e),t)}function N0(e,n){if(!function L1(e){return 128==(128&e[kt])}(e))return;const t=e[rt];if(80&e[kt]&&0===n||1024&e[kt]||2===n)O0(t,e,t.template,e[kn]);else if(e[ho]>0){R0(e,1);const r=e[rt].components;null!==r&&B0(e,r,1)}}function B0(e,n,t){for(let i=0;i<n.length;i++)rM(e,n[i],t)}class Bo{get rootNodes(){const n=this._lView,t=n[rt];return No(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kn]}set context(n){this._lView[kn]=n}get destroyed(){return 256==(256&this._lView[kt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Cn];if(xi(n)){const t=n[8],i=t?t.indexOf(this):-1;i>-1&&(ph(n,i),cc(t,i))}this._attachedToViewContainer=!1}dv(this._lView[rt],this._lView)}onDestroy(n){!function c_(e,n){if(256==(256&e[kt]))throw new Be(911,!1);null===e[as]&&(e[as]=[]),e[as].push(n)}(this._lView,n)}markForCheck(){Oo(this._cdRefInjectingView||this._lView)}detach(){this._lView[kt]&=-129}reattach(){this._lView[kt]|=128}detectChanges(){Vc(this._lView[rt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iE(e,n){Ao(e,n,n[Mt],2,null,null)}(this._lView[rt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=n}}class sM extends Bo{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Vc(n[rt],n,n[kn],!1)}checkNoChanges(){}get context(){return null}}class V0 extends Fo{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Zt(n);return new Vo(t,this.ngModule)}}function H0(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class oM{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=$l(i);const r=this.injector.get(n,Xh,i);return r!==Xh||t===Xh?r:this.parentInjector.get(n,t,i)}}class Vo extends Jv{get inputs(){const n=this.componentDef,t=n.inputTransforms,i=H0(n.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return H0(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function r1(e){return e.map(i1).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,i,r){let s=(r=r||this.ngModule)instanceof Ca?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new oM(n,s):n,o=a.get(Io,null);if(null===o)throw new Be(407,!1);const d={rendererFactory:o,sanitizer:a.get(dk,null),effectManager:a.get(I0,null)},f=o.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",k=i?function Ek(e,n,t,i){const s=i.get(r0,!1)||t===$i.ShadowDom,a=e.selectRootElement(n,s);return function kk(e){C0(e)}(a),a}(f,i,this.componentDef.encapsulation,a):vc(f,b,function aM(e){const n=e.toLowerCase();return"svg"===n?i_:"math"===n?"math":null}(b)),J=this.componentDef.signals?4608:this.componentDef.onPush?576:528,me=Jh(0,null,null,1,0,null,null,null,null,null,null),de=Rc(null,me,null,J,null,null,d,f,a,null,null);let be,ke;Gd(de);try{const Re=this.componentDef;let Ue,Tt=null;Re.findHostDirectiveDefs?(Ue=[],Tt=new Map,Re.findHostDirectiveDefs(Re,Ue,Tt),Ue.push(Re)):Ue=[Re];const Ot=function cM(e,n){const t=e[rt],i=Bt;return e[i]=n,Da(t,i,2,"#host",null)}(de,k),cn=function uM(e,n,t,i,r,s,a){const o=r[rt];!function dM(e,n,t,i){for(const r of e)n.mergedAttrs=co(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(Bc(n,n.mergedAttrs,!0),null!==t&&wv(i,t,n))}(i,e,n,a);let l=null;null!==n&&(l=Qv(n,r[na]));const c=s.rendererFactory.createRenderer(n,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const f=Rc(r,b0(t),null,d,r[e.index],e,s,c,null,null,l);return o.firstCreatePass&&tf(o,e,i.length-1),Nc(r,f),r[e.index]=f}(Ot,k,Re,Ue,de,d,f);ke=s_(me,Bt),k&&function fM(e,n,t,i){if(i)Md(e,t,["ng-version",hk.full]);else{const{attrs:r,classes:s}=function s1(e){const n=[],t=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&n.push(s,e[++i]):8===r&&t.push(s);else{if(!er(r))break;r=s}i++}return{attrs:n,classes:t}}(n.selectors[0]);r&&Md(e,t,r),s&&s.length>0&&Cv(e,t,s.join(" "))}}(f,Re,k,i),void 0!==t&&function pM(e,n,t){const i=e.projection=[];for(let r=0;r<n.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(ke,this.ngContentSelectors,t),be=function hM(e,n,t,i,r,s){const a=Un(),o=r[rt],l=bi(a,r);S0(o,r,a,t,null,i);for(let d=0;d<t.length;d++)Jn(As(r,o,a.directiveStart+d,a),r);A0(o,r,a),l&&Jn(l,r);const c=As(r,o,a.directiveStart+a.componentOffset,a);if(e[kn]=r[kn]=c,null!==s)for(const d of s)d(c,n);return Qh(o,a,e),c}(cn,Re,Ue,Tt,de,[gM]),af(me,de,null)}finally{Wd()}return new lM(this.componentType,be,Sa(ke,de),de,ke)}}class lM extends sk{constructor(n,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new sM(r),this.componentType=n}setInput(n,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const s=this._rootLView;sf(s[rt],s,r,n,t),this.previousInputValues.set(n,t),Oo(Li(this._tNode.index,s))}}get injector(){return new ua(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function gM(){const e=Un();tc(Ie()[rt],e)}function of(e){let n=function $0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const i=[e];for(;n;){let r;if(nr(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Be(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);const a=e;a.inputs=Hc(e.inputs),a.inputTransforms=Hc(e.inputTransforms),a.declaredInputs=Hc(e.declaredInputs),a.outputs=Hc(e.outputs);const o=r.hostBindings;o&&yM(e,o);const l=r.viewQuery,c=r.contentQueries;if(l&&_M(e,l),c&&vM(e,c),Rl(e.inputs,r.inputs),Rl(e.declaredInputs,r.declaredInputs),Rl(e.outputs,r.outputs),null!==r.inputTransforms&&(null===a.inputTransforms&&(a.inputTransforms={}),Rl(a.inputTransforms,r.inputTransforms)),nr(r)&&r.data.animation){const d=e.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let a=0;a<s.length;a++){const o=s[a];o&&o.ngInherit&&o(e),o===of&&(t=!1)}}n=Object.getPrototypeOf(n)}!function mM(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=co(r.hostAttrs,t=co(t,r.hostAttrs))}}(i)}function Hc(e){return e===fr?{}:e===Yt?[]:e}function _M(e,n){const t=e.viewQuery;e.viewQuery=t?(i,r)=>{n(i,r),t(i,r)}:n}function vM(e,n){const t=e.contentQueries;e.contentQueries=t?(i,r,s)=>{n(i,r,s),t(i,r,s)}:n}function yM(e,n){const t=e.hostBindings;e.hostBindings=t?(i,r)=>{n(i,r),t(i,r)}:n}function $c(e){return!!function lf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function br(e,n,t){return e[n]=t}function ei(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Ms(e,n,t,i){const r=ei(e,n,t);return ei(e,n+1,i)||r}function Et(e,n,t,i){const r=Ie();return ei(r,la(),n)&&(Wt(),xr(wn(),r,e,n,t,i)),Et}function ka(e,n,t,i){return ei(e,la(),t)?n+Dt(t)+i:Pt}function Ma(e,n,t,i,r,s){const o=Ms(e,function Ir(){return wt.lFrame.bindingIndex}(),t,r);return Or(2),o?n+Dt(t)+i+Dt(r)+s:Pt}function Je(e,n,t,i,r,s,a,o){const l=Ie(),c=Wt(),d=e+Bt,f=c.firstCreatePass?function WM(e,n,t,i,r,s,a,o,l){const c=n.consts,d=Da(n,e,4,a||null,os(c,o));ef(n,t,d,os(c,l)),tc(n,d);const f=d.tView=Jh(2,d,i,r,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return null!==n.queries&&(n.queries.template(n,d),f.queries=n.queries.embeddedTView(d)),d}(d,c,l,n,t,i,r,s,a):c.data[d];vr(f,!1);const b=iy(c,l,f,e);ec()&&xc(c,l,b,f),Jn(b,l),Nc(l,l[d]=E0(b,l,b,f)),Yl(f)&&Kh(c,l,f),null!=a&&Zh(l,f,o)}let iy=function ry(e,n,t,i){return ls(!0),n[Mt].createComment("")};function Ps(e){return function aa(e,n){return e[n]}(function G1(){return wt.lFrame.contextLView}(),Bt+e)}function Me(e,n,t){const i=Ie();return ei(i,la(),n)&&Ii(Wt(),wn(),i,e,n,i[Mt],t,!1),Me}function pf(e,n,t,i,r){const a=r?"class":"style";sf(e,t,n.inputs[a],a,i)}function we(e,n,t,i){const r=Ie(),s=Wt(),a=Bt+e,o=r[Mt],l=s.firstCreatePass?function qM(e,n,t,i,r,s){const a=n.consts,l=Da(n,e,2,i,os(a,r));return ef(n,t,l,os(a,s)),null!==l.attrs&&Bc(l,l.attrs,!1),null!==l.mergedAttrs&&Bc(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(a,s,r,n,t,i):s.data[a],c=sy(s,r,l,o,n,e);r[a]=c;const d=Yl(l);return vr(l,!0),wv(o,c,l),32!=(32&l.flags)&&ec()&&xc(s,r,c,l),0===function R1(){return wt.lFrame.elementDepthCount}()&&Jn(c,r),function N1(){wt.lFrame.elementDepthCount++}(),d&&(Kh(s,r,l),Qh(s,l,r)),null!==i&&Zh(r,l),we}function Se(){let e=Un();Vd()?Hd():(e=e.parent,vr(e,!1));const n=e;(function V1(e){return wt.skipHydrationRootTNode===e})(n)&&function j1(){wt.skipHydrationRootTNode=null}(),function B1(){wt.lFrame.elementDepthCount--}();const t=Wt();return t.firstCreatePass&&(tc(t,e),Ld(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function nD(e){return 0!=(8&e.flags)}(n)&&pf(t,n,Ie(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function iD(e){return 0!=(16&e.flags)}(n)&&pf(t,n,Ie(),n.stylesWithoutHost,!1),Se}function ft(e,n,t,i){return we(e,n,t,i),Se(),ft}let sy=(e,n,t,i,r,s)=>(ls(!0),vc(i,r,function C_(){return wt.lFrame.currentNamespace}()));function ds(e,n,t){const i=Ie(),r=Wt(),s=e+Bt,a=r.firstCreatePass?function ZM(e,n,t,i,r){const s=n.consts,a=os(s,i),o=Da(n,e,8,"ng-container",a);return null!==a&&Bc(o,a,!0),ef(n,t,o,os(s,r)),null!==n.queries&&n.queries.elementStart(n,o),o}(s,r,i,n,t):r.data[s];vr(a,!0);const o=ay(r,i,a,e);return i[s]=o,ec()&&xc(r,i,o,a),Jn(o,i),Yl(a)&&(Kh(r,i,a),Qh(r,a,i)),null!=t&&Zh(i,a),ds}function hs(){let e=Un();const n=Wt();return Vd()?Hd():(e=e.parent,vr(e,!1)),n.firstCreatePass&&(tc(n,e),Ld(e)&&n.queries.elementEnd(e)),hs}function Uc(e,n,t){return ds(e,n,t),hs(),Uc}let ay=(e,n,t,i)=>(ls(!0),fh(n[Mt],""));function Ti(){return Ie()}function gf(e){return!!e&&"function"==typeof e.then}function oy(e){return!!e&&"function"==typeof e.subscribe}function $t(e,n,t,i){const r=Ie(),s=Wt(),a=Un();return function cy(e,n,t,i,r,s,a){const o=Yl(i),c=e.firstCreatePass&&P0(e),d=n[kn],f=M0(n);let b=!0;if(3&i.type||a){const ae=bi(i,n),J=a?a(ae):ae,me=f.length,de=a?ke=>a(mn(ke[i.index])):i.index;let be=null;if(!a&&o&&(be=function tP(e,n,t,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const a=r[s];if(a===t&&r[s+1]===i){const o=n[ta],l=r[s+2];return o.length>l?o[l]:null}"string"==typeof a&&(s+=2)}return null}(e,n,r,i.index)),null!==be)(be.__ngLastListenerFn__||be).__ngNextListenerFn__=s,be.__ngLastListenerFn__=s,b=!1;else{s=dy(i,n,d,s,!1);const ke=t.listen(J,r,s);f.push(s,ke),c&&c.push(r,de,me,me+1)}}else s=dy(i,n,d,s,!1);const k=i.outputs;let $;if(b&&null!==k&&($=k[r])){const ae=$.length;if(ae)for(let J=0;J<ae;J+=2){const Re=n[$[J]][$[J+1]].subscribe(s),Ue=f.length;f.push(s,Re),c&&c.push(r,i.index,Ue,-(Ue+1))}}}(s,r,r[Mt],a,e,n,i),$t}function uy(e,n,t,i){try{return _r(6,n,t),!1!==t(i)}catch(r){return F0(e,r),!1}finally{_r(7,n,t)}}function dy(e,n,t,i,r){return function s(a){if(a===Function)return i;Oo(e.componentOffset>-1?Li(e.index,n):n);let l=uy(n,t,i,a),c=s.__ngNextListenerFn__;for(;c;)l=uy(n,t,c,a)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&a.preventDefault(),l}}function $e(e=1){return function q1(e){return(wt.lFrame.contextLView=function Q1(e,n){for(;e>0;)n=n[ia],e--;return n}(e,wt.lFrame.contextLView))[kn]}(e)}function nP(e,n){let t=null;const i=function JA(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let r=0;r<n.length;r++){const s=n[r];if("*"!==s){if(null===i?Bm(e,s,!0):n1(i,s))return r}else t=r}return t}function mf(e){const n=Ie()[Mn][Kn];if(!n.projection){const i=n.projection=bo(e?e.length:1,null),r=i.slice();let s=n.child;for(;null!==s;){const a=e?nP(s,e):0;null!==a&&(r[a]?r[a].projectionNext=s:i[a]=s,r[a]=s),s=s.next}}}function _f(e,n=0,t){const i=Ie(),r=Wt(),s=Da(r,Bt+e,16,null,t||null);null===s.projection&&(s.projection=n),Hd(),(!i[Fr]||oa())&&32!=(32&s.flags)&&function dE(e,n,t){bv(n[Mt],0,n,t,mh(e,t,n),gv(t.parent||n[Kn],t,n))}(r,i,s)}function vf(e,n,t){return yf(e,"",n,"",t),vf}function yf(e,n,t,i,r){const s=Ie(),a=ka(s,n,t,i);return a!==Pt&&Ii(Wt(),wn(),s,e,a,s[Mt],r,!1),yf}function Xc(e,n){return e<<17|n<<2}function fs(e){return e>>17&32767}function xf(e){return 2|e}function Ls(e){return(131068&e)>>2}function bf(e,n){return-131069&e|n<<2}function Cf(e){return 1|e}function xy(e,n,t,i,r){const s=e[t+1],a=null===n;let o=i?fs(s):Ls(s),l=!1;for(;0!==o&&(!1===l||a);){const d=e[o+1];lP(e[o],n)&&(l=!0,e[o+1]=i?Cf(d):xf(d)),o=i?fs(d):Ls(d)}l&&(e[t+1]=i?xf(s):Cf(s))}function lP(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&ma(e,n)>=0}const Hn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function by(e){return e.substring(Hn.key,Hn.keyEnd)}function Cy(e,n){const t=Hn.textEnd;return t===n?-1:(n=Hn.keyEnd=function hP(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,Hn.key=n,t),Na(e,n,t))}function Na(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function ti(e,n,t){return ir(e,n,t,!1),ti}function Cr(e,n){return ir(e,n,null,!0),Cr}function Tr(e,n){for(let t=function uP(e){return function Ty(e){Hn.key=0,Hn.keyEnd=0,Hn.value=0,Hn.valueEnd=0,Hn.textEnd=e.length}(e),Cy(e,Na(e,0,Hn.textEnd))}(n);t>=0;t=Cy(n,t))Fi(e,by(n),!0)}function ir(e,n,t,i){const r=Ie(),s=Wt(),a=Or(2);s.firstUpdatePass&&ky(s,e,a,i),n!==Pt&&ei(r,a,n)&&Py(s,s.data[li()],r,r[Mt],e,r[a+1]=function wP(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Nn(us(e)))),e}(n,t),i,a)}function rr(e,n,t,i){const r=Wt(),s=Or(2);r.firstUpdatePass&&ky(r,null,s,i);const a=Ie();if(t!==Pt&&ei(a,s,t)){const o=r.data[li()];if(Fy(o,i)&&!Ey(r,s)){let l=i?o.classesWithoutHost:o.stylesWithoutHost;null!==l&&(t=yd(l,t||"")),pf(r,o,a,t,i)}else!function CP(e,n,t,i,r,s,a,o){r===Pt&&(r=Yt);let l=0,c=0,d=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;null!==d||null!==f;){const b=l<r.length?r[l+1]:void 0,k=c<s.length?s[c+1]:void 0;let ae,$=null;d===f?(l+=2,c+=2,b!==k&&($=f,ae=k)):null===f||null!==d&&d<f?(l+=2,$=d):(c+=2,$=f,ae=k),null!==$&&Py(e,n,t,i,$,ae,a,o),d=l<r.length?r[l]:null,f=c<s.length?s[c]:null}}(r,o,a,a[Mt],a[s+1],a[s+1]=function xP(e,n,t){if(null==t||""===t)return Yt;const i=[],r=us(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else"string"==typeof r&&n(i,r);return i}(e,n,t),i,s)}}function Ey(e,n){return n>=e.expandoStartIndex}function ky(e,n,t,i){const r=e.data;if(null===r[t+1]){const s=r[li()],a=Ey(e,t);Fy(s,i)&&null===n&&!a&&(n=!1),n=function mP(e,n,t,i){const r=function zd(e){const n=wt.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let s=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(t=Go(t=wf(null,e,n,t,i),n.attrs,i),s=null);else{const a=n.directiveStylingLast;if(-1===a||e[a]!==r)if(t=wf(r,e,n,t,i),null===s){let l=function _P(e,n,t){const i=t?n.classBindings:n.styleBindings;if(0!==Ls(i))return e[fs(i)]}(e,n,i);void 0!==l&&Array.isArray(l)&&(l=wf(null,e,n,l[1],i),l=Go(l,n.attrs,i),function vP(e,n,t,i){e[fs(t?n.classBindings:n.styleBindings)]=i}(e,n,i,l))}else s=function yP(e,n,t){let i;const r=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<r;s++)i=Go(i,e[s].hostAttrs,t);return Go(i,n.attrs,t)}(e,n,i)}return void 0!==s&&(i?n.residualClasses=s:n.residualStyles=s),t}(r,s,n,i),function aP(e,n,t,i,r,s){let a=s?n.classBindings:n.styleBindings,o=fs(a),l=Ls(a);e[i]=t;let d,c=!1;if(Array.isArray(t)?(d=t[1],(null===d||ma(t,d)>0)&&(c=!0)):d=t,r)if(0!==l){const b=fs(e[o+1]);e[i+1]=Xc(b,o),0!==b&&(e[b+1]=bf(e[b+1],i)),e[o+1]=function rP(e,n){return 131071&e|n<<17}(e[o+1],i)}else e[i+1]=Xc(o,0),0!==o&&(e[o+1]=bf(e[o+1],i)),o=i;else e[i+1]=Xc(l,0),0===o?o=i:e[l+1]=bf(e[l+1],i),l=i;c&&(e[i+1]=xf(e[i+1])),xy(e,d,i,!0),xy(e,d,i,!1),function oP(e,n,t,i,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof n&&ma(s,n)>=0&&(t[i+1]=Cf(t[i+1]))}(n,d,e,i,s),a=Xc(o,l),s?n.classBindings=a:n.styleBindings=a}(r,s,n,t,a,i)}}function wf(e,n,t,i,r){let s=null;const a=t.directiveEnd;let o=t.directiveStylingLast;for(-1===o?o=t.directiveStart:o++;o<a&&(s=n[o],i=Go(i,s.hostAttrs,r),s!==e);)o++;return null!==e&&(t.directiveStylingLast=o),i}function Go(e,n,t){const i=t?1:2;let r=-1;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?r=a:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Fi(e,a,!!t||n[++s]))}return void 0===e?null:e}function bP(e,n,t){const i=String(n);""!==i&&!i.includes(" ")&&Fi(e,i,t)}function Py(e,n,t,i,r,s,a,o){if(!(3&n.type))return;const l=e.data,c=l[o+1],d=function sP(e){return 1==(1&e)}(c)?Ly(l,n,t,r,Ls(c),a):void 0;Yc(d)||(Yc(s)||function iP(e){return 2==(2&e)}(c)&&(s=Ly(l,null,t,r,o,a)),function fE(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:cs.DashCase;null==r?e.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=cs.Important),e.setStyle(t,i,r,s))}}(i,a,Zl(li(),t),r,s))}function Ly(e,n,t,i,r,s){const a=null===n;let o;for(;r>0;){const l=e[r],c=Array.isArray(l),d=c?l[1]:l,f=null===d;let b=t[r+1];b===Pt&&(b=f?Yt:void 0);let k=f?th(b,i):d===i?b:void 0;if(c&&!Yc(k)&&(k=th(l,i)),Yc(k)&&(o=k,a))return o;const $=e[r+1];r=a?fs($):Ls($)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(o=th(l,i))}return o}function Yc(e){return void 0!==e}function Fy(e,n){return 0!=(e.flags&(n?8:16))}function dt(e,n=""){const t=Ie(),i=Wt(),r=e+Bt,s=i.firstCreatePass?Da(i,r,1,n,null):i.data[r],a=Iy(i,t,s,n,e);t[r]=a,ec()&&xc(i,t,a,s),vr(s,!1)}let Iy=(e,n,t,i,r)=>(ls(!0),function _c(e,n){return e.createText(n)}(n[Mt],i));function Gi(e){return Yn("",e,""),Gi}function Yn(e,n,t){const i=Ie(),r=ka(i,e,n,t);return r!==Pt&&Vr(i,li(),r),Yn}function Tf(e,n,t,i,r){const s=Ie(),a=Ma(s,e,n,t,i,r);return a!==Pt&&Vr(s,li(),a),Tf}const Va="en-US";let nx=Va;function Df(e,n,t,i,r){if(e=At(e),Array.isArray(e))for(let s=0;s<e.length;s++)Df(e[s],n,t,i,r);else{const s=Wt(),a=Ie();let o=Es(e)?e:At(e.provide),l=Gv(e);const c=Un(),d=1048575&c.providerIndexes,f=c.directiveStart,b=c.providerIndexes>>20;if(Es(e)||!e.multi){const k=new vo(l,r,nt),$=kf(o,n,r?d:d+b,f);-1===$?(Kd(oc(c,a),s,o),Ef(s,e,n.length),n.push(o),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(k),a.push(k)):(t[$]=k,a[$]=k)}else{const k=kf(o,n,d+b,f),$=kf(o,n,d,d+b),J=$>=0&&t[$];if(r&&!J||!r&&!(k>=0&&t[k])){Kd(oc(c,a),s,o);const me=function zL(e,n,t,i,r){const s=new vo(e,t,nt);return s.multi=[],s.index=n,s.componentProviders=0,Dx(s,r,i&&!t),s}(r?$L:HL,t.length,r,i,l);!r&&J&&(t[$].providerFactory=me),Ef(s,e,n.length,0),n.push(o),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(me),a.push(me)}else Ef(s,e,k>-1?k:$,Dx(t[r?$:k],l,!r&&i));!r&&i&&J&&t[$].componentProviders++}}}function Ef(e,n,t,i){const r=Es(n),s=function jE(e){return!!e.useClass}(n);if(r||s){const l=(s?At(n.useClass):n).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){const d=c.indexOf(t);-1===d?c.push(t,[i,l]):c[d+1].push(i,l)}else c.push(t,l)}}}function Dx(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function kf(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function HL(e,n,t,i){return Mf(this.multi,[])}function $L(e,n,t,i){const r=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,o=As(t,t[rt],this.providerFactory.index,i);s=o.slice(0,a),Mf(r,s);for(let l=a;l<o.length;l++)s.push(o[l])}else s=[],Mf(r,s);return s}function Mf(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function Ex(e,n=[]){return t=>{t.providersResolver=(i,r)=>function VL(e,n,t){const i=Wt();if(i.firstCreatePass){const r=nr(e);Df(t,i.data,i.blueprint,r,!0),Df(n,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,n)}}class Ha{}class jL{}class Pf extends Ha{constructor(n,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new V0(this);const r=function Mi(e,n){const t=e[Mm]||null;if(!t&&!0===n)throw new Error(`Type ${Nn(e)} does not have '\u0275mod' property.`);return t}(n);this._bootstrapComponents=function Nr(e){return e instanceof Function?e():e}(r.bootstrap),this._r3Injector=y0(n,t,[{provide:Ha,useValue:this},{provide:Fo,useValue:this.componentFactoryResolver},...i],Nn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Lf extends jL{constructor(n){super(),this.moduleType=n}create(n){return new Pf(this.moduleType,n,[])}}function If(e,n,t,i){return function Rx(e,n,t,i,r,s){const a=n+t;return ei(e,a,r)?br(e,a+1,s?i.call(s,r):i(r)):Qo(e,a+1)}(Ie(),oi(),e,n,t,i)}function Of(e,n,t,i,r){return function Nx(e,n,t,i,r,s,a){const o=n+t;return Ms(e,o,r,s)?br(e,o+2,a?i.call(a,r,s):i(r,s)):Qo(e,o+2)}(Ie(),oi(),e,n,t,i,r)}function Qo(e,n){const t=e[n];return t===Pt?void 0:t}function Rf(e){return n=>{setTimeout(e,void 0,n)}}const mt=class vF extends u{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,i){let r=n,s=t||(()=>null),a=i;if(n&&"object"==typeof n){const l=n;r=l.next?.bind(l),s=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(s=Rf(s),r&&(r=Rf(r)),a&&(a=Rf(a)));const o=super.subscribe({next:r,error:s,complete:a});return n instanceof N&&n.add(o),o}};function yF(){return this._results[Symbol.iterator]()}class Nf{get changes(){return this._changes||(this._changes=new mt)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Nf.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=yF)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const i=this;i.dirty=!1;const r=function zi(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function mD(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=n[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Hr=(()=>{class e{}return e.__NG_ELEMENT_ID__=CF,e})();const xF=Hr,bF=class extends xF{constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t,null)}createEmbeddedViewImpl(n,t,i){const a=this._declarationTContainer.tView,o=Rc(this._declarationLView,a,n,4096&this._declarationLView[kt]?4096:16,null,a.declTNode,null,null,null,t||null,i||null);o[po]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[pr];return null!==c&&(o[pr]=c.createEmbeddedView(a)),af(a,o,n),new Bo(o)}};function CF(){return Jc(Un(),Ie())}function Jc(e,n){return 4&e.type?new bF(n,e,Sa(e,n)):null}let sr=(()=>{class e{}return e.__NG_ELEMENT_ID__=kF,e})();function kF(){return Ux(Un(),Ie())}const MF=sr,Gx=class extends MF{constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return Sa(this._hostTNode,this._hostLView)}get injector(){return new ua(this._hostTNode,this._hostLView)}get parentInjector(){const n=Qd(this._hostTNode,this._hostLView);if(A_(n)){const t=sc(n,this._hostLView),i=rc(n);return new ua(t[rt].data[i+8],t)}return new ua(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=Wx(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Zn}createEmbeddedView(n,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=n.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(o,r,false),o}createComponent(n,t,i,r,s){const a=n&&!function yo(e){return"function"==typeof e}(n);let o;if(a)o=t;else{const ae=t||{};o=ae.index,i=ae.injector,r=ae.projectableNodes,s=ae.environmentInjector||ae.ngModuleRef}const l=a?n:new Vo(Zt(n)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const J=(a?c:this.parentInjector).get(Ca,null);J&&(s=J)}Zt(l.componentType??{});const k=l.create(c,r,null,s);return this.insertImpl(k.hostView,o,false),k}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,i){const r=n._lView,s=r[rt];if(function F1(e){return xi(e[Cn])}(r)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const c=r[Cn],d=new Gx(c,c[Kn],c[Cn]);d.detach(d.indexOf(n))}}const a=this._adjustIndex(t),o=this._lContainer;if(function sE(e,n,t,i){const r=Zn+i,s=t.length;i>0&&(t[r-1][tr]=n),i<s-Zn?(n[tr]=t[r],V_(t,Zn+i,n)):(t.push(n),n[tr]=null),n[Cn]=t;const a=n[po];null!==a&&t!==a&&function aE(e,n){const t=e[sa];n[Mn]!==n[Cn][Cn][Mn]&&(e[Wm]=!0),null===t?e[sa]=[n]:t.push(n)}(a,n);const o=n[pr];null!==o&&o.insertView(e),n[kt]|=128}(s,r,o,a),!i){const l=vh(a,o),c=r[Mt],d=yc(c,o[gr]);null!==d&&function nE(e,n,t,i,r,s){i[Bn]=r,i[Kn]=n,Ao(e,i,t,1,r,s)}(s,o[Kn],c,r,d,l)}return n.attachToViewContainerRef(),V_(Vf(o),a,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=Wx(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),i=ph(this._lContainer,t);i&&(cc(Vf(this._lContainer),t),dv(i[rt],i))}detach(n){const t=this._adjustIndex(n,-1),i=ph(this._lContainer,t);return i&&null!=cc(Vf(this._lContainer),t)?new Bo(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function Wx(e){return e[8]}function Vf(e){return e[8]||(e[8]=[])}function Ux(e,n){let t;const i=n[e.index];return xi(i)?t=i:(t=E0(i,n,null,e),n[e.index]=t,Nc(n,t)),Xx(t,n,e,i),new Gx(t,e,n)}let Xx=function Yx(e,n,t,i){if(e[gr])return;let r;r=8&t.type?mn(i):function PF(e,n){const t=e[Mt],i=t.createComment(""),r=bi(n,e);return Ds(t,yc(t,r),i,function uE(e,n){return e.nextSibling(n)}(t,r),!1),i}(n,t),e[gr]=r};class Hf{constructor(n){this.queryList=n,this.matches=null}clone(){return new Hf(this.queryList)}setDirty(){this.queryList.setDirty()}}class $f{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const i=null!==n.contentQueries?n.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const a=t.getByIndex(s);r.push(this.queries[a.indexInDeclarationView].clone())}return new $f(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Jx(n,t).matches&&this.queries[t].setDirty()}}class qx{constructor(n,t,i=null){this.predicate=n,this.flags=t,this.read=i}}class zf{constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(n,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new zf(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class jf{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new jf(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(n,t,IF(t,s)),this.matchTNodeWithReadOption(n,t,lc(t,n,s,!1,!1))}else i===Hr?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,lc(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Xn||r===sr||r===Hr&&4&t.type)this.addMatch(t.index,-2);else{const s=lc(t,n,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function IF(e,n){const t=e.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1];return null}function RF(e,n,t,i){return-1===t?function OF(e,n){return 11&e.type?Sa(e,n):4&e.type?Jc(e,n):null}(n,e):-2===t?function NF(e,n,t){return t===Xn?Sa(n,e):t===Hr?Jc(n,e):t===sr?Ux(n,e):void 0}(e,n,i):As(e,e[rt],t,n)}function Qx(e,n,t,i){const r=n[pr].queries[i];if(null===r.matches){const s=e.data,a=t.matches,o=[];for(let l=0;l<a.length;l+=2){const c=a[l];o.push(c<0?null:RF(n,s[c],a[l+1],t.metadata.read))}r.matches=o}return r.matches}function Gf(e,n,t,i){const r=e.queries.getByIndex(t),s=r.matches;if(null!==s){const a=Qx(e,n,r,t);for(let o=0;o<s.length;o+=2){const l=s[o];if(l>0)i.push(a[o/2]);else{const c=s[o+1],d=n[-l];for(let f=Zn;f<d.length;f++){const b=d[f];b[po]===b[Cn]&&Gf(b[rt],b,c,i)}if(null!==d[sa]){const f=d[sa];for(let b=0;b<f.length;b++){const k=f[b];Gf(k[rt],k,c,i)}}}}}return i}function Wi(e){const n=Ie(),t=Wt(),i=m_();jd(i+1);const r=Jx(t,i);if(e.dirty&&function P1(e){return 4==(4&e[kt])}(n)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?Gf(t,n,i,[]):Qx(t,n,r,i);e.reset(s,ck),e.notifyOnChanges()}return!0}return!1}function Sr(e,n,t){const i=Wt();i.firstCreatePass&&(Zx(i,new qx(e,n,t),-1),2==(2&n)&&(i.staticViewQueries=!0)),Kx(i,Ie(),n)}function Wf(e,n,t,i){const r=Wt();if(r.firstCreatePass){const s=Un();Zx(r,new qx(n,t,i),s.index),function VF(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(r,e),2==(2&t)&&(r.staticContentQueries=!0)}Kx(r,Ie(),t)}function Ui(){return function BF(e,n){return e[pr].queries[n].queryList}(Ie(),m_())}function Kx(e,n,t){const i=new Nf(4==(4&t));(function Lk(e,n,t,i){const r=M0(n);r.push(t),e.firstCreatePass&&P0(e).push(i,r.length-1)})(e,n,i,i.destroy),null===n[pr]&&(n[pr]=new $f),n[pr].queries.push(new Hf(i))}function Zx(e,n,t){null===e.queries&&(e.queries=new zf),e.queries.track(new jf(n,t))}function Jx(e,n){return e.queries.getByIndex(n)}function $a(e,n){return Jc(e,n)}const aI=new bt("Application Initializer");let Qf=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=vn(aI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(gf(s))t.push(s);else if(oy(s)){const a=new Promise((o,l)=>{s.subscribe({complete:o,error:l})});t.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const $r=new bt("LocaleId",{providedIn:"root",factory:()=>vn($r,Ht.Optional|Ht.SkipSelf)||function lI(){return typeof $localize<"u"&&$localize.locale||Va}()});let dI=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new y(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function yb(...e){}class _n{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mt(!1),this.onMicrotaskEmpty=new mt(!1),this.onStable=new mt(!1),this.onError=new mt(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function gI(){const e="function"==typeof on.requestAnimationFrame;let n=on[e?"requestAnimationFrame":"setTimeout"],t=on[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function vI(e){const n=()=>{!function _I(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(on,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Zf(e),e.isCheckStableRunning=!0,Kf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Zf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,a,o)=>{try{return xb(e),t.invokeTask(r,s,a,o)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),bb(e)}},onInvoke:(t,i,r,s,a,o,l)=>{try{return xb(e),t.invoke(r,s,a,o,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),bb(e)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Zf(e),Kf(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_n.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(_n.isInAngularZone())throw new Be(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,n,mI,yb,yb);try{return s.runTask(a,t,i)}finally{s.cancelTask(a)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}}const mI={};function Kf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Zf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function xb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function bb(e){e._nesting--,Kf(e)}class yI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mt,this.onMicrotaskEmpty=new mt,this.onStable=new mt,this.onError=new mt}run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}}const Cb=new bt("",{providedIn:"root",factory:wb});function wb(){const e=vn(_n);let n=!0;return function kA(...e){const n=mm(e),t=function CA(e,n){return"number"==typeof _d(e)?e.pop():n}(e,1/0),i=e;return i.length?1===i.length?En(i[0]):function yA(e=1/0){return md(he,e)}(t)(Ol(i,n)):gm}(new ve(r=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{r.next(n),r.complete()})}),new ve(r=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{_n.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,r.next(!0))})})});const a=e.onUnstable.subscribe(()=>{_n.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),a.unsubscribe()}}).pipe(bm()))}const Tb=new bt(""),tu=new bt("");let tp,Jf=(()=>{class e{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tp||(function xI(e){tp=e}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_n.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return e.\u0275fac=function(t){return new(t||e)(vt(_n),vt(ep),vt(tu))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),e})(),ep=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return tp?.findTestabilityInTree(this,t,i)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),ps=null;const Sb=new bt("AllowMultipleToken"),np=new bt("PlatformDestroyListeners"),Ab=new bt("appBootstrapListener");function kb(e,n,t=[]){const i=`Platform: ${n}`,r=new bt(i);return(s=[])=>{let a=ip();if(!a||a.injector.get(Sb,!1)){const o=[...t,...s,{provide:r,useValue:!0}];e?e(o):function wI(e){if(ps&&!ps.get(Sb,!1))throw new Be(400,!1);(function Db(){!function b1(e){Km=e}(()=>{throw new Be(600,!1)})})(),ps=e;const n=e.get(Pb);(function Eb(e){e.get(Wv,null)?.forEach(t=>t())})(e)}(function Mb(e=[],n){return Br.create({name:n,providers:[{provide:Ph,useValue:"platform"},{provide:np,useValue:new Set([()=>ps=null])},...e]})}(o,i))}return function SI(e){const n=ip();if(!n)throw new Be(401,!1);return n}()}}function ip(){return ps?.get(Pb)??null}let Pb=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function AI(e="zone.js",n){return"noop"===e?new yI:"zone.js"===e?new _n(n):e}(i?.ngZone,function Lb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function WL(e,n,t){return new Pf(e,n,t)}(t.moduleType,this.injector,function Nb(e){return[{provide:_n,useFactory:e},{provide:Sc,multi:!0,useFactory:()=>{const n=vn(EI,{optional:!0});return()=>n.initialize()}},{provide:Rb,useFactory:DI},{provide:Cb,useFactory:wb}]}(()=>r)),a=s.injector.get(ks,null);return r.runOutsideAngular(()=>{const o=r.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{nu(this._modules,s),o.unsubscribe()})}),function Fb(e,n,t){try{const i=t();return gf(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}(a,r,()=>{const o=s.injector.get(Qf);return o.runInitializers(),o.donePromise.then(()=>(function ix(e){Hi(e,"Expected localeId to be defined"),"string"==typeof e&&(nx=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get($r,Va)||Va),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=Ib({},i);return function bI(e,n,t){const i=new Lf(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Is);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Be(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(np,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(vt(Br))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Ib(e,n){return Array.isArray(n)?n.reduce(Ib,e):{...e,...n}}let Is=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=vn(Rb),this.zoneIsStable=vn(Cb),this.componentTypes=[],this.components=[],this.isStable=vn(dI).hasPendingTasks.pipe(function MA(e,n){return T((t,i)=>{let r=null,s=0,a=!1;const o=()=>a&&!r&&i.complete();t.subscribe(x(i,l=>{r?.unsubscribe();let c=0;const d=s++;En(e(l,d)).subscribe(r=x(i,f=>i.next(n?n(l,f,d,c++):f),()=>{r=null,o()}))},()=>{a=!0,o()}))})}(t=>t?xm(!1):this.zoneIsStable),function PA(e,n=he){return e=e??LA,T((t,i)=>{let r,s=!0;t.subscribe(x(i,a=>{const o=n(a);(s||!e(r,o))&&(s=!1,r=o,i.next(a))}))})}(),bm()),this._injector=vn(Ca)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof Jv;if(!this._injector.get(Qf).done)throw!r&&function uo(e){const n=Zt(e)||Qn(e)||yi(e);return null!==n&&n.standalone}(t),new Be(405,!1);let a;a=r?t:this._injector.get(Fo).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const o=function CI(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Ha),c=a.create(Br.NULL,[],i||a.selector,o),d=c.location.nativeElement,f=c.injector.get(Tb,null);return f?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),nu(this.components,c),f?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;nu(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(Ab,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>nu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Be(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function nu(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const Rb=new bt("",{providedIn:"root",factory:()=>vn(ks).handleError.bind(void 0)});function DI(){const e=vn(_n),n=vn(ks);return t=>e.runOutsideAngular(()=>n.handleError(t))}let EI=(()=>{class e{constructor(){this.zone=vn(_n),this.applicationRef=vn(Is)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let Jo=(()=>{class e{}return e.__NG_ELEMENT_ID__=MI,e})();function MI(e){return function PI(e,n,t){if(ws(e)&&!t){const i=Li(e.index,n);return new Bo(i,i)}return 47&e.type?new Bo(n[Mn],n):null}(Un(),Ie(),16==(16&e))}class $b{constructor(){}supports(n){return $c(n)}create(n){return new NI(n)}}const RI=(e,n)=>n;class NI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||RI}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const a=!i||t&&t.currentIndex<jb(i,r,s)?t:i,o=jb(a,r,s),l=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(t=t._next,null==a.previousIndex)r++;else{s||(s=[]);const c=o-r,d=l-r;if(c!=d){for(let b=0;b<c;b++){const k=b<s.length?s[b]:s[b]=0,$=k+b;d<=$&&$<c&&(s[b]=k+1)}s[a.previousIndex]=d-c}}o!==l&&n(a,o,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!$c(n))throw new Be(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,s,a,t=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let o=0;o<this.length;o++)s=n[o],a=this._trackByFn(o,s),null!==t&&Object.is(t.trackById,a)?(i&&(t=this._verifyReinsertion(t,s,a,o)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,o),i=!0),t=t._next}else r=0,function DM(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let i;for(;!(i=t.next()).done;)n(i.value)}}(n,o=>{a=this._trackByFn(r,o),null!==t&&Object.is(t.trackById,a)?(i&&(t=this._verifyReinsertion(t,o,a,r)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,a,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,s,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,s,r)):n=this._addAfter(new BI(t,i),s,r),n}_verifyReinsertion(n,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?n=this._reinsertAfter(s,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,s=n._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){const r=null===t?this._itHead:t._next;return n._next=r,n._prev=t,null===r?this._itTail=n:r._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new zb),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,i=n._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class BI{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const t=n._prevDup,i=n._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class zb{constructor(){this.map=new Map}put(n){const t=n.trackById;let i=this.map.get(t);i||(i=new VI,this.map.set(t,i)),i.add(n)}get(n,t){const r=this.map.get(n);return r?r.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jb(e,n,t){const i=e.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}function Wb(){return new su([new $b])}let su=(()=>{class e{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||Wb()),deps:[[e,new rh,new ih]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Be(901,!1)}}return e.\u0275prov=Gt({token:e,providedIn:"root",factory:Wb}),e})();const GI=kb(null,"core",[]);let WI=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(vt(Is))},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({}),e})(),up=null;function dp(){return up}class nO{}const zr=new bt("DocumentToken");class WO{constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ar=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new WO(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const o=i.get(s);i.move(o,a),cC(o,r)}});for(let r=0,s=i.length;r<s;r++){const o=i.get(r).context;o.index=r,o.count=s,o.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{cC(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return e.\u0275fac=function(t){return new(t||e)(nt(sr),nt(Hr),nt(su))},e.\u0275dir=_i({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function cC(e,n){e.context.$implicit=n.item}let jn=(()=>{class e{constructor(t,i){this._viewContainer=t,this._context=new UO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){uC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){uC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return e.\u0275fac=function(t){return new(t||e)(nt(sr),nt(Hr))},e.\u0275dir=_i({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class UO{constructor(){this.$implicit=null,this.ngIf=null}}function uC(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Nn(n)}'.`)}let hC=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,s,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(nt(sr))},e.\u0275dir=_i({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[xn]}),e})(),il=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({}),e})();const pC="browser";function Wr(e){return e===pC}function Wa(e){return"server"===e}class UR extends nO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ep extends UR{static makeCurrent(){!function tO(e){up||(up=e)}(new Ep)}onAndCancel(n,t,i){return n.addEventListener(t,i),()=>{n.removeEventListener(t,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function XR(){return sl=sl||document.querySelector("base"),sl?sl.getAttribute("href"):null}();return null==t?null:function YR(e){yu=yu||document.createElement("a"),yu.setAttribute("href",e);const n=yu.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){sl=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function zO(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(s)}return null}(document.cookie,n)}}let yu,sl=null,QR=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),e})();const kp=new bt("EventManagerPlugins");let xC=(()=>{class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new Be(5101,!1);return this._eventNameToPlugin.set(t,i),i}}return e.\u0275fac=function(t){return new(t||e)(vt(kp),vt(_n))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),e})();class bC{constructor(n){this._doc=n}}const Mp="ng-app-id";let CC=(()=>{class e{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wa(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Mp}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(Mp),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Mp,this.appId),a}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(vt(zr),vt(Ec),vt(Xv,8),vt(wi))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),e})();const Pp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lp=/%COMP%/g,e2=new bt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function TC(e,n){return n.map(t=>t.replace(Lp,e))}let Fp=(()=>{class e{constructor(t,i,r,s,a,o,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=o,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Wa(o),this.defaultRenderer=new Ip(t,a,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===$i.ShadowDom&&(i={...i,encapsulation:$i.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof AC?r.applyToHost(t):r instanceof Op&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const a=this.doc,o=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case $i.Emulated:s=new AC(l,c,i,this.appId,d,a,o,f);break;case $i.ShadowDom:return new s2(l,c,t,i,a,o,this.nonce,f);default:s=new Op(l,c,i,d,a,o,f)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return e.\u0275fac=function(t){return new(t||e)(vt(xC),vt(CC),vt(Ec),vt(e2),vt(zr),vt(wi),vt(_n),vt(Xv))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),e})();class Ip{constructor(n,t,i,r){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Pp[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(SC(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(SC(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new Be(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;const s=Pp[r];s?n.setAttributeNS(s,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){const r=Pp[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(cs.DashCase|cs.Important)?n.style.setProperty(t,i,r&cs.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&cs.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n[t]=i}setValue(n,t){n.nodeValue=t}listen(n,t,i){if("string"==typeof n&&!(n=dp().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(i))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function SC(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class s2 extends Ip{constructor(n,t,i,r,s,a,o,l){super(n,s,a,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=TC(r.id,r.styles);for(const d of c){const f=document.createElement("style");o&&f.setAttribute("nonce",o),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Op extends Ip{constructor(n,t,i,r,s,a,o,l){super(n,s,a,o),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?TC(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class AC extends Op{constructor(n,t,i,r,s,a,o,l){const c=r+"-"+i.id;super(n,t,i,s,a,o,l,c),this.contentAttr=function t2(e){return"_ngcontent-%COMP%".replace(Lp,e)}(c),this.hostAttr=function n2(e){return"_nghost-%COMP%".replace(Lp,e)}(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}}let a2=(()=>{class e extends bC{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return e.\u0275fac=function(t){return new(t||e)(vt(zr))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),e})();const DC=["alt","control","meta","shift"],o2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},l2={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let c2=(()=>{class e extends bC{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,r){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dp().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(i.pop());let a="",o=i.indexOf("code");if(o>-1&&(i.splice(o,1),a="code."),DC.forEach(c=>{const d=i.indexOf(c);d>-1&&(i.splice(d,1),a+=c+".")}),a+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=a,l}static matchEventFullKeyCode(t,i){let r=o2[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),DC.forEach(a=>{a!==r&&(0,l2[a])(t)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{e.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(vt(zr))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),e})();const f2=kb(GI,"browser",[{provide:wi,useValue:pC},{provide:Wv,useValue:function u2(){Ep.makeCurrent()},multi:!0},{provide:zr,useFactory:function h2(){return function vE(e){bh=e}(document),document},deps:[]}]),p2=new bt(""),MC=[{provide:tu,useClass:class qR{addToWindow(n){on.getAngularTestability=(i,r=!0)=>{const s=n.findTestabilityInTree(i,r);if(null==s)throw new Be(5103,!1);return s},on.getAllAngularTestabilities=()=>n.getAllTestabilities(),on.getAllAngularRootElements=()=>n.getAllRootElements(),on.frameworkStabilizers||(on.frameworkStabilizers=[]),on.frameworkStabilizers.push(i=>{const r=on.getAllAngularTestabilities();let s=r.length,a=!1;const o=function(l){a=a||l,s--,0==s&&i(a)};r.forEach(l=>{l.whenStable(o)})})}findTestabilityInTree(n,t,i){return null==t?null:n.getTestability(t)??(i?dp().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:Tb,useClass:Jf,deps:[_n,ep,tu]},{provide:Jf,useClass:Jf,deps:[_n,ep,tu]}],PC=[{provide:Ph,useValue:"root"},{provide:ks,useFactory:function d2(){return new ks},deps:[]},{provide:kp,useClass:a2,multi:!0,deps:[zr,_n,wi]},{provide:kp,useClass:c2,multi:!0,deps:[zr]},Fp,CC,xC,{provide:Io,useExisting:Fp},{provide:class wR{},useClass:QR,deps:[]},[]];let LC=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Ec,useValue:t.appId}]}}}return e.\u0275fac=function(t){return new(t||e)(vt(p2,12))},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({providers:[...PC,...MC],imports:[il,WI]}),e})();typeof window<"u"&&window;let Np=(()=>{class e{constructor(){this.ip="",this.ipDetails={},this.weatherData={}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class RC{}class b2{}const Ur="*";function al(e,n){return{type:7,name:e,definitions:n,options:{}}}function Rs(e,n=null){return{type:4,styles:n,timings:e}}function NC(e,n=null){return{type:2,steps:e,options:n}}function ni(e){return{type:6,styles:e,offset:null}}function Ns(e,n,t=null){return{type:1,expr:e,animation:n,options:t}}class ol{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class BC{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,o)=>Math.max(a,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}let C2=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["app-welcome-page"]],decls:40,vars:0,consts:[["id","homeContentContainer"],["id","homeContentContainerLeft"],["id","welcomeText"],["id","dot1"],["id","dot2"],["id","dot3"],["id","paragraphDescription"],[1,"disclaimer"],["id","homeContentContainerRight"],["id","techInfoContainer"],["src","../../../assets/img/Logos/azure.png",1,"logos"],["src","../../../assets/img/Logos/css.png",1,"logos"],["src","../../../assets/img/Logos/django.png",1,"logos"],["src","../../../assets/img/Logos/docker.png",1,"logos"],["src","../../../assets/img/Logos/github.png",1,"logos"],["src","../../../assets/img/Logos/html.png",1,"logos"],["src","../../../assets/img/Logos/postgres.png",1,"logos"],["src","../../../assets/img/Logos/react.png",1,"logos"],["src","../../../assets/img/Logos/angular.png",1,"logos"],["src","../../../assets/img/Logos/javascript.png",1,"logos","shiftRight"],["id","pythonLogo","src","../../../assets/img/Logos/python.png",1,"logos"],["id","techSeeMoreCV"],["id","palmTreeContainer"],["id","palmTreeSVG","src","../../../assets/img/1554503066.png"]],template:function(t,i){1&t&&(we(0,"div",0)(1,"div",1)(2,"div",2),dt(3," WELCOME "),we(4,"div",3),dt(5,"."),Se(),we(6,"div",4),dt(7,"."),Se(),we(8,"div",5),dt(9,"."),Se()(),we(10,"div",6),dt(11," Thanks for visiting! My name is "),we(12,"i"),dt(13,"Joshua Dalangin"),Se(),dt(14," and I am currently a "),we(15,"i"),dt(16,"Data Analyst and Simulation Engineer"),Se(),dt(17," with an interest in "),we(18,"i"),dt(19,"Full Stack Web Development"),Se(),dt(20,". Please feel free to click about and provide feedback if you'd like! Contact details cane be found on CV or send a message through the about page. "),Se(),we(21,"div",7),dt(22," The site is continuously a work in progress, so come back every now and then to see any updates. "),Se()(),we(23,"div",8)(24,"div",9),ft(25,"img",10)(26,"img",11)(27,"img",12)(28,"img",13)(29,"img",14)(30,"img",15)(31,"img",16)(32,"img",17)(33,"img",18)(34,"img",19)(35,"img",20),Se(),we(36,"div",21),dt(37," See CV for more.. "),Se()(),we(38,"div",22),ft(39,"img",23),Se()())},styles:["#homeContentContainer[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;left:0;top:0}#homeContentContainerLeft[_ngcontent-%COMP%]{position:absolute;top:10%;left:10%;width:40%}#homeContentContainerRight[_ngcontent-%COMP%]{--computedWidth:40vw;position:absolute;top:5%;left:55%;width:var(--computedWidth);height:var(--computedWidth);background:rgba(255,255,255,.847);border-radius:50%;box-shadow:5px 5px 50px #d4d0c2}#palmTreeSVG[_ngcontent-%COMP%]{width:100%;object-fit:cover;object-position:top left;opacity:.8;z-index:-1;position:absolute;bottom:0}#palmTreeContainer[_ngcontent-%COMP%]{height:100%;pointer-events:none;width:100%;position:absolute;top:53vw}#myName[_ngcontent-%COMP%]{font-size:90px;font-weight:600}#paragraphDescription[_ngcontent-%COMP%]{font-size:2vw;font-weight:600;animation:_ngcontent-%COMP%_fadeIn 8s}.disclaimer[_ngcontent-%COMP%]{margin-top:5%;color:#000;font-size:1.5vw}#techInfoContainer[_ngcontent-%COMP%]{margin-left:15%;margin-top:7%}.logos[_ngcontent-%COMP%]{width:9.5vw}.logos[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.shiftRight[_ngcontent-%COMP%]{margin-left:15%}#techSeeMoreCV[_ngcontent-%COMP%]{position:absolute;right:-15%;bottom:22%;transform:rotate(-65deg);font-weight:700;font-size:2vw}#welcomeText[_ngcontent-%COMP%]{font-size:8vw;display:flex;animation:_ngcontent-%COMP%_fadeIn 3s}@keyframes _ngcontent-%COMP%_fadeInDot1{0%{opacity:0}33%{opacity:1}33%{opacity:1}}@keyframes _ngcontent-%COMP%_fadeInDot2{0%{opacity:0}66%{opacity:1}}@keyframes _ngcontent-%COMP%_fadeInDot3{0%{opacity:0}to{opacity:1}}#dot1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInDot1 3s infinite}#dot2[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInDot2 3s infinite}#dot3[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInDot3 3s infinite}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]}),e})(),w2=(()=>{class e{constructor(){this.defaultPageView="",this.setContentView=new mt,this.showCVEmit=new mt,this.bannerElements=document.getElementsByClassName("banner"),this.bannerBackgroundHoverClassNames=["homeBannerHoverBackground","welcomeBannerHoverBackground","aboutBannerHoverBackground","projectBannerHoverBackground"]}ngAfterContentInit(){this.updatePage(this.defaultPageView)}welcomePage(){this.setContentView.emit("Welcome"),this.removeCommonBannerStyling(),this.addBackgroundHoverClass("welcomeBannerHoverBackground"),document.getElementById("welcomeBannerText").style.fontWeight="600"}homePage(){this.setContentView.emit("Home"),this.removeCommonBannerStyling(),this.addBackgroundHoverClass("homeBannerHoverBackground"),document.getElementById("homeBannerText").style.fontWeight="600"}projectPage(){this.setContentView.emit("Project"),this.removeCommonBannerStyling(),this.addBackgroundHoverClass("projectBannerHoverBackground"),document.getElementById("projectBannerText").style.fontWeight="600"}aboutPage(){this.setContentView.emit("About"),this.removeCommonBannerStyling(),this.addBackgroundHoverClass("aboutBannerHoverBackground"),document.getElementById("aboutBannerText").style.fontWeight="600"}updatePage(t){({Home:()=>this.homePage(),Welcome:()=>this.welcomePage(),About:()=>this.aboutPage(),Project:()=>this.projectPage()})[t]()}removeCommonBannerStyling(){Array.from(this.bannerElements).forEach(t=>{t.classList.contains("bannerOptions")&&(t.style.fontWeight="normal"),this.bannerBackgroundHoverClassNames.forEach(i=>{t.classList.remove(i)})})}addBackgroundHoverClass(t){Array.from(this.bannerElements).forEach(i=>{i.classList.add(t)})}showCVPage(){this.showCVEmit.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["app-content-banner"]],inputs:{defaultPageView:"defaultPageView"},outputs:{setContentView:"setContentView",showCVEmit:"showCVEmit"},decls:19,vars:0,consts:[["id","contentBannerCorner"],["id","bannerAppNavigation"],["id","welcomeBannerText",1,"banner","bannerOptions",3,"click"],["id","homeBannerText",1,"banner","bannerOptions",3,"click"],["id","projectBannerText",1,"banner","bannerOptions",3,"click"],["id","aboutBannerText",1,"banner","bannerOptions",3,"click"],["id","bannerLinks"],["target","_blank","href","https://www.linkedin.com/in/joshuadalangin/"],[1,"banner","linksOption","homeBannerHoverBackground"],["target","_blank","href","https://github.com/WS325427"],[1,"banner","linksOption","homeBannerHoverBackground",3,"click"]],template:function(t,i){1&t&&(we(0,"div",0)(1,"div",1)(2,"div",2),$t("click",function(){return i.welcomePage()}),dt(3," Welcome "),Se(),we(4,"div",3),$t("click",function(){return i.homePage()}),dt(5," Home "),Se(),we(6,"div",4),$t("click",function(){return i.projectPage()}),dt(7," Projects "),Se(),we(8,"div",5),$t("click",function(){return i.aboutPage()}),dt(9," About "),Se()(),we(10,"div",6)(11,"a",7)(12,"div",8),dt(13,"LinkedIn"),Se()(),we(14,"a",9)(15,"div",8),dt(16,"GitHub"),Se()(),we(17,"div",10),$t("click",function(){return i.showCVPage()}),dt(18," CV "),Se()()())},styles:["#bannerAppNavigation[_ngcontent-%COMP%]{display:flex;position:absolute;top:0;left:0;width:auto;border-radius:0%}.bannerOptions[_ngcontent-%COMP%]{padding:1% 3%;font-size:3.8vw;color:#fff}.welcomeBannerHoverBackground[_ngcontent-%COMP%]:hover{background:#97C1FF}.homeBannerHoverBackground[_ngcontent-%COMP%]:hover{background:#2f2d2c}.aboutBannerHoverBackground[_ngcontent-%COMP%]:hover{background-color:#5e5246}.projectBannerHoverBackground[_ngcontent-%COMP%]:hover{background-color:#c23d92}#bannerLinks[_ngcontent-%COMP%]{position:absolute;right:0;top:0;direction:rtl}.linksOption[_ngcontent-%COMP%]{padding:3% 5px;font-size:2.4vw;font-weight:bolder;color:#fff}a[_ngcontent-%COMP%]{text-decoration:none}.disabled[_ngcontent-%COMP%]{pointer-events:none;color:gray}"]}),e})(),T2=(()=>{class e{constructor(){this.date="Monday 1st January",this.hours="00",this.minutes="00",this.seconds="00",this.dateOptions={weekday:"long",year:"numeric",month:"short",day:"numeric"}}ngAfterContentInit(){setInterval(()=>{this.updateTime()},1e3)}updateTime(){const t=new Date((new Date).getTime()+1e3);this.hours=this.formatDigitsLessThanTen(t.getHours()),this.minutes=this.formatDigitsLessThanTen(t.getMinutes()),this.seconds=this.formatDigitsLessThanTen(t.getSeconds()),this.date=t.toLocaleDateString("en-us",this.dateOptions)}formatDigitsLessThanTen(t){return t<10?"0"+t.toString():t.toString()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["app-digital-clock"]],decls:11,vars:4,consts:[["id","timeBlocks"],["id","clockHour",1,"timeNumber"],["id","clockMinute",1,"timeNumber"],["id","clockSecond",1,"timeNumber"],["id","dateBlock"]],template:function(t,i){1&t&&(we(0,"div")(1,"div")(2,"div",0)(3,"div",1),dt(4),Se(),we(5,"div",2),dt(6),Se(),we(7,"div",3),dt(8),Se()(),we(9,"div",4),dt(10),Se()()()),2&t&&(Ee(4),Gi(i.hours),Ee(2),Gi(i.minutes),Ee(2),Gi(i.seconds),Ee(2),Yn(" ",i.date," "))},styles:[".timeNumber[_ngcontent-%COMP%]{font-size:8vw;margin-right:2%;margin-left:2%;margin-bottom:2%;background:black;color:#fff;border-radius:50%}#timeBlocks[_ngcontent-%COMP%]{display:flex;justify-content:right}#dateBlock[_ngcontent-%COMP%]{text-align:right;margin-right:2%}div[_ngcontent-%COMP%]{color:#fff}"]}),e})();class Vp{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class VC extends Vp{constructor(n,t,i,r,s){super(),this.component=n,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class S2 extends Vp{constructor(n,t,i,r){super(),this.templateRef=n,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(n,t=this.context){return this.context=t,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class A2 extends Vp{constructor(n){super(),this.element=n instanceof Xn?n.nativeElement:n}}class D2{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof VC?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof S2?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof A2?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class E2 extends D2{constructor(n,t,i,r,s){super(),this.outletElement=n,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const o=a.element,l=this._document.createComment("dom-portal");o.parentNode.insertBefore(l,o),this.outletElement.appendChild(o),this._attachedPortal=a,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(o,l)})},this._document=s}attachComponentPortal(n){const i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let r;return n.viewContainerRef?(r=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(n.injector||this._defaultInjector||Br.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=n,r}attachTemplatePortal(n){let t=n.viewContainerRef,i=t.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}const{isArray:k2}=Array;const L2=["addListener","removeListener"],F2=["addEventListener","removeEventListener"],I2=["on","off"];function Tn(e,n,t,i){if(h(t)&&(i=t,t=void 0),i)return Tn(e,n,t).pipe(function P2(e){return ue(n=>function M2(e,n){return k2(n)?e(...n):e(n)}(e,n))}(i));const[r,s]=function N2(e){return h(e.addEventListener)&&h(e.removeEventListener)}(e)?F2.map(a=>o=>e[a](n,o,t)):function O2(e){return h(e.addListener)&&h(e.removeListener)}(e)?L2.map(HC(e,n)):function R2(e){return h(e.on)&&h(e.off)}(e)?I2.map(HC(e,n)):[];if(!r&&Lt(e))return md(a=>Tn(a,n,t))(En(e));if(!r)throw new TypeError("Invalid event target");return new ve(a=>{const o=(...l)=>a.next(1<l.length?l:l[0]);return r(o),()=>s(o)})}function HC(e,n){return t=>i=>e[t](n,i)}class B2 extends N{constructor(n,t){super()}schedule(n,t=0){return this}}const xu={setInterval(e,n,...t){const{delegate:i}=xu;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=xu;return(n?.clearInterval||clearInterval)(e)},delegate:void 0},$C={now:()=>($C.delegate||Date).now(),delegate:void 0};class ll{constructor(n,t=ll.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}}ll.now=$C.now;const $2=new class H2 extends ll{constructor(n,t=ll.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}}(class V2 extends B2{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(n,t,i=0){return xu.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&xu.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r,i=!1;try{this.work(n)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ie(i,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}});function zC(e,n=$2){return T((t,i)=>{let r=null,s=null,a=null;const o=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=a+e,d=n.now();if(d<c)return r=this.schedule(void 0,c-d),void i.add(r);o()}t.subscribe(x(i,c=>{s=c,a=n.now(),r||(r=n.schedule(l,e),i.add(r))},()=>{o(),i.complete()},void 0,()=>{s=r=null}))})}function z2(){}function Hp(e){return null==e?z2:function(){return this.querySelector(e)}}function W2(){return[]}function jC(e){return null==e?W2:function(){return this.querySelectorAll(e)}}function GC(e){return function(){return this.matches(e)}}function WC(e){return function(n){return n.matches(e)}}var Y2=Array.prototype.find;function Q2(){return this.firstElementChild}var Z2=Array.prototype.filter;function J2(){return Array.from(this.children)}function UC(e){return new Array(e.length)}function bu(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}function sN(e,n,t,i,r,s){for(var o,a=0,l=n.length,c=s.length;a<c;++a)(o=n[a])?(o.__data__=s[a],i[a]=o):t[a]=new bu(e,s[a]);for(;a<l;++a)(o=n[a])&&(r[a]=o)}function aN(e,n,t,i,r,s,a){var o,l,k,c=new Map,d=n.length,f=s.length,b=new Array(d);for(o=0;o<d;++o)(l=n[o])&&(b[o]=k=a.call(l,l.__data__,o,n)+"",c.has(k)?r[o]=l:c.set(k,l));for(o=0;o<f;++o)k=a.call(e,s[o],o,s)+"",(l=c.get(k))?(i[o]=l,l.__data__=s[o],c.delete(k)):t[o]=new bu(e,s[o]);for(o=0;o<d;++o)(l=n[o])&&c.get(b[o])===l&&(r[o]=l)}function oN(e){return e.__data__}function cN(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function gN(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}bu.prototype={constructor:bu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var $p="http://www.w3.org/1999/xhtml";const XC={svg:"http://www.w3.org/2000/svg",xhtml:$p,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cu(e){var n=e+="",t=n.indexOf(":");return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),XC.hasOwnProperty(n)?{space:XC[n],local:e}:e}function CN(e){return function(){this.removeAttribute(e)}}function wN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TN(e,n){return function(){this.setAttribute(e,n)}}function SN(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function AN(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function DN(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function YC(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function kN(e){return function(){this.style.removeProperty(e)}}function MN(e,n,t){return function(){this.style.setProperty(e,n,t)}}function PN(e,n,t){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,t)}}function Ua(e,n){return e.style.getPropertyValue(n)||YC(e).getComputedStyle(e,null).getPropertyValue(n)}function FN(e){return function(){delete this[e]}}function IN(e,n){return function(){this[e]=n}}function ON(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function qC(e){return e.trim().split(/^|\s+/)}function zp(e){return e.classList||new QC(e)}function QC(e){this._node=e,this._names=qC(e.getAttribute("class")||"")}function KC(e,n){for(var t=zp(e),i=-1,r=n.length;++i<r;)t.add(n[i])}function ZC(e,n){for(var t=zp(e),i=-1,r=n.length;++i<r;)t.remove(n[i])}function NN(e){return function(){KC(this,e)}}function BN(e){return function(){ZC(this,e)}}function VN(e,n){return function(){(n.apply(this,arguments)?KC:ZC)(this,e)}}function $N(){this.textContent=""}function zN(e){return function(){this.textContent=e}}function jN(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function WN(){this.innerHTML=""}function UN(e){return function(){this.innerHTML=e}}function XN(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function qN(){this.nextSibling&&this.parentNode.appendChild(this)}function KN(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function JN(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===$p&&n.documentElement.namespaceURI===$p?n.createElement(e):n.createElementNS(t,e)}}function eB(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function JC(e){var n=Cu(e);return(n.local?eB:JN)(n)}function nB(){return null}function rB(){var e=this.parentNode;e&&e.removeChild(this)}function aB(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function oB(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function hB(e){return function(){var n=this.__on;if(n){for(var s,t=0,i=-1,r=n.length;t<r;++t)s=n[t],e.type&&s.type!==e.type||s.name!==e.name?n[++i]=s:this.removeEventListener(s.type,s.listener,s.options);++i?n.length=i:delete this.__on}}}function fB(e,n,t){return function(){var r,i=this.__on,s=function uB(e){return function(n){e.call(this,n,this.__data__)}}(n);if(i)for(var a=0,o=i.length;a<o;++a)if((r=i[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=t),void(r.value=n);this.addEventListener(e.type,s,t),r={type:e.type,name:e.name,value:n,listener:s,options:t},i?i.push(r):this.__on=[r]}}function ew(e,n,t){var i=YC(e),r=i.CustomEvent;"function"==typeof r?r=new r(n,t):(r=i.document.createEvent("Event"),t?(r.initEvent(n,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(n,!1,!1)),e.dispatchEvent(r)}function gB(e,n){return function(){return ew(this,e,n)}}function mB(e,n){return function(){return ew(this,e,n.apply(this,arguments))}}QC.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var tw=[null];function Ri(e,n){this._groups=e,this._parents=n}function nw(){return new Ri([[document.documentElement]],tw)}Ri.prototype=nw.prototype={constructor:Ri,select:function j2(e){"function"!=typeof e&&(e=Hp(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var l,c,s=n[r],a=s.length,o=i[r]=new Array(a),d=0;d<a;++d)(l=s[d])&&(c=e.call(l,l.__data__,d,s))&&("__data__"in l&&(c.__data__=l.__data__),o[d]=c);return new Ri(i,this._parents)},selectAll:function X2(e){e="function"==typeof e?function U2(e){return function(){return function G2(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):jC(e);for(var n=this._groups,t=n.length,i=[],r=[],s=0;s<t;++s)for(var l,a=n[s],o=a.length,c=0;c<o;++c)(l=a[c])&&(i.push(e.call(l,l.__data__,c,a)),r.push(l));return new Ri(i,r)},selectChild:function K2(e){return this.select(null==e?Q2:function q2(e){return function(){return Y2.call(this.children,e)}}("function"==typeof e?e:WC(e)))},selectChildren:function tN(e){return this.selectAll(null==e?J2:function eN(e){return function(){return Z2.call(this.children,e)}}("function"==typeof e?e:WC(e)))},filter:function nN(e){"function"!=typeof e&&(e=GC(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var l,s=n[r],a=s.length,o=i[r]=[],c=0;c<a;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&o.push(l);return new Ri(i,this._parents)},data:function lN(e,n){if(!arguments.length)return Array.from(this,oN);var t=n?aN:sN,i=this._parents,r=this._groups;"function"!=typeof e&&(e=function rN(e){return function(){return e}}(e));for(var s=r.length,a=new Array(s),o=new Array(s),l=new Array(s),c=0;c<s;++c){var d=i[c],f=r[c],b=f.length,k=cN(e.call(d,d&&d.__data__,c,i)),$=k.length,ae=o[c]=new Array($),J=a[c]=new Array($);t(d,f,ae,J,l[c]=new Array(b),k,n);for(var ke,Re,de=0,be=0;de<$;++de)if(ke=ae[de]){for(de>=be&&(be=de+1);!(Re=J[be])&&++be<$;);ke._next=Re||null}}return(a=new Ri(a,i))._enter=o,a._exit=l,a},enter:function iN(){return new Ri(this._enter||this._groups.map(UC),this._parents)},exit:function uN(){return new Ri(this._exit||this._groups.map(UC),this._parents)},join:function dN(e,n,t){var i=this.enter(),r=this,s=this.exit();return"function"==typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=n&&(r=n(r))&&(r=r.selection()),null==t?s.remove():t(s),i&&r?i.merge(r).order():r},merge:function hN(e){for(var n=e.selection?e.selection():e,t=this._groups,i=n._groups,r=t.length,a=Math.min(r,i.length),o=new Array(r),l=0;l<a;++l)for(var k,c=t[l],d=i[l],f=c.length,b=o[l]=new Array(f),$=0;$<f;++$)(k=c[$]||d[$])&&(b[$]=k);for(;l<r;++l)o[l]=t[l];return new Ri(o,this._parents)},selection:function yB(){return this},order:function fN(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var a,i=e[n],r=i.length-1,s=i[r];--r>=0;)(a=i[r])&&(s&&4^a.compareDocumentPosition(s)&&s.parentNode.insertBefore(a,s),s=a);return this},sort:function pN(e){function n(f,b){return f&&b?e(f.__data__,b.__data__):!f-!b}e||(e=gN);for(var t=this._groups,i=t.length,r=new Array(i),s=0;s<i;++s){for(var c,a=t[s],o=a.length,l=r[s]=new Array(o),d=0;d<o;++d)(c=a[d])&&(l[d]=c);l.sort(n)}return new Ri(r,this._parents).order()},call:function mN(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function _N(){return Array.from(this)},node:function vN(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var i=e[n],r=0,s=i.length;r<s;++r){var a=i[r];if(a)return a}return null},size:function yN(){let e=0;for(const n of this)++e;return e},empty:function xN(){return!this.node()},each:function bN(e){for(var n=this._groups,t=0,i=n.length;t<i;++t)for(var o,r=n[t],s=0,a=r.length;s<a;++s)(o=r[s])&&e.call(o,o.__data__,s,r);return this},attr:function EN(e,n){var t=Cu(e);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((null==n?t.local?wN:CN:"function"==typeof n?t.local?DN:AN:t.local?SN:TN)(t,n))},style:function LN(e,n,t){return arguments.length>1?this.each((null==n?kN:"function"==typeof n?PN:MN)(e,n,t??"")):Ua(this.node(),e)},property:function RN(e,n){return arguments.length>1?this.each((null==n?FN:"function"==typeof n?ON:IN)(e,n)):this.node()[e]},classed:function HN(e,n){var t=qC(e+"");if(arguments.length<2){for(var i=zp(this.node()),r=-1,s=t.length;++r<s;)if(!i.contains(t[r]))return!1;return!0}return this.each(("function"==typeof n?VN:n?NN:BN)(t,n))},text:function GN(e){return arguments.length?this.each(null==e?$N:("function"==typeof e?jN:zN)(e)):this.node().textContent},html:function YN(e){return arguments.length?this.each(null==e?WN:("function"==typeof e?XN:UN)(e)):this.node().innerHTML},raise:function QN(){return this.each(qN)},lower:function ZN(){return this.each(KN)},append:function tB(e){var n="function"==typeof e?e:JC(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function iB(e,n){var t="function"==typeof e?e:JC(e),i=null==n?nB:"function"==typeof n?n:Hp(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function sB(){return this.each(rB)},clone:function lB(e){return this.select(e?oB:aB)},datum:function cB(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function pB(e,n,t){var r,a,i=function dB(e){return e.trim().split(/^|\s+/).map(function(n){var t="",i=n.indexOf(".");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{type:n,name:t}})}(e+""),s=i.length;if(!(arguments.length<2)){for(o=n?fB:hB,r=0;r<s;++r)this.each(o(i[r],n,t));return this}var o=this.node().__on;if(o)for(var d,l=0,c=o.length;l<c;++l)for(r=0,d=o[l];r<s;++r)if((a=i[r]).type===d.type&&a.name===d.name)return d.value},dispatch:function _B(e,n){return this.each(("function"==typeof n?mB:gB)(e,n))},[Symbol.iterator]:function*vB(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var a,i=e[n],r=0,s=i.length;r<s;++r)(a=i[r])&&(yield a)}};const cl=nw;function qi(e){return"string"==typeof e?new Ri([[document.querySelector(e)]],[document.documentElement]):new Ri([[e]],tw)}var xB={value:()=>{}};function iw(){for(var i,e=0,n=arguments.length,t={};e<n;++e){if(!(i=arguments[e]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new wu(t)}function wu(e){this._=e}function CB(e,n){for(var r,t=0,i=e.length;t<i;++t)if((r=e[t]).name===n)return r.value}function rw(e,n,t){for(var i=0,r=e.length;i<r;++i)if(e[i].name===n){e[i]=xB,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=t&&e.push({name:n,value:t}),e}wu.prototype=iw.prototype={constructor:wu,on:function(e,n){var r,t=this._,i=function bB(e,n){return e.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}(e+"",t),s=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++s<a;)if(r=(e=i[s]).type)t[r]=rw(t[r],e.name,n);else if(null==n)for(r in t)t[r]=rw(t[r],e.name,null);return this}for(;++s<a;)if((r=(e=i[s]).type)&&(r=CB(t[r],e.name)))return r},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new wu(e)},call:function(e,n){if((r=arguments.length-2)>0)for(var r,s,t=new Array(r),i=0;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,r=(s=this._[e]).length;i<r;++i)s[i].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(n,t)}};const sw=iw,jp={capture:!0,passive:!1};function Gp(e){e.preventDefault(),e.stopImmediatePropagation()}function Wp(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function aw(e,n){var t=Object.create(e.prototype);for(var i in n)t[i]=n[i];return t}function ul(){}var Tu=1/.7,Xa="\\s*([+-]?\\d+)\\s*",hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SB=/^#([0-9a-f]{3,8})$/,AB=new RegExp(`^rgb\\(${Xa},${Xa},${Xa}\\)$`),DB=new RegExp(`^rgb\\(${Dr},${Dr},${Dr}\\)$`),EB=new RegExp(`^rgba\\(${Xa},${Xa},${Xa},${hl}\\)$`),kB=new RegExp(`^rgba\\(${Dr},${Dr},${Dr},${hl}\\)$`),MB=new RegExp(`^hsl\\(${hl},${Dr},${Dr}\\)$`),PB=new RegExp(`^hsla\\(${hl},${Dr},${Dr},${hl}\\)$`),ow={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function lw(){return this.rgb().formatHex()}function cw(){return this.rgb().formatRgb()}function Bs(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=SB.exec(e))?(t=n[1].length,n=parseInt(n[1],16),6===t?uw(n):3===t?new Ai(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===t?Su(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===t?Su(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=AB.exec(e))?new Ai(n[1],n[2],n[3],1):(n=DB.exec(e))?new Ai(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=EB.exec(e))?Su(n[1],n[2],n[3],n[4]):(n=kB.exec(e))?Su(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=MB.exec(e))?fw(n[1],n[2]/100,n[3]/100,1):(n=PB.exec(e))?fw(n[1],n[2]/100,n[3]/100,n[4]):ow.hasOwnProperty(e)?uw(ow[e]):"transparent"===e?new Ai(NaN,NaN,NaN,0):null}function uw(e){return new Ai(e>>16&255,e>>8&255,255&e,1)}function Su(e,n,t,i){return i<=0&&(e=n=t=NaN),new Ai(e,n,t,i)}function Au(e,n,t,i){return 1===arguments.length?function IB(e){return e instanceof ul||(e=Bs(e)),e?new Ai((e=e.rgb()).r,e.g,e.b,e.opacity):new Ai}(e):new Ai(e,n,t,i??1)}function Ai(e,n,t,i){this.r=+e,this.g=+n,this.b=+t,this.opacity=+i}function dw(){return`#${Hs(this.r)}${Hs(this.g)}${Hs(this.b)}`}function hw(){const e=Du(this.opacity);return`${1===e?"rgb(":"rgba("}${Vs(this.r)}, ${Vs(this.g)}, ${Vs(this.b)}${1===e?")":`, ${e})`}`}function Du(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Hs(e){return((e=Vs(e))<16?"0":"")+e.toString(16)}function fw(e,n,t,i){return i<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new cr(e,n,t,i)}function pw(e){if(e instanceof cr)return new cr(e.h,e.s,e.l,e.opacity);if(e instanceof ul||(e=Bs(e)),!e)return new cr;if(e instanceof cr)return e;var n=(e=e.rgb()).r/255,t=e.g/255,i=e.b/255,r=Math.min(n,t,i),s=Math.max(n,t,i),a=NaN,o=s-r,l=(s+r)/2;return o?(a=n===s?(t-i)/o+6*(t<i):t===s?(i-n)/o+2:(n-t)/o+4,o/=l<.5?s+r:2-s-r,a*=60):o=l>0&&l<1?0:a,new cr(a,o,l,e.opacity)}function cr(e,n,t,i){this.h=+e,this.s=+n,this.l=+t,this.opacity=+i}function gw(e){return(e=(e||0)%360)<0?e+360:e}function Eu(e){return Math.max(0,Math.min(1,e||0))}function Up(e,n,t){return 255*(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)}function mw(e,n,t,i,r){var s=e*e,a=s*e;return((1-3*e+3*s-a)*n+(4-6*s+3*a)*t+(1+3*e+3*s-3*a)*i+a*r)/6}Wp(ul,Bs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lw,formatHex:lw,formatHex8:function LB(){return this.rgb().formatHex8()},formatHsl:function FB(){return pw(this).formatHsl()},formatRgb:cw,toString:cw}),Wp(Ai,Au,aw(ul,{brighter(e){return e=null==e?Tu:Math.pow(Tu,e),new Ai(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new Ai(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ai(Vs(this.r),Vs(this.g),Vs(this.b),Du(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dw,formatHex:dw,formatHex8:function OB(){return`#${Hs(this.r)}${Hs(this.g)}${Hs(this.b)}${Hs(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:hw,toString:hw})),Wp(cr,function RB(e,n,t,i){return 1===arguments.length?pw(e):new cr(e,n,t,i??1)},aw(ul,{brighter(e){return e=null==e?Tu:Math.pow(Tu,e),new cr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new cr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*n,r=2*t-i;return new Ai(Up(e>=240?e-240:e+120,r,i),Up(e,r,i),Up(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new cr(gw(this.h),Eu(this.s),Eu(this.l),Du(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Du(this.opacity);return`${1===e?"hsl(":"hsla("}${gw(this.h)}, ${100*Eu(this.s)}%, ${100*Eu(this.l)}%${1===e?")":`, ${e})`}`}}));const Xp=e=>()=>e;function vw(e,n){var t=n-e;return t?function _w(e,n){return function(t){return e+t*n}}(e,t):Xp(isNaN(e)?n:e)}const ku=function e(n){var t=function HB(e){return 1==(e=+e)?vw:function(n,t){return t-n?function VB(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(i){return Math.pow(e+i*n,t)}}(n,t,e):Xp(isNaN(n)?t:n)}}(n);function i(r,s){var a=t((r=Au(r)).r,(s=Au(s)).r),o=t(r.g,s.g),l=t(r.b,s.b),c=vw(r.opacity,s.opacity);return function(d){return r.r=a(d),r.g=o(d),r.b=l(d),r.opacity=c(d),r+""}}return i.gamma=e,i}(1);function yw(e){return function(n){var a,o,t=n.length,i=new Array(t),r=new Array(t),s=new Array(t);for(a=0;a<t;++a)o=Au(n[a]),i[a]=o.r||0,r[a]=o.g||0,s[a]=o.b||0;return i=e(i),r=e(r),s=e(s),o.opacity=1,function(l){return o.r=i(l),o.g=r(l),o.b=s(l),o+""}}}function xw(e,n){var a,t=n?n.length:0,i=e?Math.min(t,e.length):0,r=new Array(i),s=new Array(t);for(a=0;a<i;++a)r[a]=Mu(e[a],n[a]);for(;a<t;++a)s[a]=n[a];return function(o){for(a=0;a<i;++a)s[a]=r[a](o);return s}}function $B(e,n){var t=new Date;return e=+e,n=+n,function(i){return t.setTime(e*(1-i)+n*i),t}}function ur(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function zB(e,n){var r,t={},i={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===n||"object"!=typeof n)&&(n={}),n)r in e?t[r]=Mu(e[r],n[r]):i[r]=n[r];return function(s){for(r in t)i[r]=t[r](s);return i}}yw(function NB(e){var n=e.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),r=e[i],s=e[i+1];return mw((t-i/n)*n,i>0?e[i-1]:2*r-s,r,s,i<n-1?e[i+2]:2*s-r)}}),yw(function BB(e){var n=e.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n);return mw((t-i/n)*n,e[(i+n-1)%n],e[i%n],e[(i+1)%n],e[(i+2)%n])}});var Yp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qp=new RegExp(Yp.source,"g");function bw(e,n){var i,r,s,t=Yp.lastIndex=qp.lastIndex=0,a=-1,o=[],l=[];for(e+="",n+="";(i=Yp.exec(e))&&(r=qp.exec(n));)(s=r.index)>t&&(s=n.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:ur(i,r)})),t=qp.lastIndex;return t<n.length&&(s=n.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?function GB(e){return function(n){return e(n)+""}}(l[0].x):function jB(e){return function(){return e}}(n):(n=l.length,function(c){for(var f,d=0;d<n;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function WB(e,n){n||(n=[]);var r,t=e?Math.min(n.length,e.length):0,i=n.slice();return function(s){for(r=0;r<t;++r)i[r]=e[r]*(1-s)+n[r]*s;return i}}function Mu(e,n){var i,t=typeof n;return null==n||"boolean"===t?Xp(n):("number"===t?ur:"string"===t?(i=Bs(n))?(n=i,ku):bw:n instanceof Bs?ku:n instanceof Date?$B:function UB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(n)?WB:Array.isArray(n)?xw:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?zB:ur)(e,n)}function Cw(e,n){if(e=function XB(e){let n;for(;n=e.sourceEvent;)e=n;return e}(e),void 0===n&&(n=e.currentTarget),n){var t=n.ownerSVGElement||n;if(t.createSVGPoint){var i=t.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(n.getScreenCTM().inverse())).x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[e.clientX-r.left-n.clientLeft,e.clientY-r.top-n.clientTop]}}return[e.pageX,e.pageY]}var Pu,gl,Ya=0,fl=0,pl=0,ww=1e3,Lu=0,$s=0,Fu=0,ml="object"==typeof performance&&performance.now?performance:Date,Tw="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Qp(){return $s||(Tw(YB),$s=ml.now()+Fu)}function YB(){$s=0}function Iu(){this._call=this._time=this._next=null}function Sw(e,n,t){var i=new Iu;return i.restart(e,n,t),i}function Aw(){$s=(Lu=ml.now())+Fu,Ya=fl=0;try{!function qB(){Qp(),++Ya;for(var n,e=Pu;e;)(n=$s-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Ya}()}finally{Ya=0,function KB(){for(var e,t,n=Pu,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Pu=t);gl=e,Kp(i)}(),$s=0}}function QB(){var e=ml.now(),n=e-Lu;n>ww&&(Fu-=n,Lu=e)}function Kp(e){Ya||(fl&&(fl=clearTimeout(fl)),e-$s>24?(e<1/0&&(fl=setTimeout(Aw,e-ml.now()-Fu)),pl&&(pl=clearInterval(pl))):(pl||(Lu=ml.now(),pl=setInterval(QB,ww)),Ya=1,Tw(Aw)))}function Dw(e,n,t){var i=new Iu;return i.restart(r=>{i.stop(),e(r+n)},n=null==n?0:+n,t),i}Iu.prototype=Sw.prototype={constructor:Iu,restart:function(e,n,t){if("function"!=typeof e)throw new TypeError("callback is not a function");t=(null==t?Qp():+t)+(null==n?0:+n),!this._next&&gl!==this&&(gl?gl._next=this:Pu=this,gl=this),this._call=e,this._time=t,Kp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kp())}};var ZB=sw("start","end","cancel","interrupt"),JB=[],Ew=0,Zp=2,Ou=3,Jp=5,Ru=6;function Nu(e,n,t,i,r,s){var a=e.__transition;if(a){if(t in a)return}else e.__transition={};!function eV(e,n,t){var r,i=e.__transition;function a(c){var d,f,b,k;if(1!==t.state)return l();for(d in i)if((k=i[d]).name===t.name){if(k.state===Ou)return Dw(a);4===k.state?(k.state=Ru,k.timer.stop(),k.on.call("interrupt",e,e.__data__,k.index,k.group),delete i[d]):+d<n&&(k.state=Ru,k.timer.stop(),k.on.call("cancel",e,e.__data__,k.index,k.group),delete i[d])}if(Dw(function(){t.state===Ou&&(t.state=4,t.timer.restart(o,t.delay,t.time),o(c))}),t.state=Zp,t.on.call("start",e,e.__data__,t.index,t.group),t.state===Zp){for(t.state=Ou,r=new Array(b=t.tween.length),d=0,f=-1;d<b;++d)(k=t.tween[d].value.call(e,e.__data__,t.index,t.group))&&(r[++f]=k);r.length=f+1}}function o(c){for(var d=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=Jp,1),f=-1,b=r.length;++f<b;)r[f].call(e,d);t.state===Jp&&(t.on.call("end",e,e.__data__,t.index,t.group),l())}function l(){for(var c in t.state=Ru,t.timer.stop(),delete i[n],i)return;delete e.__transition}i[n]=t,t.timer=Sw(function s(c){t.state=1,t.timer.restart(a,t.delay,t.time),t.delay<=c&&a(c-t.delay)},0,t.time)}(e,t,{name:n,index:i,group:r,on:ZB,tween:JB,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Ew})}function eg(e,n){var t=dr(e,n);if(t.state>Ew)throw new Error("too late; already scheduled");return t}function Er(e,n){var t=dr(e,n);if(t.state>Ou)throw new Error("too late; already running");return t}function dr(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}function tg(e,n){var i,r,a,t=e.__transition,s=!0;if(t){for(a in n=null==n?null:n+"",t)(i=t[a]).name===n?(r=i.state>Zp&&i.state<Jp,i.state=Ru,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete t[a]):s=!1;s&&delete e.__transition}}var Bu,Pw=180/Math.PI,ng={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Lw(e,n,t,i,r,s){var a,o,l;return(a=Math.sqrt(e*e+n*n))&&(e/=a,n/=a),(l=e*t+n*i)&&(t-=e*l,i-=n*l),(o=Math.sqrt(t*t+i*i))&&(t/=o,i/=o,l/=o),e*i<n*t&&(e=-e,n=-n,l=-l,a=-a),{translateX:r,translateY:s,rotate:Math.atan2(n,e)*Pw,skewX:Math.atan(l)*Pw,scaleX:a,scaleY:o}}function Fw(e,n,t,i){function r(c){return c.length?c.pop()+" ":""}return function(c,d){var f=[],b=[];return c=e(c),d=e(d),function s(c,d,f,b,k,$){if(c!==f||d!==b){var ae=k.push("translate(",null,n,null,t);$.push({i:ae-4,x:ur(c,f)},{i:ae-2,x:ur(d,b)})}else(f||b)&&k.push("translate("+f+n+b+t)}(c.translateX,c.translateY,d.translateX,d.translateY,f,b),function a(c,d,f,b){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),b.push({i:f.push(r(f)+"rotate(",null,i)-2,x:ur(c,d)})):d&&f.push(r(f)+"rotate("+d+i)}(c.rotate,d.rotate,f,b),function o(c,d,f,b){c!==d?b.push({i:f.push(r(f)+"skewX(",null,i)-2,x:ur(c,d)}):d&&f.push(r(f)+"skewX("+d+i)}(c.skewX,d.skewX,f,b),function l(c,d,f,b,k,$){if(c!==f||d!==b){var ae=k.push(r(k)+"scale(",null,",",null,")");$.push({i:ae-4,x:ur(c,f)},{i:ae-2,x:ur(d,b)})}else(1!==f||1!==b)&&k.push(r(k)+"scale("+f+","+b+")")}(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,b),c=d=null,function(k){for(var J,$=-1,ae=b.length;++$<ae;)f[(J=b[$]).i]=J.x(k);return f.join("")}}}var rV=Fw(function nV(e){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?ng:Lw(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),sV=Fw(function iV(e){return null!=e&&(Bu||(Bu=document.createElementNS("http://www.w3.org/2000/svg","g")),Bu.setAttribute("transform",e),e=Bu.transform.baseVal.consolidate())?Lw((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):ng},", ",")",")");function aV(e,n){var t,i;return function(){var r=Er(this,e),s=r.tween;if(s!==t)for(var a=0,o=(i=t=s).length;a<o;++a)if(i[a].name===n){(i=i.slice()).splice(a,1);break}r.tween=i}}function oV(e,n,t){var i,r;if("function"!=typeof t)throw new Error;return function(){var s=Er(this,e),a=s.tween;if(a!==i){r=(i=a).slice();for(var o={name:n,value:t},l=0,c=r.length;l<c;++l)if(r[l].name===n){r[l]=o;break}l===c&&r.push(o)}s.tween=r}}function ig(e,n,t){var i=e._id;return e.each(function(){var r=Er(this,i);(r.value||(r.value={}))[n]=t.apply(this,arguments)}),function(r){return dr(r,i).value[n]}}function Iw(e,n){var t;return("number"==typeof n?ur:n instanceof Bs?ku:(t=Bs(n))?(n=t,ku):bw)(e,n)}function cV(e){return function(){this.removeAttribute(e)}}function uV(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dV(e,n,t){var i,s,r=t+"";return function(){var a=this.getAttribute(e);return a===r?null:a===i?s:s=n(i=a,t)}}function hV(e,n,t){var i,s,r=t+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===i?s:s=n(i=a,t)}}function fV(e,n,t){var i,r,s;return function(){var a,l,o=t(this);return null==o?void this.removeAttribute(e):(a=this.getAttribute(e))===(l=o+"")?null:a===i&&l===r?s:(r=l,s=n(i=a,o))}}function pV(e,n,t){var i,r,s;return function(){var a,l,o=t(this);return null==o?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(l=o+"")?null:a===i&&l===r?s:(r=l,s=n(i=a,o))}}function vV(e,n){var t,i;function r(){var s=n.apply(this,arguments);return s!==i&&(t=(i=s)&&function _V(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}(e,s)),t}return r._value=n,r}function yV(e,n){var t,i;function r(){var s=n.apply(this,arguments);return s!==i&&(t=(i=s)&&function mV(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}(e,s)),t}return r._value=n,r}function bV(e,n){return function(){eg(this,e).delay=+n.apply(this,arguments)}}function CV(e,n){return n=+n,function(){eg(this,e).delay=n}}function TV(e,n){return function(){Er(this,e).duration=+n.apply(this,arguments)}}function SV(e,n){return n=+n,function(){Er(this,e).duration=n}}var HV=cl.prototype.constructor;function Ow(e){return function(){this.style.removeProperty(e)}}var r3=0;function Xr(e,n,t,i){this._groups=e,this._parents=n,this._name=t,this._id=i}function Rw(){return++r3}var Yr=cl.prototype;Xr.prototype=function s3(e){return cl().transition(e)}.prototype={constructor:Xr,select:function BV(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=Hp(e));for(var i=this._groups,r=i.length,s=new Array(r),a=0;a<r;++a)for(var d,f,o=i[a],l=o.length,c=s[a]=new Array(l),b=0;b<l;++b)(d=o[b])&&(f=e.call(d,d.__data__,b,o))&&("__data__"in d&&(f.__data__=d.__data__),c[b]=f,Nu(c[b],n,t,b,c,dr(d,t)));return new Xr(s,this._parents,n,t)},selectAll:function VV(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=jC(e));for(var i=this._groups,r=i.length,s=[],a=[],o=0;o<r;++o)for(var d,l=i[o],c=l.length,f=0;f<c;++f)if(d=l[f]){for(var k,b=e.call(d,d.__data__,f,l),$=dr(d,t),ae=0,J=b.length;ae<J;++ae)(k=b[ae])&&Nu(k,n,t,ae,b,$);s.push(b),a.push(d)}return new Xr(s,a,n,t)},selectChild:Yr.selectChild,selectChildren:Yr.selectChildren,filter:function PV(e){"function"!=typeof e&&(e=GC(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var l,s=n[r],a=s.length,o=i[r]=[],c=0;c<a;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&o.push(l);return new Xr(i,this._parents,this._name,this._id)},merge:function LV(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,i=n.length,s=Math.min(i,t.length),a=new Array(i),o=0;o<s;++o)for(var b,l=n[o],c=t[o],d=l.length,f=a[o]=new Array(d),k=0;k<d;++k)(b=l[k]||c[k])&&(f[k]=b);for(;o<i;++o)a[o]=n[o];return new Xr(a,this._parents,this._name,this._id)},selection:function $V(){return new HV(this._groups,this._parents)},transition:function n3(){for(var e=this._name,n=this._id,t=Rw(),i=this._groups,r=i.length,s=0;s<r;++s)for(var l,a=i[s],o=a.length,c=0;c<o;++c)if(l=a[c]){var d=dr(l,n);Nu(l,e,t,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Xr(i,this._parents,e,t)},call:Yr.call,nodes:Yr.nodes,node:Yr.node,size:Yr.size,empty:Yr.empty,each:Yr.each,on:function OV(e,n){var t=this._id;return arguments.length<2?dr(this.node(),t).on.on(e):this.each(function IV(e,n,t){var i,r,s=function FV(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||"start"===n})}(n)?eg:Er;return function(){var a=s(this,e),o=a.on;o!==i&&(r=(i=o).copy()).on(n,t),a.on=r}}(t,e,n))},attr:function gV(e,n){var t=Cu(e),i="transform"===t?sV:Iw;return this.attrTween(e,"function"==typeof n?(t.local?pV:fV)(t,i,ig(this,"attr."+e,n)):null==n?(t.local?uV:cV)(t):(t.local?hV:dV)(t,i,n))},attrTween:function xV(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;var i=Cu(e);return this.tween(t,(i.local?vV:yV)(i,n))},style:function UV(e,n,t){var i="transform"==(e+="")?rV:Iw;return null==n?this.styleTween(e,function zV(e,n){var t,i,r;return function(){var s=Ua(this,e),a=(this.style.removeProperty(e),Ua(this,e));return s===a?null:s===t&&a===i?r:r=n(t=s,i=a)}}(e,i)).on("end.style."+e,Ow(e)):"function"==typeof n?this.styleTween(e,function GV(e,n,t){var i,r,s;return function(){var a=Ua(this,e),o=t(this),l=o+"";return null==o&&(this.style.removeProperty(e),l=o=Ua(this,e)),a===l?null:a===i&&l===r?s:(r=l,s=n(i=a,o))}}(e,i,ig(this,"style."+e,n))).each(function WV(e,n){var t,i,r,o,s="style."+n,a="end."+s;return function(){var l=Er(this,e),c=l.on,d=null==l.value[s]?o||(o=Ow(n)):void 0;(c!==t||r!==d)&&(i=(t=c).copy()).on(a,r=d),l.on=i}}(this._id,e)):this.styleTween(e,function jV(e,n,t){var i,s,r=t+"";return function(){var a=Ua(this,e);return a===r?null:a===i?s:s=n(i=a,t)}}(e,i,n),t).on("end.style."+e,null)},styleTween:function qV(e,n,t){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,function YV(e,n,t){var i,r;function s(){var a=n.apply(this,arguments);return a!==r&&(i=(r=a)&&function XV(e,n,t){return function(i){this.style.setProperty(e,n.call(this,i),t)}}(e,a,t)),i}return s._value=n,s}(e,n,t??""))},text:function ZV(e){return this.tween("text","function"==typeof e?function KV(e){return function(){var n=e(this);this.textContent=n??""}}(ig(this,"text",e)):function QV(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function t3(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,function e3(e){var n,t;function i(){var r=e.apply(this,arguments);return r!==t&&(n=(t=r)&&function JV(e){return function(n){this.textContent=e.call(this,n)}}(r)),n}return i._value=e,i}(e))},remove:function NV(){return this.on("end.remove",function RV(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}(this._id))},tween:function lV(e,n){var t=this._id;if(e+="",arguments.length<2){for(var a,i=dr(this.node(),t).tween,r=0,s=i.length;r<s;++r)if((a=i[r]).name===e)return a.value;return null}return this.each((null==n?aV:oV)(t,e,n))},delay:function wV(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?bV:CV)(n,e)):dr(this.node(),n).delay},duration:function AV(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?TV:SV)(n,e)):dr(this.node(),n).duration},ease:function EV(e){var n=this._id;return arguments.length?this.each(function DV(e,n){if("function"!=typeof n)throw new Error;return function(){Er(this,e).ease=n}}(n,e)):dr(this.node(),n).ease},easeVarying:function MV(e){if("function"!=typeof e)throw new Error;return this.each(function kV(e,n){return function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw new Error;Er(this,e).ease=t}}(this._id,e))},end:function i3(){var e,n,t=this,i=t._id,r=t.size();return new Promise(function(s,a){var o={value:a},l={value:function(){0==--r&&s()}};t.each(function(){var c=Er(this,i),d=c.on;d!==e&&((n=(e=d).copy())._.cancel.push(o),n._.interrupt.push(o),n._.end.push(l)),c.on=n}),0===r&&s()})},[Symbol.iterator]:Yr[Symbol.iterator]};var o3={time:null,delay:0,duration:250,ease:function a3(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function l3(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return t}cl.prototype.interrupt=function tV(e){return this.each(function(){tg(this,e)})},cl.prototype.transition=function c3(e){var n,t;e instanceof Xr?(n=e._id,e=e._name):(n=Rw(),(t=o3).time=Qp(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var l,a=i[s],o=a.length,c=0;c<o;++c)(l=a[c])&&Nu(l,e,n,c,a,t||l3(l,n));return new Xr(i,this._parents,e,n)};const rg=e=>()=>e;function u3(e,{sourceEvent:n,target:t,selection:i,mode:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function sg(e){e.preventDefault(),e.stopImmediatePropagation()}var Nw={name:"drag"},ag={name:"space"},qa={name:"handle"},Qa={name:"center"};const{abs:Bw,max:ii,min:ri}=Math;function Vw(e){return[+e[0],+e[1]]}function og(e){return[Vw(e[0]),Vw(e[1])]}var Vu={name:"x",handles:["w","e"].map(_l),input:function(e,n){return null==e?null:[[+e[0],n[0][1]],[+e[1],n[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Hu={name:"y",handles:["n","s"].map(_l),input:function(e,n){return null==e?null:[[n[0][0],+e[0]],[n[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},qr=(["n","w","e","s","nw","ne","sw","se"].map(_l),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),Hw={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},$w={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},f3={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},p3={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function _l(e){return{type:e}}function g3(e){return!e.ctrlKey&&!e.button}function m3(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function _3(){return navigator.maxTouchPoints||"ontouchstart"in this}function lg(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function vl(e,n){return null==e||null==n?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function x3(e,n){return null==e||null==n?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function ug(e){let n,t,i;function r(o,l,c=0,d=o.length){if(c<d){if(0!==n(l,l))return d;do{const f=c+d>>>1;t(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}return 2!==e.length?(n=vl,t=(o,l)=>vl(e(o),l),i=(o,l)=>e(o)-l):(n=e===vl||e===x3?e:b3,t=e,i=e),{left:r,center:function a(o,l,c=0,d=o.length){const f=r(o,l,c,d-1);return f>c&&i(o[f-1],l)>-i(o[f],l)?f-1:f},right:function s(o,l,c=0,d=o.length){if(c<d){if(0!==n(l,l))return d;do{const f=c+d>>>1;t(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}}}function b3(){return 0}const C3=Math.sqrt(50),w3=Math.sqrt(10),T3=Math.sqrt(2);function $u(e,n,t){const i=(n-e)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),a=s>=C3?10:s>=w3?5:s>=T3?2:1;let o,l,c;return r<0?(c=Math.pow(10,-r)/a,o=Math.round(e*c),l=Math.round(n*c),o/c<e&&++o,l/c>n&&--l,c=-c):(c=Math.pow(10,r)*a,o=Math.round(e/c),l=Math.round(n/c),o*c<e&&++o,l*c>n&&--l),l<o&&.5<=t&&t<2?$u(e,n,2*t):[o,l,c]}function dg(e,n,t){return $u(e=+e,n=+n,t=+t)[2]}function hg(e,n,t){t=+t;const i=(n=+n)<(e=+e),r=i?dg(n,e,t):dg(e,n,t);return(i?-1:1)*(r<0?1/-r:r)}const Qr=1e3,Qi=6e4,Kr=60*Qi,Zr=24*Kr,fg=7*Zr,zw=30*Zr,pg=365*Zr,gg=new Date,mg=new Date;function $n(e,n,t,i){function r(s){return e(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=s=>(e(s=new Date(+s)),s),r.ceil=s=>(e(s=new Date(s-1)),n(s,1),e(s),s),r.round=s=>{const a=r(s),o=r.ceil(s);return s-a<o-s?a:o},r.offset=(s,a)=>(n(s=new Date(+s),null==a?1:Math.floor(a)),s),r.range=(s,a,o)=>{const l=[];if(s=r.ceil(s),o=null==o?1:Math.floor(o),!(s<a&&o>0))return l;let c;do{l.push(c=new Date(+s)),n(s,o),e(s)}while(c<s&&s<a);return l},r.filter=s=>$n(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;n(a,-1),!s(a););else for(;--o>=0;)for(;n(a,1),!s(a););}),t&&(r.count=(s,a)=>(gg.setTime(+s),mg.setTime(+a),e(gg),e(mg),Math.floor(t(gg,mg))),r.every=s=>(s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?a=>i(a)%s==0:a=>r.count(0,a)%s==0):r:null)),r}const zu=$n(()=>{},(e,n)=>{e.setTime(+e+n)},(e,n)=>n-e);zu.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?$n(n=>{n.setTime(Math.floor(n/e)*e)},(n,t)=>{n.setTime(+n+t*e)},(n,t)=>(t-n)/e):zu:null);const Ka=$n(e=>{e.setTime(e-e.getMilliseconds())},(e,n)=>{e.setTime(+e+n*Qr)},(e,n)=>(n-e)/Qr,e=>e.getUTCSeconds()),_g=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qr)},(e,n)=>{e.setTime(+e+n*Qi)},(e,n)=>(n-e)/Qi,e=>e.getMinutes()),jw=$n(e=>{e.setUTCSeconds(0,0)},(e,n)=>{e.setTime(+e+n*Qi)},(e,n)=>(n-e)/Qi,e=>e.getUTCMinutes()),vg=$n(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qr-e.getMinutes()*Qi)},(e,n)=>{e.setTime(+e+n*Kr)},(e,n)=>(n-e)/Kr,e=>e.getHours()),Gw=$n(e=>{e.setUTCMinutes(0,0,0)},(e,n)=>{e.setTime(+e+n*Kr)},(e,n)=>(n-e)/Kr,e=>e.getUTCHours()),yg=$n(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Qi)/Zr,e=>e.getDate()-1),Ww=($n(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/Zr,e=>e.getUTCDate()-1),$n(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/Zr,e=>Math.floor(e/Zr)));function zs(e){return $n(n=>{n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},(n,t)=>{n.setDate(n.getDate()+7*t)},(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Qi)/fg)}const xg=zs(0);function js(e){return $n(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+7*t)},(n,t)=>(t-n)/fg)}zs(1),zs(2),zs(3),zs(4),zs(5),zs(6);const Uw=js(0),bg=(js(1),js(2),js(3),js(4),js(5),js(6),$n(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,n)=>{e.setMonth(e.getMonth()+n)},(e,n)=>n.getMonth()-e.getMonth()+12*(n.getFullYear()-e.getFullYear()),e=>e.getMonth())),Xw=$n(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCMonth(e.getUTCMonth()+n)},(e,n)=>n.getUTCMonth()-e.getUTCMonth()+12*(n.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth()),ju=$n(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n)},(e,n)=>n.getFullYear()-e.getFullYear(),e=>e.getFullYear());ju.every=e=>isFinite(e=Math.floor(e))&&e>0?$n(n=>{n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t*e)}):null;const Cg=$n(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n)},(e,n)=>n.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function Yw(e,n,t,i,r,s){const a=[[Ka,1,Qr],[Ka,5,5e3],[Ka,15,15e3],[Ka,30,3e4],[s,1,Qi],[s,5,5*Qi],[s,15,15*Qi],[s,30,30*Qi],[r,1,Kr],[r,3,3*Kr],[r,6,6*Kr],[r,12,12*Kr],[i,1,Zr],[i,2,2*Zr],[t,1,fg],[n,1,zw],[n,3,3*zw],[e,1,pg]];function l(c,d,f){const b=Math.abs(d-c)/f,k=ug(([,,J])=>J).right(a,b);if(k===a.length)return e.every(hg(c/pg,d/pg,f));if(0===k)return zu.every(Math.max(hg(c,d,f),1));const[$,ae]=a[b/a[k-1][2]<a[k][2]/b?k-1:k];return $.every(ae)}return[function o(c,d,f){const b=d<c;b&&([c,d]=[d,c]);const k=f&&"function"==typeof f.range?f:l(c,d,f),$=k?k.range(c,+d+1):[];return b?$.reverse():$},l]}Cg.every=e=>isFinite(e=Math.floor(e))&&e>0?$n(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t*e)}):null;const[V7,H7]=Yw(Cg,Xw,Uw,Ww,Gw,jw),[B3,V3]=Yw(ju,bg,xg,yg,vg,_g);var wg=new Date,Tg=new Date;function Jr(e,n,t,i){function r(s){return e(s=0===arguments.length?new Date:new Date(+s)),s}return r.floor=function(s){return e(s=new Date(+s)),s},r.ceil=function(s){return e(s=new Date(s-1)),n(s,1),e(s),s},r.round=function(s){var a=r(s),o=r.ceil(s);return s-a<o-s?a:o},r.offset=function(s,a){return n(s=new Date(+s),null==a?1:Math.floor(a)),s},r.range=function(s,a,o){var c,l=[];if(s=r.ceil(s),o=null==o?1:Math.floor(o),!(s<a&&o>0))return l;do{l.push(c=new Date(+s)),n(s,o),e(s)}while(c<s&&s<a);return l},r.filter=function(s){return Jr(function(a){if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},function(a,o){if(a>=a)if(o<0)for(;++o<=0;)for(;n(a,-1),!s(a););else for(;--o>=0;)for(;n(a,1),!s(a););})},t&&(r.count=function(s,a){return wg.setTime(+s),Tg.setTime(+a),e(wg),e(Tg),Math.floor(t(wg,Tg))},r.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?r.filter(i?function(a){return i(a)%s==0}:function(a){return r.count(0,a)%s==0}):r:null}),r}const yl=864e5,qw=7*yl;function Gs(e){return Jr(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+7*t)},function(n,t){return(t-n)/qw})}var Qw=Gs(0),Gu=Gs(1),Za=(Gs(2),Gs(3),Gs(4));const Zw=(Gs(5),Gs(6),Jr(function(e){e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n)},function(e,n){return(n-e)/yl},function(e){return e.getUTCDate()-1}));function Ws(e){return Jr(function(n){n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},function(n,t){n.setDate(n.getDate()+7*t)},function(n,t){return(t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/qw})}var Jw=Ws(0),Wu=Ws(1),Ja=(Ws(2),Ws(3),Ws(4));const tT=(Ws(5),Ws(6),Jr(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-6e4*(n.getTimezoneOffset()-e.getTimezoneOffset()))/yl,e=>e.getDate()-1));var Ag=Jr(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n)},function(e,n){return n.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Ag.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Jr(function(n){n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t*e)}):null};const xl=Ag;var Dg=Jr(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n)},function(e,n){return n.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Dg.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Jr(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t*e)}):null};const bl=Dg;function Eg(e){if(0<=e.y&&e.y<100){var n=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return n.setFullYear(e.y),n}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kg(e){if(0<=e.y&&e.y<100){var n=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cl(e,n,t){return{y:e,m:n,d:t,H:0,M:0,S:0,L:0}}var eo,mT,nT={"-":"",_:" ",0:"0"},Gn=/^\s*\d+/,q3=/^%/,Q3=/[\\^$*+?|[\]().{}]/g;function qt(e,n,t){var i=e<0?"-":"",r=(i?-e:e)+"",s=r.length;return i+(s<t?new Array(t-s+1).join(n)+r:r)}function K3(e){return e.replace(Q3,"\\$&")}function wl(e){return new RegExp("^(?:"+e.map(K3).join("|")+")","i")}function Tl(e){return new Map(e.map((n,t)=>[n.toLowerCase(),t]))}function Z3(e,n,t){var i=Gn.exec(n.slice(t,t+1));return i?(e.w=+i[0],t+i[0].length):-1}function J3(e,n,t){var i=Gn.exec(n.slice(t,t+1));return i?(e.u=+i[0],t+i[0].length):-1}function eH(e,n,t){var i=Gn.exec(n.slice(t,t+2));return i?(e.U=+i[0],t+i[0].length):-1}function tH(e,n,t){var i=Gn.exec(n.slice(t,t+2));return i?(e.V=+i[0],t+i[0].length):-1}function nH(e,n,t){var i=Gn.exec(n.slice(t,t+2));return i?(e.W=+i[0],t+i[0].length):-1}function iT(e,n,t){var i=Gn.exec(n.slice(t,t+4));return i?(e.y=+i[0],t+i[0].length):-1}function rT(e,n,t){var i=Gn.exec(n.slice(t,t+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function iH(e,n,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(t,t+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function rH(e,n,t){var i=Gn.exec(n.slice(t,t+1));return i?(e.q=3*i[0]-3,t+i[0].length):-1}function sH(e,n,t){var i=Gn.exec(n.slice(t,t+2));return i?(e.m=i[0]-1,t+i[0].length):-1}function sT(e,n,t){var i=Gn.exec(n.slice(t,t+2));return i?(e.d=+i[0],t+i[0].length):-1}function aH(e,n,t){var i=Gn.exec(n.slice(t,t+3));return i?(e.m=0,e.d=+i[0],t+i[0].length):-1}function aT(e,n,t){var i=Gn.exec(n.slice(t,t+2));return i?(e.H=+i[0],t+i[0].length):-1}function oH(e,n,t){var i=Gn.exec(n.slice(t,t+2));return i?(e.M=+i[0],t+i[0].length):-1}function lH(e,n,t){var i=Gn.exec(n.slice(t,t+2));return i?(e.S=+i[0],t+i[0].length):-1}function cH(e,n,t){var i=Gn.exec(n.slice(t,t+3));return i?(e.L=+i[0],t+i[0].length):-1}function uH(e,n,t){var i=Gn.exec(n.slice(t,t+6));return i?(e.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function dH(e,n,t){var i=q3.exec(n.slice(t,t+1));return i?t+i[0].length:-1}function hH(e,n,t){var i=Gn.exec(n.slice(t));return i?(e.Q=+i[0],t+i[0].length):-1}function fH(e,n,t){var i=Gn.exec(n.slice(t));return i?(e.s=+i[0],t+i[0].length):-1}function oT(e,n){return qt(e.getDate(),n,2)}function pH(e,n){return qt(e.getHours(),n,2)}function gH(e,n){return qt(e.getHours()%12||12,n,2)}function mH(e,n){return qt(1+tT.count(xl(e),e),n,3)}function lT(e,n){return qt(e.getMilliseconds(),n,3)}function _H(e,n){return lT(e,n)+"000"}function vH(e,n){return qt(e.getMonth()+1,n,2)}function yH(e,n){return qt(e.getMinutes(),n,2)}function xH(e,n){return qt(e.getSeconds(),n,2)}function bH(e){var n=e.getDay();return 0===n?7:n}function CH(e,n){return qt(Jw.count(xl(e)-1,e),n,2)}function cT(e){var n=e.getDay();return n>=4||0===n?Ja(e):Ja.ceil(e)}function wH(e,n){return e=cT(e),qt(Ja.count(xl(e),e)+(4===xl(e).getDay()),n,2)}function TH(e){return e.getDay()}function SH(e,n){return qt(Wu.count(xl(e)-1,e),n,2)}function AH(e,n){return qt(e.getFullYear()%100,n,2)}function DH(e,n){return qt((e=cT(e)).getFullYear()%100,n,2)}function EH(e,n){return qt(e.getFullYear()%1e4,n,4)}function kH(e,n){var t=e.getDay();return qt((e=t>=4||0===t?Ja(e):Ja.ceil(e)).getFullYear()%1e4,n,4)}function MH(e){var n=e.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+qt(n/60|0,"0",2)+qt(n%60,"0",2)}function uT(e,n){return qt(e.getUTCDate(),n,2)}function PH(e,n){return qt(e.getUTCHours(),n,2)}function LH(e,n){return qt(e.getUTCHours()%12||12,n,2)}function FH(e,n){return qt(1+Zw.count(bl(e),e),n,3)}function dT(e,n){return qt(e.getUTCMilliseconds(),n,3)}function IH(e,n){return dT(e,n)+"000"}function OH(e,n){return qt(e.getUTCMonth()+1,n,2)}function RH(e,n){return qt(e.getUTCMinutes(),n,2)}function NH(e,n){return qt(e.getUTCSeconds(),n,2)}function BH(e){var n=e.getUTCDay();return 0===n?7:n}function VH(e,n){return qt(Qw.count(bl(e)-1,e),n,2)}function hT(e){var n=e.getUTCDay();return n>=4||0===n?Za(e):Za.ceil(e)}function HH(e,n){return e=hT(e),qt(Za.count(bl(e),e)+(4===bl(e).getUTCDay()),n,2)}function $H(e){return e.getUTCDay()}function zH(e,n){return qt(Gu.count(bl(e)-1,e),n,2)}function jH(e,n){return qt(e.getUTCFullYear()%100,n,2)}function GH(e,n){return qt((e=hT(e)).getUTCFullYear()%100,n,2)}function WH(e,n){return qt(e.getUTCFullYear()%1e4,n,4)}function UH(e,n){var t=e.getUTCDay();return qt((e=t>=4||0===t?Za(e):Za.ceil(e)).getUTCFullYear()%1e4,n,4)}function XH(){return"+0000"}function fT(){return"%"}function pT(e){return+e}function gT(e){return Math.floor(+e/1e3)}function _T(e){return null===e?NaN:+e}!function KH(e){eo=function Y3(e){var n=e.dateTime,t=e.date,i=e.time,r=e.periods,s=e.days,a=e.shortDays,o=e.months,l=e.shortMonths,c=wl(r),d=Tl(r),f=wl(s),b=Tl(s),k=wl(a),$=Tl(a),ae=wl(o),J=Tl(o),me=wl(l),de=Tl(l),be={a:function Qe(Ke){return a[Ke.getDay()]},A:function ct(Ke){return s[Ke.getDay()]},b:function ht(Ke){return l[Ke.getMonth()]},B:function Nt(Ke){return o[Ke.getMonth()]},c:null,d:oT,e:oT,f:_H,g:DH,G:kH,H:pH,I:gH,j:mH,L:lT,m:vH,M:yH,p:function Qt(Ke){return r[+(Ke.getHours()>=12)]},q:function jt(Ke){return 1+~~(Ke.getMonth()/3)},Q:pT,s:gT,S:xH,u:bH,U:CH,V:wH,w:TH,W:SH,x:null,X:null,y:AH,Y:EH,Z:MH,"%":fT},ke={a:function Di(Ke){return a[Ke.getUTCDay()]},A:function nn(Ke){return s[Ke.getUTCDay()]},b:function is(Ke){return l[Ke.getUTCMonth()]},B:function ys(Ke){return o[Ke.getUTCMonth()]},c:null,d:uT,e:uT,f:IH,g:GH,G:UH,H:PH,I:LH,j:FH,L:dT,m:OH,M:RH,p:function Ut(Ke){return r[+(Ke.getUTCHours()>=12)]},q:function hi(Ke){return 1+~~(Ke.getUTCMonth()/3)},Q:pT,s:gT,S:NH,u:BH,U:VH,V:HH,w:$H,W:zH,x:null,X:null,y:jH,Y:WH,Z:XH,"%":fT},Re={a:function zt(Ke,St,Rt){var ze=k.exec(St.slice(Rt));return ze?(Ke.w=$.get(ze[0].toLowerCase()),Rt+ze[0].length):-1},A:function _t(Ke,St,Rt){var ze=f.exec(St.slice(Rt));return ze?(Ke.w=b.get(ze[0].toLowerCase()),Rt+ze[0].length):-1},b:function bn(Ke,St,Rt){var ze=me.exec(St.slice(Rt));return ze?(Ke.m=de.get(ze[0].toLowerCase()),Rt+ze[0].length):-1},B:function Ft(Ke,St,Rt){var ze=ae.exec(St.slice(Rt));return ze?(Ke.m=J.get(ze[0].toLowerCase()),Rt+ze[0].length):-1},c:function sn(Ke,St,Rt){return Ot(Ke,n,St,Rt)},d:sT,e:sT,f:uH,g:rT,G:iT,H:aT,I:aT,j:aH,L:cH,m:sH,M:oH,p:function cn(Ke,St,Rt){var ze=c.exec(St.slice(Rt));return ze?(Ke.p=d.get(ze[0].toLowerCase()),Rt+ze[0].length):-1},q:rH,Q:hH,s:fH,S:lH,u:J3,U:eH,V:tH,w:Z3,W:nH,x:function si(Ke,St,Rt){return Ot(Ke,t,St,Rt)},X:function We(Ke,St,Rt){return Ot(Ke,i,St,Rt)},y:rT,Y:iT,Z:iH,"%":dH};function Ue(Ke,St){return function(Rt){var pi,Ct,Dn,ze=[],An=-1,an=0,fi=Ke.length;for(Rt instanceof Date||(Rt=new Date(+Rt));++An<fi;)37===Ke.charCodeAt(An)&&(ze.push(Ke.slice(an,An)),null!=(Ct=nT[pi=Ke.charAt(++An)])?pi=Ke.charAt(++An):Ct="e"===pi?" ":"0",(Dn=St[pi])&&(pi=Dn(Rt,Ct)),ze.push(pi),an=An+1);return ze.push(Ke.slice(an,An)),ze.join("")}}function Tt(Ke,St){return function(Rt){var an,fi,ze=Cl(1900,void 0,1);if(Ot(ze,Ke,Rt+="",0)!=Rt.length)return null;if("Q"in ze)return new Date(ze.Q);if("s"in ze)return new Date(1e3*ze.s+("L"in ze?ze.L:0));if(St&&!("Z"in ze)&&(ze.Z=0),"p"in ze&&(ze.H=ze.H%12+12*ze.p),void 0===ze.m&&(ze.m="q"in ze?ze.q:0),"V"in ze){if(ze.V<1||ze.V>53)return null;"w"in ze||(ze.w=1),"Z"in ze?(fi=(an=kg(Cl(ze.y,0,1))).getUTCDay(),an=fi>4||0===fi?Gu.ceil(an):Gu(an),an=Zw.offset(an,7*(ze.V-1)),ze.y=an.getUTCFullYear(),ze.m=an.getUTCMonth(),ze.d=an.getUTCDate()+(ze.w+6)%7):(fi=(an=Eg(Cl(ze.y,0,1))).getDay(),an=fi>4||0===fi?Wu.ceil(an):Wu(an),an=tT.offset(an,7*(ze.V-1)),ze.y=an.getFullYear(),ze.m=an.getMonth(),ze.d=an.getDate()+(ze.w+6)%7)}else("W"in ze||"U"in ze)&&("w"in ze||(ze.w="u"in ze?ze.u%7:"W"in ze?1:0),fi="Z"in ze?kg(Cl(ze.y,0,1)).getUTCDay():Eg(Cl(ze.y,0,1)).getDay(),ze.m=0,ze.d="W"in ze?(ze.w+6)%7+7*ze.W-(fi+5)%7:ze.w+7*ze.U-(fi+6)%7);return"Z"in ze?(ze.H+=ze.Z/100|0,ze.M+=ze.Z%100,kg(ze)):Eg(ze)}}function Ot(Ke,St,Rt,ze){for(var pi,Ct,An=0,an=St.length,fi=Rt.length;An<an;){if(ze>=fi)return-1;if(37===(pi=St.charCodeAt(An++))){if(pi=St.charAt(An++),!(Ct=Re[pi in nT?St.charAt(An++):pi])||(ze=Ct(Ke,Rt,ze))<0)return-1}else if(pi!=Rt.charCodeAt(ze++))return-1}return ze}return be.x=Ue(t,be),be.X=Ue(i,be),be.c=Ue(n,be),ke.x=Ue(t,ke),ke.X=Ue(i,ke),ke.c=Ue(n,ke),{format:function(Ke){var St=Ue(Ke+="",be);return St.toString=function(){return Ke},St},parse:function(Ke){var St=Tt(Ke+="",!1);return St.toString=function(){return Ke},St},utcFormat:function(Ke){var St=Ue(Ke+="",ke);return St.toString=function(){return Ke},St},utcParse:function(Ke){var St=Tt(Ke+="",!0);return St.toString=function(){return Ke},St}}}(e),mT=eo.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const ZH=ug(vl).right,yT=(ug(_T),ZH);function JH(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}function t$(e){return+e}var xT=[0,1];function to(e){return e}function Mg(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:function e$(e){return function(){return e}}(isNaN(n)?NaN:.5)}function i$(e,n,t){var i=e[0],r=e[1],s=n[0],a=n[1];return r<i?(i=Mg(r,i),s=t(a,s)):(i=Mg(i,r),s=t(s,a)),function(o){return s(i(o))}}function r$(e,n,t){var i=Math.min(e.length,n.length)-1,r=new Array(i),s=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++a<i;)r[a]=Mg(e[a],e[a+1]),s[a]=t(n[a],n[a+1]);return function(o){var l=yT(e,o,1,i)-1;return s[l](r[l](o))}}function bT(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function CT(){return function s$(){var i,r,s,o,l,c,e=xT,n=xT,t=Mu,a=to;function d(){var b=Math.min(e.length,n.length);return a!==to&&(a=function n$(e,n){var t;return e>n&&(t=e,e=n,n=t),function(i){return Math.max(e,Math.min(n,i))}}(e[0],e[b-1])),o=b>2?r$:i$,l=c=null,f}function f(b){return null==b||isNaN(b=+b)?s:(l||(l=o(e.map(i),n,t)))(i(a(b)))}return f.invert=function(b){return a(r((c||(c=o(n,e.map(i),ur)))(b)))},f.domain=function(b){return arguments.length?(e=Array.from(b,t$),d()):e.slice()},f.range=function(b){return arguments.length?(n=Array.from(b),d()):n.slice()},f.rangeRound=function(b){return n=Array.from(b),t=JH,d()},f.clamp=function(b){return arguments.length?(a=!!b||to,d()):a!==to},f.interpolate=function(b){return arguments.length?(t=b,d()):t},f.unknown=function(b){return arguments.length?(s=b,f):s},function(b,k){return i=b,r=k,d()}}()(to,to)}function Sl(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e)}return this}function o$(e){return new Date(e)}function l$(e){return e instanceof Date?+e:+new Date(+e)}function wT(e,n,t,i,r,s,a,o,l,c){var d=CT(),f=d.invert,b=d.domain,k=c(".%L"),$=c(":%S"),ae=c("%I:%M"),J=c("%I %p"),me=c("%a %d"),de=c("%b %d"),be=c("%B"),ke=c("%Y");function Re(Ue){return(l(Ue)<Ue?k:o(Ue)<Ue?$:a(Ue)<Ue?ae:s(Ue)<Ue?J:i(Ue)<Ue?r(Ue)<Ue?me:de:t(Ue)<Ue?be:ke)(Ue)}return d.invert=function(Ue){return new Date(f(Ue))},d.domain=function(Ue){return arguments.length?b(Array.from(Ue,l$)):b().map(o$)},d.ticks=function(Ue){var Tt=b();return e(Tt[0],Tt[Tt.length-1],Ue??10)},d.tickFormat=function(Ue,Tt){return null==Tt?Re:c(Tt)},d.nice=function(Ue){var Tt=b();return(!Ue||"function"!=typeof Ue.range)&&(Ue=n(Tt[0],Tt[Tt.length-1],Ue??10)),Ue?b(function a$(e,n){var a,t=0,i=(e=e.slice()).length-1,r=e[t],s=e[i];return s<r&&(a=t,t=i,i=a,a=r,r=s,s=a),e[t]=n.floor(r),e[i]=n.ceil(s),e}(Tt,Ue)):d},d.copy=function(){return bT(d,wT(e,n,t,i,r,s,a,o,l,c))},d}function TT(){return Sl.apply(wT(B3,V3,ju,bg,xg,yg,vg,_g,Ka,mT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var ST,c$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uu(e){if(!(n=c$.exec(e)))throw new Error("invalid format: "+e);var n;return new Pg({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Pg(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Xu(e,n){if((t=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var t,i=e.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+e.slice(t+1)]}function no(e){return(e=Xu(Math.abs(e)))?e[1]:NaN}function AT(e,n){var t=Xu(e,n);if(!t)return e+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Uu.prototype=Pg.prototype,Pg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const DT={"%":(e,n)=>(100*e).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function u$(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>AT(100*e,n),r:AT,s:function g$(e,n){var t=Xu(e,n);if(!t)return e+"";var i=t[0],r=t[1],s=r-(ST=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+Xu(e,Math.max(0,n+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ET(e){return e}var Yu,PT,LT,kT=Array.prototype.map,MT=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function b$(e){var n=e.domain;return e.ticks=function(t){var i=n();return function S3(e,n,t){if(!((t=+t)>0))return[];if((e=+e)==(n=+n))return[e];const i=n<e,[r,s,a]=i?$u(n,e,t):$u(e,n,t);if(!(s>=r))return[];const o=s-r+1,l=new Array(o);if(i)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(r+c)/-a;else for(let c=0;c<o;++c)l[c]=(r+c)*a;return l}(i[0],i[i.length-1],t??10)},e.tickFormat=function(t,i){var r=n();return function x$(e,n,t,i){var s,r=hg(e,n,t);switch((i=Uu(i??",f")).type){case"s":var a=Math.max(Math.abs(e),Math.abs(n));return null==i.precision&&!isNaN(s=function d$(e,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(no(n)/3)))-no(Math.abs(e)))}(r,a))&&(i.precision=s),LT(i,a);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(s=function v$(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,no(n)-no(e))+1}(r,Math.max(Math.abs(e),Math.abs(n))))&&(i.precision=s-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(s=function y$(e){return Math.max(0,-no(Math.abs(e)))}(r))&&(i.precision=s-2*("%"===i.type))}return PT(i)}(r[0],r[r.length-1],t??10,i)},e.nice=function(t){null==t&&(t=10);var l,c,i=n(),r=0,s=i.length-1,a=i[r],o=i[s],d=10;for(o<a&&(c=a,a=o,o=c,c=r,r=s,s=c);d-- >0;){if((c=dg(a,o,t))===l)return i[r]=a,i[s]=o,n(i);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else{if(!(c<0))break;a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c}l=c}return e},e}function Us(){var e=CT();return e.copy=function(){return bT(e,Us())},Sl.apply(e,arguments),b$(e)}function FT(e,n,t){e=+e,n=+n,t=(r=arguments.length)<2?(n=e,e=0,1):r<3?1:+t;for(var i=-1,r=0|Math.max(0,Math.ceil((n-e)/t)),s=new Array(r);++i<r;)s[i]=e+i*t;return s}!function _$(e){Yu=function m$(e){var n=void 0===e.grouping||void 0===e.thousands?ET:function h$(e,n){return function(t,i){for(var r=t.length,s=[],a=0,o=e[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),s.push(t.substring(r-=o,r+o)),!((l+=o+1)>i));)o=e[a=(a+1)%e.length];return s.reverse().join(n)}}(kT.call(e.grouping,Number),e.thousands+""),t=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",r=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?ET:function f$(e){return function(n){return n.replace(/[0-9]/g,function(t){return e[+t]})}}(kT.call(e.numerals,String)),a=void 0===e.percent?"%":e.percent+"",o=void 0===e.minus?"\u2212":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function c(f){var b=(f=Uu(f)).fill,k=f.align,$=f.sign,ae=f.symbol,J=f.zero,me=f.width,de=f.comma,be=f.precision,ke=f.trim,Re=f.type;"n"===Re?(de=!0,Re="g"):DT[Re]||(void 0===be&&(be=12),ke=!0,Re="g"),(J||"0"===b&&"="===k)&&(J=!0,b="0",k="=");var Ue="$"===ae?t:"#"===ae&&/[boxX]/.test(Re)?"0"+Re.toLowerCase():"",Tt="$"===ae?i:/[%p]/.test(Re)?a:"",Ot=DT[Re],cn=/[defgprs%]/.test(Re);function zt(_t){var sn,si,We,bn=Ue,Ft=Tt;if("c"===Re)Ft=Ot(_t)+Ft,_t="";else{var Qe=(_t=+_t)<0||1/_t<0;if(_t=isNaN(_t)?l:Ot(Math.abs(_t),be),ke&&(_t=function p$(e){e:for(var r,n=e.length,t=1,i=-1;t<n;++t)switch(e[t]){case".":i=r=t;break;case"0":0===i&&(i=t),r=t;break;default:if(!+e[t])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(r+1):e}(_t)),Qe&&0==+_t&&"+"!==$&&(Qe=!1),bn=(Qe?"("===$?$:o:"-"===$||"("===$?"":$)+bn,Ft=("s"===Re?MT[8+ST/3]:"")+Ft+(Qe&&"("===$?")":""),cn)for(sn=-1,si=_t.length;++sn<si;)if(48>(We=_t.charCodeAt(sn))||We>57){Ft=(46===We?r+_t.slice(sn+1):_t.slice(sn))+Ft,_t=_t.slice(0,sn);break}}de&&!J&&(_t=n(_t,1/0));var ct=bn.length+_t.length+Ft.length,ht=ct<me?new Array(me-ct+1).join(b):"";switch(de&&J&&(_t=n(ht+_t,ht.length?me-Ft.length:1/0),ht=""),k){case"<":_t=bn+_t+Ft+ht;break;case"=":_t=bn+ht+_t+Ft;break;case"^":_t=ht.slice(0,ct=ht.length>>1)+bn+_t+Ft+ht.slice(ct);break;default:_t=ht+bn+_t+Ft}return s(_t)}return be=void 0===be?6:/[gprs]/.test(Re)?Math.max(1,Math.min(21,be)):Math.max(0,Math.min(20,be)),zt.toString=function(){return f+""},zt}return{format:c,formatPrefix:function d(f,b){var k=c(((f=Uu(f)).type="f",f)),$=3*Math.max(-8,Math.min(8,Math.floor(no(b)/3))),ae=Math.pow(10,-$),J=MT[8+$/3];return function(me){return k(ae*me)+J}}}}(e),PT=Yu.format,LT=Yu.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class IT extends Map{constructor(n,t=NT){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=n)for(const[i,r]of n)this.set(i,r)}get(n){return super.get(Lg(this,n))}has(n){return super.has(Lg(this,n))}set(n,t){return super.set(function OT({_intern:e,_key:n},t){const i=n(t);return e.has(i)?e.get(i):(e.set(i,t),t)}(this,n),t)}delete(n){return super.delete(function RT({_intern:e,_key:n},t){const i=n(t);return e.has(i)&&(t=e.get(i),e.delete(i)),t}(this,n))}}function Lg({_intern:e,_key:n},t){const i=n(t);return e.has(i)?e.get(i):t}function NT(e){return null!==e&&"object"==typeof e?e.valueOf():e}const BT=Symbol("implicit");function Fg(){var e=new IT,n=[],t=[],i=BT;function r(s){let a=e.get(s);if(void 0===a){if(i!==BT)return i;e.set(s,a=n.push(s)-1)}return t[a%t.length]}return r.domain=function(s){if(!arguments.length)return n.slice();n=[],e=new IT;for(const a of s)e.has(a)||e.set(a,n.push(a)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return Fg(n,t).unknown(i)},Sl.apply(r,arguments),r}function Ig(){var s,a,e=Fg().unknown(void 0),n=e.domain,t=e.range,i=0,r=1,o=!1,l=0,c=0,d=.5;function f(){var b=n().length,k=r<i,$=k?r:i,ae=k?i:r;s=(ae-$)/Math.max(1,b-l+2*c),o&&(s=Math.floor(s)),$+=(ae-$-s*(b-l))*d,a=s*(1-l),o&&($=Math.round($),a=Math.round(a));var J=FT(b).map(function(me){return $+s*me});return t(k?J.reverse():J)}return delete e.unknown,e.domain=function(b){return arguments.length?(n(b),f()):n()},e.range=function(b){return arguments.length?([i,r]=b,i=+i,r=+r,f()):[i,r]},e.rangeRound=function(b){return[i,r]=b,i=+i,r=+r,o=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(b){return arguments.length?(o=!!b,f()):o},e.padding=function(b){return arguments.length?(l=Math.min(1,c=+b),f()):l},e.paddingInner=function(b){return arguments.length?(l=Math.min(1,b),f()):l},e.paddingOuter=function(b){return arguments.length?(c=+b,f()):c},e.align=function(b){return arguments.length?(d=Math.max(0,Math.min(1,b)),f()):d},e.copy=function(){return Ig(n(),[i,r]).round(o).paddingInner(l).paddingOuter(c).align(d)},Sl.apply(f(),arguments)}function VT(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return VT(n())},e}function HT(){return VT(Ig.apply(null,arguments).paddingInner(1))}function C$(e,n,t=_T){if((i=e.length)&&!isNaN(n=+n)){if(n<=0||i<2)return+t(e[0],0,e);if(n>=1)return+t(e[i-1],i-1,e);var i,r=(i-1)*n,s=Math.floor(r),a=+t(e[s],s,e);return a+(+t(e[s+1],s+1,e)-a)*(r-s)}}function $T(){var i,e=[],n=[],t=[];function r(){var a=0,o=Math.max(1,n.length);for(t=new Array(o-1);++a<o;)t[a-1]=C$(e,a/o);return s}function s(a){return null==a||isNaN(a=+a)?i:n[yT(t,a)]}return s.invertExtent=function(a){var o=n.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:e[0],o<t.length?t[o]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)null!=o&&!isNaN(o=+o)&&e.push(o);return e.sort(vl),r()},s.range=function(a){return arguments.length?(n=Array.from(a),r()):n.slice()},s.unknown=function(a){return arguments.length?(i=a,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return $T().domain(e).range(n).unknown(i)},Sl.apply(s,arguments)}function zT(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Wn(e){return function(){return e}}function jT(e){this._context=e}function Og(e){return new jT(e)}jT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n)}}};const Rg=Math.PI,Ng=2*Rg,Xs=1e-6,w$=Ng-Xs;function GT(e){this._+=e[0];for(let n=1,t=e.length;n<t;++n)this._+=arguments[n]+e[n]}class qu{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==n?GT:function T$(e){let n=Math.floor(e);if(!(n>=0))throw new Error(`invalid digits: ${e}`);if(n>15)return GT;const t=10**n;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}(n)}moveTo(n,t){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,t){this._append`L${this._x1=+n},${this._y1=+t}`}quadraticCurveTo(n,t,i,r){this._append`Q${+n},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(n,t,i,r,s,a){this._append`C${+n},${+t},${+i},${+r},${this._x1=+s},${this._y1=+a}`}arcTo(n,t,i,r,s){if(n=+n,t=+t,i=+i,r=+r,(s=+s)<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=i-n,c=r-t,d=a-n,f=o-t,b=d*d+f*f;if(null===this._x1)this._append`M${this._x1=n},${this._y1=t}`;else if(b>Xs)if(Math.abs(f*l-c*d)>Xs&&s){let k=i-a,$=r-o,ae=l*l+c*c,J=k*k+$*$,me=Math.sqrt(ae),de=Math.sqrt(b),be=s*Math.tan((Rg-Math.acos((ae+b-J)/(2*me*de)))/2),ke=be/de,Re=be/me;Math.abs(ke-1)>Xs&&this._append`L${n+ke*d},${t+ke*f}`,this._append`A${s},${s},0,0,${+(f*k>d*$)},${this._x1=n+Re*l},${this._y1=t+Re*c}`}else this._append`L${this._x1=n},${this._y1=t}`}arc(n,t,i,r,s,a){if(n=+n,t=+t,a=!!a,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),l=i*Math.sin(r),c=n+o,d=t+l,f=1^a,b=a?r-s:s-r;null===this._x1?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Xs||Math.abs(this._y1-d)>Xs)&&this._append`L${c},${d}`,i&&(b<0&&(b=b%Ng+Ng),b>w$?this._append`A${i},${i},0,1,${f},${n-o},${t-l}A${i},${i},0,1,${f},${this._x1=c},${this._y1=d}`:b>Xs&&this._append`A${i},${i},0,${+(b>=Rg)},${f},${this._x1=n+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(n,t,i,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function WT(e){let n=3;return e.digits=function(t){if(!arguments.length)return n;if(null==t)n=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);n=i}return e},()=>new qu(n)}function UT(e){return e[0]}function XT(e){return e[1]}function YT(e,n){var t=Wn(!0),i=null,r=Og,s=null,a=WT(o);function o(l){var c,f,k,d=(l=zT(l)).length,b=!1;for(null==i&&(s=r(k=a())),c=0;c<=d;++c)!(c<d&&t(f=l[c],c,l))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+e(f,c,l),+n(f,c,l));if(k)return s=null,k+""||null}return e="function"==typeof e?e:void 0===e?UT:Wn(e),n="function"==typeof n?n:void 0===n?XT:Wn(n),o.x=function(l){return arguments.length?(e="function"==typeof l?l:Wn(+l),o):e},o.y=function(l){return arguments.length?(n="function"==typeof l?l:Wn(+l),o):n},o.defined=function(l){return arguments.length?(t="function"==typeof l?l:Wn(!!l),o):t},o.curve=function(l){return arguments.length?(r=l,null!=i&&(s=r(i)),o):r},o.context=function(l){return arguments.length?(null==l?i=s=null:s=r(i=l),o):i},o}function qT(e,n,t){var i=null,r=Wn(!0),s=null,a=Og,o=null,l=WT(c);function c(f){var b,k,$,J,de,ae=(f=zT(f)).length,me=!1,be=new Array(ae),ke=new Array(ae);for(null==s&&(o=a(de=l())),b=0;b<=ae;++b){if(!(b<ae&&r(J=f[b],b,f))===me)if(me=!me)k=b,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),$=b-1;$>=k;--$)o.point(be[$],ke[$]);o.lineEnd(),o.areaEnd()}me&&(be[b]=+e(J,b,f),ke[b]=+n(J,b,f),o.point(i?+i(J,b,f):be[b],t?+t(J,b,f):ke[b]))}if(de)return o=null,de+""||null}function d(){return YT().defined(r).curve(a).context(s)}return e="function"==typeof e?e:void 0===e?UT:Wn(+e),n="function"==typeof n?n:Wn(void 0===n?0:+n),t="function"==typeof t?t:void 0===t?XT:Wn(+t),c.x=function(f){return arguments.length?(e="function"==typeof f?f:Wn(+f),i=null,c):e},c.x0=function(f){return arguments.length?(e="function"==typeof f?f:Wn(+f),c):e},c.x1=function(f){return arguments.length?(i=null==f?null:"function"==typeof f?f:Wn(+f),c):i},c.y=function(f){return arguments.length?(n="function"==typeof f?f:Wn(+f),t=null,c):n},c.y0=function(f){return arguments.length?(n="function"==typeof f?f:Wn(+f),c):n},c.y1=function(f){return arguments.length?(t=null==f?null:"function"==typeof f?f:Wn(+f),c):t},c.lineX0=c.lineY0=function(){return d().x(e).y(n)},c.lineY1=function(){return d().x(e).y(t)},c.lineX1=function(){return d().x(i).y(n)},c.defined=function(f){return arguments.length?(r="function"==typeof f?f:Wn(!!f),c):r},c.curve=function(f){return arguments.length?(a=f,null!=s&&(o=a(s)),c):a},c.context=function(f){return arguments.length?(null==f?s=o=null:o=a(s=f),c):s},c}var A$=z(178);const D$=["caretElm"];function E$(e,n){}const k$=function(e){return{model:e}};function M$(e,n){if(1&e&&(we(0,"span"),Je(1,E$,0,0,"ng-template",5),Se()),2&e){const t=$e();Ee(1),Me("ngTemplateOutlet",t.template)("ngTemplateOutletContext",If(2,k$,t.context))}}function P$(e,n){1&e&&ft(0,"span",6),2&e&&Me("innerHTML",$e().title,Iv)}function L$(e,n){if(1&e&&(we(0,"header",4)(1,"span",5),dt(2),Se()()),2&e){const t=$e();Ee(2),Gi(t.title)}}function F$(e,n){if(1&e){const t=Ti();we(0,"li",6)(1,"ngx-charts-legend-entry",7),$t("select",function(r){return un(t),dn($e().labelClick.emit(r))})("activate",function(r){return un(t),dn($e().activate(r))})("deactivate",function(r){return un(t),dn($e().deactivate(r))}),Se()()}if(2&e){const t=n.$implicit,i=$e();Ee(1),Me("label",t.label)("formattedLabel",t.formattedLabel)("color",t.color)("isActive",i.isActive(t))}}function I$(e,n){if(1&e&&(ot(),Jl(),ft(0,"ngx-charts-scale-legend",4)),2&e){const t=$e();Me("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("valueRange",t.legendOptions.domain)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)}}function O$(e,n){if(1&e){const t=Ti();ot(),Jl(),we(0,"ngx-charts-legend",5),$t("labelClick",function(r){return un(t),dn($e().legendLabelClick.emit(r))})("labelActivate",function(r){return un(t),dn($e().legendLabelActivate.emit(r))})("labelDeactivate",function(r){return un(t),dn($e().legendLabelDeactivate.emit(r))}),Se()}if(2&e){const t=$e();Me("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("data",t.legendOptions.domain)("title",t.legendOptions.title)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)("activeEntries",t.activeEntries)}}const QT=["*"],R$=["ngx-charts-axis-label",""],KT=["ticksel"],N$=["ngx-charts-x-axis-ticks",""];function B$(e,n){1&e&&(ot(),Uc(0))}function V$(e,n){if(1&e&&(ot(),we(0,"tspan",10),dt(1),Se()),2&e){const t=n.$implicit;Et("y",12*n.index),Ee(1),Yn(" ",t," ")}}function H$(e,n){if(1&e&&(ot(),ds(0),Je(1,V$,2,2,"tspan",9),hs()),2&e){const t=n.ngIf;Ee(1),Me("ngForOf",t)}}function $$(e,n){if(1&e&&(ot(),Je(0,H$,2,1,"ng-container",4)),2&e){const t=$e(2).$implicit;Me("ngIf",$e().tickChunks(t))}}function z$(e,n){if(1&e&&(ot(),dt(0)),2&e){const t=$e().ngIf;Yn(" ",$e(2).tickTrim(t)," ")}}function j$(e,n){if(1&e&&(ot(),ds(0),we(1,"title"),dt(2),Se(),we(3,"text",5),Je(4,B$,1,0,"ng-container",6),Se(),Je(5,$$,1,1,"ng-template",null,7,$a),Je(7,z$,1,1,"ng-template",null,8,$a),hs()),2&e){const t=n.ngIf,i=Ps(6),r=Ps(8),s=$e(2);Ee(2),Gi(t),Ee(1),Et("text-anchor",s.textAnchor)("transform",s.textTransform),Ee(1),Me("ngIf",s.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",r)}}function G$(e,n){if(1&e&&(ot(),we(0,"g",3),Je(1,j$,9,6,"ng-container",4),Se()),2&e){const t=n.$implicit,i=$e();Et("transform",i.tickTransform(t)),Ee(1),Me("ngIf",i.tickFormat(t))}}function W$(e,n){if(1&e&&(ot(),we(0,"g"),ft(1,"line",11),Se()),2&e){const t=$e(2);Et("transform",t.gridLineTransform()),Ee(1),Et("y1",-t.gridLineHeight)}}function U$(e,n){if(1&e&&(ot(),we(0,"g"),Je(1,W$,2,2,"g",4),Se()),2&e){const t=n.$implicit,i=$e();Et("transform",i.tickTransform(t)),Ee(1),Me("ngIf",i.showGridLines)}}const X$=["ngx-charts-x-axis",""];function Y$(e,n){if(1&e){const t=Ti();ot(),we(0,"g",2),$t("dimensionsChanged",function(r){return un(t),dn($e().emitTicksHeight(r))}),Se()}if(2&e){const t=$e();Me("trimTicks",t.trimTicks)("rotateTicks",t.rotateTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickStroke",t.tickStroke)("scale",t.xScale)("orient",t.xOrient)("showGridLines",t.showGridLines)("gridLineHeight",t.dims.height)("width",t.dims.width)("tickValues",t.ticks)("wrapTicks",t.wrapTicks)}}function q$(e,n){if(1&e&&(ot(),ft(0,"g",3)),2&e){const t=$e();Me("label",t.labelText)("offset",t.labelOffset)("orient",t.orientation.Bottom)("height",t.dims.height)("width",t.dims.width)}}const Q$=["ngx-charts-y-axis-ticks",""];function K$(e,n){1&e&&(ot(),Uc(0))}function Z$(e,n){if(1&e&&(ot(),we(0,"tspan",12),dt(1),Se()),2&e){const t=n.$implicit;Et("y",n.index*(8+$e(6).tickSpacing)),Ee(1),Yn(" ",t," ")}}function J$(e,n){if(1&e&&(ot(),ds(0),Je(1,Z$,2,2,"tspan",11),hs()),2&e){const t=$e().ngIf;Ee(1),Me("ngForOf",t)}}function ez(e,n){if(1&e&&(ot(),ds(0),Je(1,J$,2,1,"ng-container",10),hs()),2&e){const t=n.ngIf;$e(2);const i=Ps(8);Ee(1),Me("ngIf",t.length>1)("ngIfElse",i)}}function tz(e,n){if(1&e&&(ot(),Je(0,ez,2,2,"ng-container",5)),2&e){const t=$e(2).$implicit;Me("ngIf",$e().tickChunks(t))}}function nz(e,n){if(1&e&&(ot(),dt(0)),2&e){const t=$e().ngIf;Yn(" ",$e(2).tickTrim(t)," ")}}function iz(e,n){if(1&e&&(ot(),ds(0),we(1,"title"),dt(2),Se(),we(3,"text",6),Je(4,K$,1,0,"ng-container",7),Se(),Je(5,tz,1,1,"ng-template",null,8,$a),Je(7,nz,1,1,"ng-template",null,9,$a),hs()),2&e){const t=n.ngIf,i=Ps(6),r=Ps(8),s=$e(2);Ee(2),Gi(t),Ee(1),ti("font-size","12px"),Et("dy",s.dy)("x",s.x1)("y",s.y1)("text-anchor",s.textAnchor),Ee(1),Me("ngIf",s.wrapTicks)("ngIfThen",i)("ngIfElse",r)}}function rz(e,n){if(1&e&&(ot(),we(0,"g",4),Je(1,iz,9,10,"ng-container",5),Se()),2&e){const t=n.$implicit,i=$e();Et("transform",i.transform(t)),Ee(1),Me("ngIf",i.tickFormat(t))}}function sz(e,n){if(1&e&&(ot(),ft(0,"path",13)),2&e){const t=$e();Et("d",t.referenceAreaPath)("transform",t.gridLineTransform())}}function az(e,n){1&e&&(ot(),ft(0,"line",15)),2&e&&Et("x2",$e(3).gridLineWidth)}function oz(e,n){1&e&&(ot(),ft(0,"line",15)),2&e&&Et("x2",-$e(3).gridLineWidth)}function lz(e,n){if(1&e&&(ot(),we(0,"g"),Je(1,az,1,1,"line",14),Je(2,oz,1,1,"line",14),Se()),2&e){const t=$e(2);Et("transform",t.gridLineTransform()),Ee(1),Me("ngIf",t.orient===t.Orientation.Left),Ee(1),Me("ngIf",t.orient===t.Orientation.Right)}}function cz(e,n){if(1&e&&(ot(),we(0,"g"),Je(1,lz,3,3,"g",5),Se()),2&e){const t=n.$implicit,i=$e();Et("transform",i.transform(t)),Ee(1),Me("ngIf",i.showGridLines)}}function uz(e,n){if(1&e&&(ot(),we(0,"g")(1,"title"),dt(2),Se(),we(3,"text",17),dt(4),Se()()),2&e){const t=$e(2).$implicit,i=$e();Ee(2),Gi(i.tickTrim(i.tickFormat(t.value))),Ee(1),Et("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),Ee(1),Yn(" ",t.name," ")}}function dz(e,n){if(1&e&&(ot(),we(0,"g"),ft(1,"line",16),Je(2,uz,5,6,"g",5),Se()),2&e){const t=$e().$implicit,i=$e();Et("transform",i.transform(t.value)),Ee(1),Et("x2",i.gridLineWidth)("transform",i.gridLineTransform()),Ee(1),Me("ngIf",i.showRefLabels)}}function hz(e,n){if(1&e&&(ot(),we(0,"g"),Je(1,dz,3,4,"g",5),Se()),2&e){const t=$e();Ee(1),Me("ngIf",t.showRefLines)}}const fz=["ngx-charts-y-axis",""];function pz(e,n){if(1&e){const t=Ti();ot(),we(0,"g",2),$t("dimensionsChanged",function(r){return un(t),dn($e().emitTicksWidth(r))}),Se()}if(2&e){const t=$e();Me("trimTicks",t.trimTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickValues",t.ticks)("tickStroke",t.tickStroke)("scale",t.yScale)("orient",t.yOrient)("showGridLines",t.showGridLines)("gridLineWidth",t.dims.width)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("height",t.dims.height)("wrapTicks",t.wrapTicks)}}function gz(e,n){if(1&e&&(ot(),ft(0,"g",3)),2&e){const t=$e();Me("label",t.labelText)("offset",t.labelOffset)("orient",t.yOrient)("height",t.dims.height)("width",t.dims.width)}}const mz=["ngx-charts-svg-linear-gradient",""];function _z(e,n){if(1&e&&(ot(),ft(0,"stop")),2&e){const t=n.$implicit;ti("stop-color",t.color)("stop-opacity",t.opacity),Et("offset",t.offset+"%")}}const vz=["ngx-charts-circle",""],yz=["ngx-charts-circle-series",""];function xz(e,n){if(1&e&&(ot(),ft(0,"rect",4)),2&e){const t=$e(2);Me("@animationState","active"),Et("x",t.circle.cx-t.circle.radius)("y",t.circle.cy)("width",2*t.circle.radius)("height",t.circle.height)("fill",t.gradientFill)}}function bz(e,n){if(1&e&&(ot(),ft(0,"rect",4)),2&e){const t=$e(2);Et("x",t.circle.cx-t.circle.radius)("y",t.circle.cy)("width",2*t.circle.radius)("height",t.circle.height)("fill",t.gradientFill)}}const Cz=function(e){return{name:e}};function wz(e,n){if(1&e){const t=Ti();ot(),we(0,"g")(1,"defs"),ft(2,"g",1),Se(),Je(3,xz,1,6,"rect",2),Je(4,bz,1,5,"rect",2),we(5,"g",3),$t("select",function(){un(t);const r=$e();return dn(r.onClick(r.circle.data))})("activate",function(){return un(t),dn($e().activateCircle())})("deactivate",function(){return un(t),dn($e().deactivateCircle())}),Se()()}if(2&e){const t=$e();Ee(2),Me("orientation",t.barOrientation.Vertical)("name",t.gradientId)("stops",t.circle.gradientStops),Ee(1),Me("ngIf",!t.isSSR&&t.barVisible&&"standard"===t.type),Ee(1),Me("ngIf",t.isSSR&&t.barVisible&&"standard"===t.type),Ee(1),Cr("active",t.isActive(If(20,Cz,t.circle.seriesName))),Me("cx",t.circle.cx)("cy",t.circle.cy)("r",t.circle.radius)("fill",t.circle.color)("pointerEvents",0===t.circle.value?"none":"all")("data",t.circle.value)("classNames",t.circle.classNames)("tooltipDisabled",t.tooltipDisabled)("tooltipPlacement",t.placementTypes.Top)("tooltipType",t.styleTypes.tooltip)("tooltipTitle",t.tooltipTemplate?void 0:t.getTooltipText(t.circle))("tooltipTemplate",t.tooltipTemplate)("tooltipContext",t.circle.data)}}const kz=["ngx-charts-area",""];function Mz(e,n){if(1&e&&(ot(),we(0,"defs"),ft(1,"g",2),Se()),2&e){const t=$e();Ee(1),Me("orientation",t.barOrientation.Vertical)("name",t.gradientId)("stops",t.gradientStops)}}const Lz=["tooltipAnchor"],Fz=["ngx-charts-tooltip-area",""];function Iz(e,n){if(1&e&&(we(0,"div",6),ft(1,"span",7),dt(2),Se()),2&e){const t=n.$implicit,i=$e(2);Ee(1),ti("background-color",t.color),Ee(1),Yn(" ",i.getToolTipText(t)," ")}}function Oz(e,n){if(1&e&&(ot(),Jl(),we(0,"div",4),Je(1,Iz,3,3,"div",5),Se()),2&e){const t=n.model;Ee(1),Me("ngForOf",t)}}const Rz=["ngx-charts-timeline",""],Gz=["tooltipTemplate"],Wz=["seriesTooltipTemplate"],Al=function(e,n){return[e,n]},xj=["ngx-charts-line",""];function bj(e,n){if(1&e&&(ot(),we(0,"g"),ft(1,"path",1),Se()),2&e){const t=$e();Ee(1),Me("@animationState","active"),Et("d",t.initialPath)("fill",t.fill)("stroke",t.stroke)}}function Cj(e,n){if(1&e&&(ot(),we(0,"g"),ft(1,"path",1),Se()),2&e){const t=$e();Ee(1),Et("d",t.initialPath)("fill",t.fill)("stroke",t.stroke)}}const wj=["ngx-charts-line-series",""];function Tj(e,n){if(1&e&&(ot(),ft(0,"g",4)),2&e){const t=$e();Me("orientation",t.barOrientation.Vertical)("name",t.gradientId)("stops",t.gradientStops)}}function Sj(e,n){if(1&e&&(ot(),ft(0,"g",5)),2&e){const t=$e();Cr("active",t.isActive(t.data))("inactive",t.isInactive(t.data)),Me("data",t.data)("path",t.outerPath)("fill",t.hasGradient?t.gradientUrl:t.colors.getColor(t.data.name))("opacity",t.rangeFillOpacity)("animations",t.animations)}}function Aj(e,n){if(1&e){const t=Ti();ot(),we(0,"g",7),$t("dimensionsChanged",function(r){return un(t),dn($e().updateXAxisHeight(r))}),Se()}if(2&e){const t=$e();Me("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("wrapTicks",t.wrapTicks)}}function Dj(e,n){if(1&e){const t=Ti();ot(),we(0,"g",8),$t("dimensionsChanged",function(r){return un(t),dn($e().updateYAxisWidth(r))}),Se()}if(2&e){const t=$e();Me("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("wrapTicks",t.wrapTicks)}}function Ej(e,n){if(1&e&&(ot(),we(0,"g"),ft(1,"g",10),Se()),2&e){const t=n.$implicit,i=$e(2);Me("@animationState","active"),Ee(1),Me("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function kj(e,n){if(1&e&&(ot(),we(0,"g"),Je(1,Ej,2,11,"g",9),Se()),2&e){const t=$e();Ee(1),Me("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}function Mj(e,n){if(1&e&&(ot(),we(0,"g"),ft(1,"g",10),Se()),2&e){const t=n.$implicit,i=$e(2);Ee(1),Me("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function Pj(e,n){if(1&e&&(ot(),we(0,"g"),Je(1,Mj,2,10,"g",9),Se()),2&e){const t=$e();Ee(1),Me("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}function Lj(e,n){if(1&e){const t=Ti();ot(),we(0,"g")(1,"g",14),$t("select",function(r){return un(t),dn($e(2).onClick(r))})("activate",function(r){return un(t),dn($e(2).onActivate(r))})("deactivate",function(r){return un(t),dn($e(2).onDeactivate(r))}),Se()()}if(2&e){const t=n.$implicit,i=$e(2);Ee(1),Me("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("activeEntries",i.activeEntries)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function Fj(e,n){if(1&e){const t=Ti();ot(),we(0,"g",11),$t("mouseleave",function(){return un(t),dn($e().hideCircles())}),we(1,"g",12),$t("hover",function(r){return un(t),dn($e().updateHoveredVertical(r))}),Se(),Je(2,Lj,2,9,"g",13),Se()}if(2&e){const t=$e();Ee(1),Me("dims",t.dims)("xSet",t.xSet)("xScale",t.xScale)("yScale",t.yScale)("results",t.results)("colors",t.colors)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.seriesTooltipTemplate),Ee(1),Me("ngForOf",t.results)}}function Ij(e,n){if(1&e&&(ot(),we(0,"g"),ft(1,"g",16),Se()),2&e){const t=n.$implicit,i=$e(2);Ee(1),Me("xScale",i.timelineXScale)("yScale",i.timelineYScale)("colors",i.colors)("data",t)("scaleType",i.scaleType)("curve",i.curve)("hasRange",i.hasRange)("animations",i.animations)}}function Oj(e,n){if(1&e){const t=Ti();ot(),we(0,"g",15),$t("onDomainChange",function(r){return un(t),dn($e().updateDomain(r))}),Je(1,Ij,2,8,"g",9),Se()}if(2&e){const t=$e();Me("results",t.results)("view",Of(10,Al,t.timelineWidth,t.height))("height",t.timelineHeight)("scheme",t.scheme)("customColors",t.customColors)("scaleType",t.scaleType)("legend",t.legend),Et("transform",t.timelineTransform),Ee(1),Me("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}function Yj(e,n,t){t=t||{};let i,r,s,a=null,o=0;function l(){o=!1===t.leading?0:+new Date,a=null,s=e.apply(i,r)}return function(){const c=+new Date;!o&&!1===t.leading&&(o=c);const d=n-(c-o);return i=this,r=arguments,d<=0?(clearTimeout(a),a=null,o=c,s=e.apply(i,r)):!a&&!1!==t.trailing&&(a=setTimeout(l,d)),s}}function qj(e,n){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:Yj(s.value,e,n)}),this[r]}}}}var Vt=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.Center="center",e}(Vt||{});function ZT(e,n,t){return t===Vt.Top?e.top-7:t===Vt.Bottom?e.top+e.height-n.height+7:t===Vt.Center?e.top+e.height/2-n.height/2:void 0}function JT(e,n,t){return t===Vt.Left?e.left-7:t===Vt.Right?e.left+e.width-n.width+7:t===Vt.Center?e.left+e.width/2-n.width/2:void 0}class Ni{static calculateVerticalAlignment(n,t,i){let r=ZT(n,t,i);return r+t.height>window.innerHeight&&(r=window.innerHeight-t.height),r}static calculateVerticalCaret(n,t,i,r){let s;r===Vt.Top&&(s=n.height/2-i.height/2+7),r===Vt.Bottom&&(s=t.height-n.height/2-i.height/2-7),r===Vt.Center&&(s=t.height/2-i.height/2);const a=ZT(n,t,r);return a+t.height>window.innerHeight&&(s+=a+t.height-window.innerHeight),s}static calculateHorizontalAlignment(n,t,i){let r=JT(n,t,i);return r+t.width>window.innerWidth&&(r=window.innerWidth-t.width),r}static calculateHorizontalCaret(n,t,i,r){let s;r===Vt.Left&&(s=n.width/2-i.width/2+7),r===Vt.Right&&(s=t.width-n.width/2-i.width/2-7),r===Vt.Center&&(s=t.width/2-i.width/2);const a=JT(n,t,r);return a+t.width>window.innerWidth&&(s+=a+t.width-window.innerWidth),s}static shouldFlip(n,t,i,r){let s=!1;return i===Vt.Right&&n.left+n.width+t.width+r>window.innerWidth&&(s=!0),i===Vt.Left&&n.left-t.width-r<0&&(s=!0),i===Vt.Top&&n.top-t.height-r<0&&(s=!0),i===Vt.Bottom&&n.top+n.height+t.height+r>window.innerHeight&&(s=!0),s}static positionCaret(n,t,i,r,s){let a=0,o=0;return n===Vt.Right?(o=-7,a=Ni.calculateVerticalCaret(i,t,r,s)):n===Vt.Left?(o=t.width,a=Ni.calculateVerticalCaret(i,t,r,s)):n===Vt.Top?(a=t.height,o=Ni.calculateHorizontalCaret(i,t,r,s)):n===Vt.Bottom&&(a=-7,o=Ni.calculateHorizontalCaret(i,t,r,s)),{top:a,left:o}}static positionContent(n,t,i,r,s){let a=0,o=0;return n===Vt.Right?(o=i.left+i.width+r,a=Ni.calculateVerticalAlignment(i,t,s)):n===Vt.Left?(o=i.left-t.width-r,a=Ni.calculateVerticalAlignment(i,t,s)):n===Vt.Top?(a=i.top-t.height-r,o=Ni.calculateHorizontalAlignment(i,t,s)):n===Vt.Bottom&&(a=i.top+i.height+r,o=Ni.calculateHorizontalAlignment(i,t,s)),{top:a,left:o}}static determinePlacement(n,t,i,r){if(Ni.shouldFlip(i,t,n,r)){if(n===Vt.Right)return Vt.Left;if(n===Vt.Left)return Vt.Right;if(n===Vt.Top)return Vt.Bottom;if(n===Vt.Bottom)return Vt.Top}return n}}let Qj=(()=>{class e{constructor(t,i,r){this.element=t,this.renderer=i,this.platformId=r}get cssClasses(){let t="ngx-charts-tooltip-content";return t+=` position-${this.placement}`,t+=` type-${this.type}`,t+=` ${this.cssClass}`,t}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Wr(this.platformId))return;const t=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const r=t.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(t,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(t,"animate"),1)}positionContent(t,i,r){const{top:s,left:a}=Ni.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(t,"top",`${s}px`),this.renderer.setStyle(t,"left",`${a}px`)}positionCaret(t,i){const r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:a,left:o}=Ni.positionCaret(this.placement,i,t,s,this.alignment);this.renderer.setStyle(r,"top",`${a}px`),this.renderer.setStyle(r,"left",`${o}px`)}checkFlip(t,i){this.placement=Ni.determinePlacement(this.placement,i,t,this.spacing)}onWindowResize(){this.position()}}return e.\u0275fac=function(t){return new(t||e)(nt(Xn),nt(Fc),nt(wi))},e.\u0275cmp=It({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(t,i){if(1&t&&Sr(D$,5),2&t){let r;Wi(r=Ui())&&(i.caretElm=r.first)}},hostVars:2,hostBindings:function(t,i){1&t&&$t("resize",function(){return i.onWindowResize()},0,s0),2&t&&function Dy(e){rr(bP,Tr,e,!0)}(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(t,i){1&t&&(we(0,"div"),ft(1,"span",0,1),we(3,"div",2),Je(4,M$,2,4,"span",3),Je(5,P$,1,1,"span",4),Se()()),2&t&&(Ee(1),function zy(e,n,t){rr(Fi,Tr,ka(Ie(),e,n,t),!0)}("tooltip-caret position-",i.placement,""),Me("hidden",!i.showCaret),Ee(3),Me("ngIf",!i.title),Ee(1),Me("ngIf",i.title))},dependencies:[jn,hC],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),function xe(e,n,t,i){var a,r=arguments.length,s=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,n,t,i);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(s=(r<3?a(s):r>3?a(n,t,s):a(n,t))||s);return r>3&&s&&Object.defineProperty(n,t,s),s}([qj(100)],e.prototype,"onWindowResize",null),e})();class Kj{constructor(n){this.injectionService=n,this.defaults={},this.components=new Map}getByType(n=this.type){return this.components.get(n)}create(n){return this.createByType(this.type,n)}createByType(n,t){t=this.assignDefaults(t);const i=this.injectComponent(n,t);return this.register(n,i),i}destroy(n){const t=this.components.get(n.componentType);if(t&&t.length){const i=t.indexOf(n);i>-1&&(t[i].destroy(),t.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(n){const t=this.components.get(n);if(t&&t.length){let i=t.length-1;for(;i>=0;)this.destroy(t[i--])}}injectComponent(n,t){return this.injectionService.appendComponent(n,t)}assignDefaults(n){const t={...this.defaults.inputs},i={...this.defaults.outputs};return!n.inputs&&!n.outputs&&(n={inputs:n}),t&&(n.inputs={...t,...n.inputs}),i&&(n.outputs={...i,...n.outputs}),n}register(n,t){this.components.has(n)||this.components.set(n,[]),this.components.get(n).push(t)}}let eS=(()=>{class e{constructor(t,i,r){this.applicationRef=t,this.componentFactoryResolver=i,this.injector=r}static setGlobalRootViewContainer(t){e.globalRootViewContainer=t}getRootViewContainer(){if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(t){this._container=t}getComponentRootNode(t){return function Zj(e){return e.element}(t)?t.element.nativeElement:t.hostView&&t.hostView.rootNodes.length>0?t.hostView.rootNodes[0]:t.location.nativeElement}getRootViewContainerNode(t){return this.getComponentRootNode(t)}projectComponentBindings(t,i){if(i){if(void 0!==i.inputs){const r=Object.getOwnPropertyNames(i.inputs);for(const s of r)t.instance[s]=i.inputs[s]}if(void 0!==i.outputs){const r=Object.getOwnPropertyNames(i.outputs);for(const s of r)t.instance[s]=i.outputs[s]}}return t}appendComponent(t,i={},r){r||(r=this.getRootViewContainer());const s=this.getComponentRootNode(r),a=new E2(s,this.componentFactoryResolver,this.applicationRef,this.injector),o=new VC(t),l=a.attach(o);return this.projectComponentBindings(l,i),l}}return e.globalRootViewContainer=null,e.\u0275fac=function(t){return new(t||e)(vt(Is),vt(Fo),vt(Br))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),e})(),Bg=(()=>{class e extends Kj{constructor(t){super(t),this.type=Qj}}return e.\u0275fac=function(t){return new(t||e)(vt(eS))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),e})();var Ys=function(e){return e.Right="right",e.Below="below",e}(Ys||{}),Dl=function(e){return e.ScaleLegend="scaleLegend",e.Legend="legend",e}(Dl||{}),ut=function(e){return e.Time="time",e.Linear="linear",e.Ordinal="ordinal",e.Quantile="quantile",e}(ut||{});let tS=(()=>{class e{constructor(){this.horizontal=!1}ngOnChanges(t){const i=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${i})`}gradientString(t,i){i.push(1);const r=[];return t.reverse().forEach((s,a)=>{r.push(`${s} ${Math.round(100*i[a])}%`)}),r.join(", ")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[xn],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(t,i){1&t&&(we(0,"div",0)(1,"div",1)(2,"span"),dt(3),Se()(),ft(4,"div",2),we(5,"div",1)(6,"span"),dt(7),Se()()()),2&t&&(ti("height",i.horizontal?void 0:i.height,"px")("width",i.width,"px"),Cr("horizontal-legend",i.horizontal),Ee(3),Gi(i.valueRange[1].toLocaleString()),Ee(1),ti("background",i.gradient),Ee(3),Gi(i.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}\n"],encapsulation:2,changeDetection:0}),e})();function Vg(e){return e instanceof Date?e.toLocaleDateString():e.toLocaleString()}function nS(e){return e.toLocaleString().replace(/[&'`"<>]/g,n=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[n]))}let iS=(()=>{class e{constructor(){this.isActive=!1,this.select=new mt,this.activate=new mt,this.deactivate=new mt,this.toggle=new mt}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(t,i){1&t&&$t("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(t,i){1&t&&(we(0,"span",0),$t("click",function(){return i.select.emit(i.formattedLabel)}),we(1,"span",1),$t("click",function(){return i.toggle.emit(i.formattedLabel)}),Se(),we(2,"span",2),dt(3),Se()()),2&t&&(Cr("active",i.isActive),Me("title",i.formattedLabel),Ee(1),ti("background-color",i.color),Ee(2),Yn(" ",i.trimmedLabel," "))},encapsulation:2,changeDetection:0}),e})(),rS=(()=>{class e{constructor(t){this.cd=t,this.horizontal=!1,this.labelClick=new mt,this.labelActivate=new mt,this.labelDeactivate=new mt,this.legendEntries=[]}ngOnChanges(t){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const t=[];for(const i of this.data){const r=Vg(i);-1===t.findIndex(a=>a.label===r)&&t.push({label:i,formattedLabel:r,color:this.colors.getColor(i)})}return t}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(r=>t.label===r.name)}activate(t){this.labelActivate.emit(t)}deactivate(t){this.labelDeactivate.emit(t)}trackBy(t,i){return i.label}}return e.\u0275fac=function(t){return new(t||e)(nt(Jo))},e.\u0275cmp=It({type:e,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[xn],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(t,i){1&t&&(we(0,"div"),Je(1,L$,3,1,"header",0),we(2,"div",1)(3,"ul",2),Je(4,F$,2,4,"li",3),Se()()()),2&t&&(ti("width",i.width,"px"),Ee(1),Me("ngIf",(null==i.title?null:i.title.length)>0),Ee(2),ti("max-height",i.height-45,"px"),Cr("horizontal-legend",i.horizontal),Ee(1),Me("ngForOf",i.legendEntries)("ngForTrackBy",i.trackBy))},dependencies:[iS,jn,Ar],styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),e})(),sS=(()=>{class e{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new mt,this.legendLabelActivate=new mt,this.legendLabelDeactivate=new mt,this.LegendPosition=Ys,this.LegendType=Dl}ngOnChanges(t){this.update()}update(){let t=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===Ys.Right)&&(t=this.legendType===Dl.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-t)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==Ys.Right?this.chartWidth:Math.floor(this.view[0]*t/12)}getLegendType(){return this.legendOptions.scaleType===ut.Linear?Dl.ScaleLegend:Dl.Legend}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[Ex([Bg]),xn],ngContentSelectors:QT,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(t,i){1&t&&(mf(),we(0,"div",0),ot(),we(1,"svg",1),_f(2),Se(),Je(3,I$,1,5,"ngx-charts-scale-legend",2),Je(4,O$,1,7,"ngx-charts-legend",3),Se()),2&t&&(ti("width",i.view[0],"px")("height",i.view[1],"px"),Ee(1),Et("width",i.chartWidth)("height",i.view[1]),Ee(2),Me("ngIf",i.showLegend&&i.legendType===i.LegendType.ScaleLegend),Ee(1),Me("ngIf",i.showLegend&&i.legendType===i.LegendType.Legend))},dependencies:[tS,rS,jn],encapsulation:2,changeDetection:0}),e})(),Jj=(()=>{class e{constructor(t,i){this.element=t,this.zone=i,this.visible=new mt,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const t=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:r}=this.element.nativeElement;i&&r?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t())})}}return e.\u0275fac=function(t){return new(t||e)(nt(Xn),nt(_n))},e.\u0275dir=_i({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})();function aS(e){return"[object Date]"===toString.call(e)}let oS=(()=>{class e{constructor(t,i,r,s){this.chartElement=t,this.zone=i,this.cd=r,this.platformId=s,this.scheme="cool",this.schemeType=ut.Ordinal,this.animations=!0,this.select=new mt}ngOnInit(){Wa(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new Jj(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(t){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let t,i;const r=this.chartElement.nativeElement;if(Wr(this.platformId)&&null!==r.parentNode){const s=r.parentNode.getBoundingClientRect();t=s.width,i=s.height}return t&&i?{width:t,height:i}:null}formatDates(){for(let t=0;t<this.results.length;t++){const i=this.results[t];if(i.label=i.name,aS(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let r=0;r<i.series.length;r++){const s=i.series[r];s.label=s.name,aS(s.label)&&(s.label=s.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!Wr(this.platformId))return;const i=Tn(window,"resize").pipe(zC(200)).subscribe(r=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(t){const i=[];for(const r of t){const s={name:r.name};if(void 0!==r.value&&(s.value=r.value),void 0!==r.series){s.series=[];for(const a of r.series){const o=Object.assign({},a);s.series.push(o)}}void 0!==r.extra&&(s.extra=JSON.parse(JSON.stringify(r.extra))),i.push(s)}return i}}return e.\u0275fac=function(t){return new(t||e)(nt(Xn),nt(_n),nt(Jo),nt(wi))},e.\u0275cmp=It({type:e,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[xn],decls:1,vars:0,template:function(t,i){1&t&&ft(0,"div")},encapsulation:2}),e})();var qn=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e}(qn||{});let lS=(()=>{class e{constructor(t){this.textHeight=25,this.margin=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case qn.Top:case qn.Bottom:this.y=this.offset,this.x=this.width/2;break;case qn.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case qn.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}return e.\u0275fac=function(t){return new(t||e)(nt(Xn))},e.\u0275cmp=It({type:e,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[xn],attrs:R$,decls:2,vars:6,template:function(t,i){1&t&&(ot(),we(0,"text"),dt(1),Se()),2&t&&(Et("stroke-width",i.strokeWidth)("x",i.x)("y",i.y)("text-anchor",i.textAnchor)("transform",i.transform),Ee(1),Yn(" ",i.label," "))},encapsulation:2,changeDetection:0}),e})();function Hg(e,n=16){return"string"!=typeof e?"number"==typeof e?e+"":"":(e=e.trim()).length<=n?e:`${e.slice(0,n)}...`}function cS(e,n){if(e.length>n){const t=[],i=Math.floor(e.length/n);for(let r=0;r<e.length;r++)r%i==0&&t.push(e[r]);e=t}return e}function uS(e,n,t){const i=(e||"").toString();let r=[];if(/\s/.test(i))r=i.split(/\s+/).reduce((s,a)=>{const o=(s.pop()||"")+" ";return o.length+a.length>n?[...s,o.trim(),a.trim()]:[...s,o+a]},[]);else{let s=0;for(;s<i.length;)r.push(i.substring(s,s+n)),s+=n}return r.length>t&&(r=r.splice(0,t),r[r.length-1]+="..."),r}var es=function(e){return e.Start="start",e.Middle="middle",e.End="end",e}(es||{});let dS=(()=>{class e{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new mt,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=es.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Wr(this.platformId))return void this.dimensionsChanged.emit({height:this.approxHeight});const t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);t!==this.height&&(this.height=t,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){const t=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(r){return"Date"===r.constructor.name?r.toLocaleDateString():r.toLocaleString()};const i=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(r){return this.scale(r)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",i&&0!==i?(this.textTransform=`rotate(${i})`,this.textAnchor=es.End,this.verticalSpacing=10):this.textAnchor=es.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(t){let i=0;this.maxTicksLength=0;for(let f=0;f<t.length;f++){const b=this.tickFormat(t[f]).toString();let k=b.length;this.trimTicks&&(k=this.tickTrim(b).length),k>this.maxTicksLength&&(this.maxTicksLength=k)}const a=7*Math.min(this.maxTicksLength,this.maxAllowedLength);let o=a;const l=Math.floor(this.width/t.length);for(;o>l&&i>-90;)i-=30,o=Math.cos(i*(Math.PI/180))*a;let c=14;if(this.isWrapTicksSupported){const f=this.ticks.reduce((k,$)=>$.length>k.length?$:k,"");c=14*(this.tickChunks(f).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(f)}const d=0!==i?Math.max(Math.abs(Math.sin(i*Math.PI/180))*this.maxTickLength*7,10):c;return this.approxHeight=Math.min(d,200),i}getTicks(){let t;const i=this.getMaxTicks(20),r=this.getMaxTicks(100);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[r]):(t=this.scale.domain(),t=cS(t,i)),t}getMaxTicks(t){return Math.floor(this.width/t)}tickTransform(t){return"translate("+this.adjustedScale(t)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(t){return this.trimTicks?Hg(t,this.maxTickLength):t}getMaxPossibleLengthForTick(t){if(this.scale.bandwidth){const r=Math.floor(this.scale.bandwidth()/7),s=t.slice(0,r);return Math.max(s.length,this.maxTickLength)}return this.maxTickLength}tickChunks(t){if(t.toString().length>this.maxTickLength&&this.scale.bandwidth){let r=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(r<=1)return[this.tickTrim(t)];let s=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return Wr(this.platformId)||(s=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),r=Math.min(r,5),uS(t,s,r<1?1:r)}return[this.tickTrim(t)]}}return e.\u0275fac=function(t){return new(t||e)(nt(wi))},e.\u0275cmp=It({type:e,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(t,i){if(1&t&&Sr(KT,5),2&t){let r;Wi(r=Ui())&&(i.ticksElement=r.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[xn],attrs:N$,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(t,i){1&t&&(ot(),we(0,"g",null,0),Je(2,G$,2,2,"g",1),Se(),Je(3,U$,2,2,"g",2)),2&t&&(Ee(2),Me("ngForOf",i.ticks),Ee(1),Me("ngForOf",i.ticks))},dependencies:[Ar,jn],encapsulation:2,changeDetection:0}),e})(),eG=(()=>{class e{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=qn.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new mt,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=qn}ngOnChanges(t){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:t}){const i=t+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:t})},0))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(t,i){if(1&t&&Sr(dS,5),2&t){let r;Wi(r=Ui())&&(i.ticksComponent=r.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[xn],attrs:X$,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(t,i){1&t&&(ot(),we(0,"g"),Je(1,Y$,1,13,"g",0),Je(2,q$,1,5,"g",1),Se()),2&t&&(Et("class",i.xAxisClassName)("transform",i.transform),Ee(1),Me("ngIf",i.xScale),Ee(1),Me("ngIf",i.showLabel))},dependencies:[dS,lS,jn],encapsulation:2,changeDetection:0}),e})(),hS=(()=>{class e{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new mt,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=es.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=qn}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Wr(this.platformId))return this.width=this.getApproximateAxisWidth(),void this.dimensionsChanged.emit({width:this.width});const t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);t!==this.width&&(this.width=t,this.dimensionsChanged.emit({width:t}),setTimeout(()=>this.updateDims()))}update(){const t=this.scale,i=this.orient===qn.Top||this.orient===qn.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(r){return"Date"===r.constructor.name?r.toLocaleDateString():r.toLocaleString()},this.adjustedScale=t.bandwidth?r=>{const s=t(r)+.5*t.bandwidth();if(this.wrapTicks&&r.toString().length>this.maxTickLength){const a=this.tickChunks(r).length;if(1===a)return s;const c=.5*t.bandwidth()-8*a*.5;return t(r)+c}return s}:t,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case qn.Top:case qn.Bottom:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=es.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case qn.Left:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=es.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case qn.Right:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=es.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(t=>t.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(t=>t.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=function tG(e,n,t,i,r,[s,a,o,l]){let c="";return c=`M${[e+r,n]}`,c+="h"+((t=0===(t=Math.floor(t))?1:t)-2*r),c+=a?`a${[r,r]} 0 0 1 ${[r,r]}`:`h${r}v${r}`,c+="v"+((i=0===(i=Math.floor(i))?1:i)-2*r),c+=l?`a${[r,r]} 0 0 1 ${[-r,r]}`:`v${r}h${-r}`,c+="h"+(2*r-t),c+=o?`a${[r,r]} 0 0 1 ${[-r,-r]}`:`h${-r}v${-r}`,c+="v"+(2*r-i),c+=s?`a${[r,r]} 0 0 1 ${[r,-r]}`:`v${-r}h${r}`,c+="z",c}(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let t;const i=this.getMaxTicks(20),r=this.getMaxTicks(50);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[r]):(t=this.scale.domain(),t=cS(t,i)),t}getMaxTicks(t){return Math.floor(this.height/t)}tickTransform(t){return`translate(${this.adjustedScale(t)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(t){return this.trimTicks?Hg(t,this.maxTickLength):t}getApproximateAxisWidth(){return 7*Math.max(...this.ticks.map(r=>this.tickTrim(this.tickFormat(r)).length))}tickChunks(t){if(t.toString().length>this.maxTickLength&&this.scale.bandwidth){const i=this.maxTickLength,r=Math.floor(this.scale.bandwidth()/15);return r<=1?[this.tickTrim(t)]:uS(t,i,Math.min(r,5))}return[this.tickFormat(t)]}}return e.\u0275fac=function(t){return new(t||e)(nt(wi))},e.\u0275cmp=It({type:e,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(t,i){if(1&t&&Sr(KT,5),2&t){let r;Wi(r=Ui())&&(i.ticksElement=r.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[xn],attrs:Q$,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(t,i){1&t&&(ot(),we(0,"g",null,0),Je(2,rz,2,2,"g",1),Se(),Je(3,sz,1,2,"path",2),Je(4,cz,2,2,"g",3),Je(5,hz,2,1,"g",3)),2&t&&(Ee(2),Me("ngForOf",i.ticks),Ee(1),Me("ngIf",i.referenceLineLength>1&&i.refMax&&i.refMin&&i.showRefLines),Ee(1),Me("ngForOf",i.ticks),Ee(1),Me("ngForOf",i.referenceLines))},dependencies:[Ar,jn],encapsulation:2,changeDetection:0}),e})(),nG=(()=>{class e{constructor(){this.showGridLines=!1,this.yOrient=qn.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new mt,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(t){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===qn.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:t}){t!==this.labelOffset&&this.yOrient===qn.Right?(this.labelOffset=t+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0)):t!==this.labelOffset&&(this.labelOffset=t,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(t,i){if(1&t&&Sr(hS,5),2&t){let r;Wi(r=Ui())&&(i.ticksComponent=r.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[xn],attrs:fz,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(t,i){1&t&&(ot(),we(0,"g"),Je(1,pz,1,15,"g",0),Je(2,gz,1,5,"g",1),Se()),2&t&&(Et("class",i.yAxisClassName)("transform",i.transform),Ee(1),Me("ngIf",i.yScale),Ee(1),Me("ngIf",i.showLabel))},dependencies:[hS,lS,jn],encapsulation:2,changeDetection:0}),e})(),fS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({imports:[[il]]}),e})();var Qu=function(e){return e.popover="popover",e.tooltip="tooltip",e}(Qu||{}),io=function(e){return e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover",e}(io||{});let pS=(()=>{class e{constructor(t,i,r){this.tooltipService=t,this.viewContainerRef=i,this.renderer=r,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=Vt.Top,this.tooltipAlignment=Vt.Center,this.tooltipType=Qu.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=io.all,this.tooltipImmediateExit=!1,this.show=new mt,this.hide=new mt}get listensForFocus(){return this.tooltipShowEvent===io.all||this.tooltipShowEvent===io.focus}get listensForHover(){return this.tooltipShowEvent===io.all||this.tooltipShowEvent===io.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(t){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(t))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(t){if(this.component||this.tooltipDisabled)return;const i=t?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const r=this.createBoundOptions();this.component=this.tooltipService.create(r),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(t){this.mouseEnterContentEvent=this.renderer.listen(t,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(t,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{t.contains(i.target)||this.hideTooltip()}))}hideTooltip(t=!1){if(!this.component)return;const i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),t?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return e.\u0275fac=function(t){return new(t||e)(nt(Bg),nt(sr),nt(Fc))},e.\u0275dir=_i({type:e,selectors:[["","ngx-tooltip",""]],hostBindings:function(t,i){1&t&&$t("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(s){return i.onMouseLeave(s.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),e})(),gS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({providers:[eS,Bg],imports:[[il]]}),e})();const mS={};function ro(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,mS[e]?ro():(mS[e]=!0,e)}var ts=function(e){return e.Vertical="vertical",e.Horizontal="horizontal",e}(ts||{});let Ku=(()=>{class e{constructor(){this.orientation=ts.Vertical}ngOnChanges(t){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===ts.Horizontal?this.x2="100%":this.orientation===ts.Vertical&&(this.y1="100%")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[xn],attrs:mz,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(ot(),we(0,"linearGradient",0),Je(1,_z,1,5,"stop",1),Se()),2&t&&(Me("id",i.name),Et("x1",i.x1)("y1",i.y1)("x2",i.x2)("y2",i.y2),Ee(1),Me("ngForOf",i.stops))},dependencies:[Ar],encapsulation:2,changeDetection:0}),e})(),_S=(()=>{class e{constructor(){this.select=new mt,this.activate=new mt,this.deactivate=new mt}onClick(){this.select.emit(this.data)}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}ngOnChanges(t){this.classNames=Array.isArray(this.classNames)?this.classNames.join(" "):"",this.classNames+="circle"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["g","ngx-charts-circle",""]],hostBindings:function(t,i){1&t&&$t("click",function(){return i.onClick()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{cx:"cx",cy:"cy",r:"r",fill:"fill",stroke:"stroke",data:"data",classNames:"classNames",circleOpacity:"circleOpacity",pointerEvents:"pointerEvents"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[xn],attrs:vz,decls:1,vars:8,template:function(t,i){1&t&&(ot(),ft(0,"circle")),2&t&&Et("cx",i.cx)("cy",i.cy)("r",i.r)("fill",i.fill)("stroke",i.stroke)("opacity",i.circleOpacity)("class",i.classNames)("pointer-events",i.pointerEvents)},encapsulation:2,changeDetection:0}),e})();var Zu=function(e){return e.Standard="standard",e.Stacked="stacked",e}(Zu||{});let $g,vS=(()=>{class e{constructor(t){this.platformId=t,this.type=Zu.Standard,this.tooltipDisabled=!1,this.select=new mt,this.activate=new mt,this.deactivate=new mt,this.barVisible=!1,this.barOrientation=ts,this.placementTypes=Vt,this.styleTypes=Qu,this.isSSR=!1}ngOnInit(){this.gradientId="grad"+ro().toString(),this.gradientFill=`url(#${this.gradientId})`,Wa(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.circle=this.getActiveCircle()}getActiveCircle(){const t=this.data.series.findIndex(i=>{const r=i.name;return r&&this.visibleValue&&r.toString()===this.visibleValue.toString()&&void 0!==i.value});if(-1!==t)return this.mapDataPointToCircle(this.data.series[t],t)}mapDataPointToCircle(t,i){const r=this.data.name,s=t.value,a=t.name,o=Vg(a);let l;l=this.xScale(this.scaleType===ut.Time?a:this.scaleType===ut.Linear?Number(a):a);const c=this.yScale(this.type===Zu.Standard?s:t.d1),f=this.yScale.range()[0]-c;let k;return k=this.colors.getColor(this.colors.scaleType===ut.Linear?this.type===Zu.Standard?s:t.d1:r),{classNames:[`circle-data-${i}`],value:s,label:a,data:Object.assign({},t,{series:r,value:s,name:a}),cx:l,cy:c,radius:5,height:f,tooltipLabel:o,color:k,opacity:1,seriesName:r,gradientStops:this.getGradientStops(k),min:t.min,max:t.max}}getTooltipText({tooltipLabel:t,value:i,seriesName:r,min:s,max:a}){return`\n      <span class="tooltip-label">${nS(r)} \u2022 ${nS(t)}</span>\n      <span class="tooltip-val">${i.toLocaleString()}${this.getTooltipMinMaxText(s,a)}</span>\n    `}getTooltipMinMaxText(t,i){if(void 0!==t||void 0!==i){let r=" (";return void 0!==t?(void 0===i&&(r+="\u2265"),r+=t.toLocaleString(),void 0!==i&&(r+=" - ")):void 0!==i&&(r+="\u2264"),void 0!==i&&(r+=i.toLocaleString()),r+=")",r}return""}getGradientStops(t){return[{offset:0,color:t,opacity:.2},{offset:100,color:t,opacity:1}]}onClick(t){this.select.emit(t)}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(r=>t.name===r.name)}activateCircle(){this.barVisible=!0,this.activate.emit({name:this.data.name})}deactivateCircle(){this.barVisible=!1,this.circle.opacity=0,this.deactivate.emit({name:this.data.name})}}return e.\u0275fac=function(t){return new(t||e)(nt(wi))},e.\u0275cmp=It({type:e,selectors:[["g","ngx-charts-circle-series",""]],inputs:{data:"data",type:"type",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",visibleValue:"visibleValue",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[xn],attrs:yz,decls:1,vars:1,consts:[[4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["class","tooltip-bar",4,"ngIf"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"],[1,"tooltip-bar"]],template:function(t,i){1&t&&Je(0,wz,6,22,"g",0),2&t&&Me("ngIf",i.circle)},dependencies:[Ku,_S,jn,pS],encapsulation:2,data:{animation:[al("animationState",[Ns(":enter",[ni({opacity:0}),Rs(250,ni({opacity:1}))])])]},changeDetection:0}),e})(),xS=(()=>{class e{constructor(t){this.opacity=1,this.startOpacity=.5,this.endOpacity=1,this.gradient=!1,this.animations=!0,this.select=new mt,this.animationsLoaded=!1,this.hasGradient=!1,this.barOrientation=ts,this.element=t.nativeElement}ngOnChanges(){this.update(),this.animationsLoaded||(this.loadAnimation(),this.animationsLoaded=!0)}update(){this.gradientId="grad"+ro().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl()}loadAnimation(){this.areaPath=this.startingPath,setTimeout(this.updatePathEl.bind(this),100)}updatePathEl(){const t=qi(this.element).select(".area");this.animations?t.transition().duration(750).attr("d",this.path):t.attr("d",this.path)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:this.endOpacity}]}}return e.\u0275fac=function(t){return new(t||e)(nt(Xn))},e.\u0275cmp=It({type:e,selectors:[["g","ngx-charts-area",""]],inputs:{data:"data",path:"path",startingPath:"startingPath",fill:"fill",opacity:"opacity",startOpacity:"startOpacity",endOpacity:"endOpacity",gradient:"gradient",stops:"stops",animations:"animations"},outputs:{select:"select"},features:[xn],attrs:kz,decls:2,vars:5,consts:[[4,"ngIf"],[1,"area"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(t,i){1&t&&(Je(0,Mz,2,3,"defs",0),ot(),ft(1,"path",1)),2&t&&(Me("ngIf",i.gradient),Ee(1),ti("opacity",i.opacity),Et("d",i.areaPath)("fill",i.gradient?i.gradientFill:i.fill))},dependencies:[Ku,jn],encapsulation:2,changeDetection:0}),e})();typeof window<"u"?$g=window:typeof global<"u"&&($g=global);const wS=$g.MouseEvent;function zg(e,n=!1,t=!0){if("function"==typeof wS)return new wS(e,{bubbles:n,cancelable:t});{const i=document.createEvent("MouseEvent");return i.initEvent(e,n,t),i}}let TS=(()=>{class e{constructor(t){this.platformId=t,this.anchorOpacity=0,this.anchorPos=-1,this.anchorValues=[],this.placementTypes=Vt,this.styleTypes=Qu,this.showPercentage=!1,this.tooltipDisabled=!1,this.hover=new mt}getValues(t){const i=[];for(const r of this.results){const s=r.series.find(o=>o.name.toString()===t.toString());let a=r.name;if(a instanceof Date&&(a=a.toLocaleDateString()),s){const o=s.name;let c,l=s.value;if(this.showPercentage&&(l=(s.d1-s.d0).toFixed(2)+"%"),this.colors.scaleType===ut.Linear){let f=l;s.d1&&(f=s.d1),c=this.colors.getColor(f)}else c=this.colors.getColor(r.name);const d=Object.assign({},s,{value:l,name:o,series:a,min:s.min,max:s.max,color:c});i.push(d)}}return i}mouseMove(t){if(!Wr(this.platformId))return;const i=t.pageX-t.target.getBoundingClientRect().left,r=this.findClosestPointIndex(i),s=this.xSet[r];if(this.anchorPos=this.xScale(s),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(s),this.anchorPos!==this.lastAnchorPos){const a=zg("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(a),this.anchorOpacity=.7,this.hover.emit({value:s}),this.showTooltip(),this.lastAnchorPos=this.anchorPos}}findClosestPointIndex(t){let i=0,r=this.xSet.length-1,s=Number.MAX_VALUE,a=0;for(;i<=r;){const o=(i+r)/2|0,l=this.xScale(this.xSet[o]),c=Math.abs(l-t);if(c<s&&(s=c,a=o),l<t)i=o+1;else{if(!(l>t)){s=0,a=o;break}r=o-1}}return a}showTooltip(){const t=zg("mouseenter");this.tooltipAnchor.nativeElement.dispatchEvent(t)}hideTooltip(){const t=zg("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(t),this.anchorOpacity=0,this.lastAnchorPos=-1}getToolTipText(t){let i="";return i+=void 0!==t.series?t.series:"???",i+=": ",void 0!==t.value&&(i+=t.value.toLocaleString()),(void 0!==t.min||void 0!==t.max)&&(i+=" (",void 0!==t.min?(void 0===t.max&&(i+="\u2265"),i+=t.min.toLocaleString(),void 0!==t.max&&(i+=" - ")):void 0!==t.max&&(i+="\u2264"),void 0!==t.max&&(i+=t.max.toLocaleString()),i+=")"),i}}return e.\u0275fac=function(t){return new(t||e)(nt(wi))},e.\u0275cmp=It({type:e,selectors:[["g","ngx-charts-tooltip-area",""]],viewQuery:function(t,i){if(1&t&&Sr(Lz,5),2&t){let r;Wi(r=Ui())&&(i.tooltipAnchor=r.first)}},inputs:{dims:"dims",xSet:"xSet",xScale:"xScale",yScale:"yScale",results:"results",colors:"colors",showPercentage:"showPercentage",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{hover:"hover"},attrs:Fz,decls:6,vars:18,consts:[["y","0",1,"tooltip-area",2,"opacity","0","cursor","'auto'",3,"mousemove","mouseleave"],["defaultTooltipTemplate",""],["y","0","ngx-tooltip","",1,"tooltip-anchor",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipSpacing","tooltipTemplate","tooltipContext","tooltipImmediateExit"],["tooltipAnchor",""],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"]],template:function(t,i){if(1&t&&(ot(),we(0,"g")(1,"rect",0),$t("mousemove",function(s){return i.mouseMove(s)})("mouseleave",function(){return i.hideTooltip()}),Se(),Je(2,Oz,2,1,"ng-template",null,1,$a),ft(4,"rect",2,3),Se()),2&t){const r=Ps(3);Ee(1),Et("x",0)("width",i.dims.width)("height",i.dims.height),Ee(3),ti("opacity",i.anchorOpacity)("pointer-events","none"),Me("@animationState",0!==i.anchorOpacity?"active":"inactive")("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Right)("tooltipType",i.styleTypes.tooltip)("tooltipSpacing",15)("tooltipTemplate",i.tooltipTemplate?i.tooltipTemplate:r)("tooltipContext",i.anchorValues)("tooltipImmediateExit",!0),Et("x",i.anchorPos)("width",1)("height",i.dims.height)}},dependencies:[Ar,pS],encapsulation:2,data:{animation:[al("animationState",[Ns("inactive => active",[ni({opacity:0}),Rs(250,ni({opacity:.7}))]),Ns("active => inactive",[ni({opacity:.7}),Rs(250,ni({opacity:0}))])])]},changeDetection:0}),e})(),SS=(()=>{class e{constructor(t,i){this.cd=i,this.height=50,this.select=new mt,this.onDomainChange=new mt,this.initialized=!1,this.element=t.nativeElement}ngOnChanges(t){this.update(),this.initialized||(this.addBrush(),this.initialized=!0)}update(){this.dims=this.getDims(),this.height=this.dims.height;const t=this.view[1]-this.height;this.xDomain=this.getXDomain(),this.xScale=this.getXScale(),this.brush&&this.updateBrush(),this.transform=`translate(0 , ${t})`,this.filterId="filter"+ro().toString(),this.filter=`url(#${this.filterId})`,this.cd.markForCheck()}getXDomain(){let t=[];for(const r of this.results)for(const s of r.series)t.includes(s.name)||t.push(s.name);let i=[];return this.scaleType===ut.Time?i=[Math.min(...t),Math.max(...t)]:this.scaleType===ut.Linear?(t=t.map(a=>Number(a)),i=[Math.min(...t),Math.max(...t)]):i=t,i}getXScale(){let t;return this.scaleType===ut.Time?t=TT().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===ut.Linear?t=Us().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===ut.Ordinal&&(t=HT().range([0,this.dims.width]).padding(.1).domain(this.xDomain)),t}addBrush(){if(this.brush)return;const t=this.height,i=this.view[0];this.brush=function y3(){return function cg(e){var o,n=m3,t=g3,i=_3,r=!0,s=sw("start","brush","end"),a=6;function l(J){var me=J.property("__brush",ae).selectAll(".overlay").data([_l("overlay")]);me.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",qr.overlay).merge(me).each(function(){var be=lg(this).extent;qi(this).attr("x",be[0][0]).attr("y",be[0][1]).attr("width",be[1][0]-be[0][0]).attr("height",be[1][1]-be[0][1])}),J.selectAll(".selection").data([_l("selection")]).enter().append("rect").attr("class","selection").attr("cursor",qr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var de=J.selectAll(".handle").data(e.handles,function(be){return be.type});de.exit().remove(),de.enter().append("rect").attr("class",function(be){return"handle handle--"+be.type}).attr("cursor",function(be){return qr[be.type]}),J.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",b).filter(i).on("touchstart.brush",b).on("touchmove.brush",k).on("touchend.brush touchcancel.brush",$).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var J=qi(this),me=lg(this).selection;me?(J.selectAll(".selection").style("display",null).attr("x",me[0][0]).attr("y",me[0][1]).attr("width",me[1][0]-me[0][0]).attr("height",me[1][1]-me[0][1]),J.selectAll(".handle").style("display",null).attr("x",function(de){return"e"===de.type[de.type.length-1]?me[1][0]-a/2:me[0][0]-a/2}).attr("y",function(de){return"s"===de.type[0]?me[1][1]-a/2:me[0][1]-a/2}).attr("width",function(de){return"n"===de.type||"s"===de.type?me[1][0]-me[0][0]+a:a}).attr("height",function(de){return"e"===de.type||"w"===de.type?me[1][1]-me[0][1]+a:a})):J.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(J,me,de){var be=J.__brush.emitter;return!be||de&&be.clean?new f(J,me,de):be}function f(J,me,de){this.that=J,this.args=me,this.state=J.__brush,this.active=0,this.clean=de}function b(J){if((!o||J.touches)&&t.apply(this,arguments)){var zt,_t,Ft,sn,We,Qe,ht,Nt,Di,is,ys,me=this,de=J.target.__data__.type,be="selection"===(r&&J.metaKey?de="overlay":de)?Nw:r&&J.altKey?Qa:qa,ke=e===Hu?null:f3[de],Re=e===Vu?null:p3[de],Ue=lg(me),Tt=Ue.extent,Ot=Ue.selection,cn=Tt[0][0],bn=Tt[0][1],si=Tt[1][0],ct=Tt[1][1],Qt=0,jt=0,nn=ke&&Re&&r&&J.shiftKey,Ut=Array.from(J.touches||[J],Ct=>{const Dn=Ct.identifier;return(Ct=Cw(Ct,me)).point0=Ct.slice(),Ct.identifier=Dn,Ct});tg(me);var hi=d(me,arguments,!0).beforestart();if("overlay"===de){Ot&&(Di=!0);const Ct=[Ut[0],Ut[1]||Ut[0]];Ue.selection=Ot=[[zt=e===Hu?cn:ri(Ct[0][0],Ct[1][0]),Ft=e===Vu?bn:ri(Ct[0][1],Ct[1][1])],[We=e===Hu?si:ii(Ct[0][0],Ct[1][0]),ht=e===Vu?ct:ii(Ct[0][1],Ct[1][1])]],Ut.length>1&&An(J)}else zt=Ot[0][0],Ft=Ot[0][1],We=Ot[1][0],ht=Ot[1][1];_t=zt,sn=Ft,Qe=We,Nt=ht;var Ke=qi(me).attr("pointer-events","none"),St=Ke.selectAll(".overlay").attr("cursor",qr[de]);if(J.touches)hi.moved=ze,hi.ended=an;else{var Rt=qi(J.view).on("mousemove.brush",ze,!0).on("mouseup.brush",an,!0);r&&Rt.on("keydown.brush",function fi(Ct){switch(Ct.keyCode){case 16:nn=ke&&Re;break;case 18:be===qa&&(ke&&(We=Qe-Qt*ke,zt=_t+Qt*ke),Re&&(ht=Nt-jt*Re,Ft=sn+jt*Re),be=Qa,An(Ct));break;case 32:(be===qa||be===Qa)&&(ke<0?We=Qe-Qt:ke>0&&(zt=_t-Qt),Re<0?ht=Nt-jt:Re>0&&(Ft=sn-jt),be=ag,St.attr("cursor",qr.selection),An(Ct));break;default:return}sg(Ct)},!0).on("keyup.brush",function pi(Ct){switch(Ct.keyCode){case 16:nn&&(is=ys=nn=!1,An(Ct));break;case 18:be===Qa&&(ke<0?We=Qe:ke>0&&(zt=_t),Re<0?ht=Nt:Re>0&&(Ft=sn),be=qa,An(Ct));break;case 32:be===ag&&(Ct.altKey?(ke&&(We=Qe-Qt*ke,zt=_t+Qt*ke),Re&&(ht=Nt-jt*Re,Ft=sn+jt*Re),be=Qa):(ke<0?We=Qe:ke>0&&(zt=_t),Re<0?ht=Nt:Re>0&&(Ft=sn),be=qa),St.attr("cursor",qr[de]),An(Ct));break;default:return}sg(Ct)},!0),function wB(e){var n=e.document.documentElement,t=qi(e).on("dragstart.drag",Gp,jp);"onselectstart"in n?t.on("selectstart.drag",Gp,jp):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}(J.view)}c.call(me),hi.start(J,be.name)}function ze(Ct){for(const Dn of Ct.changedTouches||[Ct])for(const Il of Ut)Il.identifier===Dn.identifier&&(Il.cur=Cw(Dn,me));if(nn&&!is&&!ys&&1===Ut.length){const Dn=Ut[0];Bw(Dn.cur[0]-Dn[0])>Bw(Dn.cur[1]-Dn[1])?ys=!0:is=!0}for(const Dn of Ut)Dn.cur&&(Dn[0]=Dn.cur[0],Dn[1]=Dn.cur[1]);Di=!0,sg(Ct),An(Ct)}function An(Ct){const Dn=Ut[0],Il=Dn.point0;var xs;switch(Qt=Dn[0]-Il[0],jt=Dn[1]-Il[1],be){case ag:case Nw:ke&&(Qt=ii(cn-zt,ri(si-We,Qt)),_t=zt+Qt,Qe=We+Qt),Re&&(jt=ii(bn-Ft,ri(ct-ht,jt)),sn=Ft+jt,Nt=ht+jt);break;case qa:Ut[1]?(ke&&(_t=ii(cn,ri(si,Ut[0][0])),Qe=ii(cn,ri(si,Ut[1][0])),ke=1),Re&&(sn=ii(bn,ri(ct,Ut[0][1])),Nt=ii(bn,ri(ct,Ut[1][1])),Re=1)):(ke<0?(Qt=ii(cn-zt,ri(si-zt,Qt)),_t=zt+Qt,Qe=We):ke>0&&(Qt=ii(cn-We,ri(si-We,Qt)),_t=zt,Qe=We+Qt),Re<0?(jt=ii(bn-Ft,ri(ct-Ft,jt)),sn=Ft+jt,Nt=ht):Re>0&&(jt=ii(bn-ht,ri(ct-ht,jt)),sn=Ft,Nt=ht+jt));break;case Qa:ke&&(_t=ii(cn,ri(si,zt-Qt*ke)),Qe=ii(cn,ri(si,We+Qt*ke))),Re&&(sn=ii(bn,ri(ct,Ft-jt*Re)),Nt=ii(bn,ri(ct,ht+jt*Re)))}Qe<_t&&(ke*=-1,xs=zt,zt=We,We=xs,xs=_t,_t=Qe,Qe=xs,de in Hw&&St.attr("cursor",qr[de=Hw[de]])),Nt<sn&&(Re*=-1,xs=Ft,Ft=ht,ht=xs,xs=sn,sn=Nt,Nt=xs,de in $w&&St.attr("cursor",qr[de=$w[de]])),Ue.selection&&(Ot=Ue.selection),is&&(_t=Ot[0][0],Qe=Ot[1][0]),ys&&(sn=Ot[0][1],Nt=Ot[1][1]),(Ot[0][0]!==_t||Ot[0][1]!==sn||Ot[1][0]!==Qe||Ot[1][1]!==Nt)&&(Ue.selection=[[_t,sn],[Qe,Nt]],c.call(me),hi.brush(Ct,be.name))}function an(Ct){if(function d3(e){e.stopImmediatePropagation()}(Ct),Ct.touches){if(Ct.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else(function TB(e,n){var t=e.document.documentElement,i=qi(e).on("dragstart.drag",null);n&&(i.on("click.drag",Gp,jp),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in t?i.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)})(Ct.view,Di),Rt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ke.attr("pointer-events","all"),St.attr("cursor",qr.overlay),Ue.selection&&(Ot=Ue.selection),function v3(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(Ot)&&(Ue.selection=null,c.call(me)),hi.end(Ct,be.name)}}function k(J){d(this,arguments).moved(J)}function $(J){d(this,arguments).ended(J)}function ae(){var J=this.__brush||{selection:null};return J.extent=og(n.apply(this,arguments)),J.dim=e,J}return l.move=function(J,me,de){J.tween?J.on("start.brush",function(be){d(this,arguments).beforestart().start(be)}).on("interrupt.brush end.brush",function(be){d(this,arguments).end(be)}).tween("brush",function(){var be=this,ke=be.__brush,Re=d(be,arguments),Ue=ke.selection,Tt=e.input("function"==typeof me?me.apply(this,arguments):me,ke.extent),Ot=Mu(Ue,Tt);function cn(zt){ke.selection=1===zt&&null===Tt?null:Ot(zt),c.call(be),Re.brush()}return null!==Ue&&null!==Tt?cn:cn(1)}):J.each(function(){var be=this,ke=arguments,Re=be.__brush,Ue=e.input("function"==typeof me?me.apply(be,ke):me,Re.extent),Tt=d(be,ke).beforestart();tg(be),Re.selection=null===Ue?null:Ue,c.call(be),Tt.start(de).brush(de).end(de)})},l.clear=function(J,me){l.move(J,null,me)},f.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(J,me){return this.starting?(this.starting=!1,this.emit("start",J,me)):this.emit("brush",J),this},brush:function(J,me){return this.emit("brush",J,me),this},end:function(J,me){return 0==--this.active&&(delete this.state.emitter,this.emit("end",J,me)),this},emit:function(J,me,de){var be=qi(this.that).datum();s.call(J,this.that,new u3(J,{sourceEvent:me,target:l,selection:e.output(this.state.selection),mode:de,dispatch:s}),be)}},l.extent=function(J){return arguments.length?(n="function"==typeof J?J:rg(og(J)),l):n},l.filter=function(J){return arguments.length?(t="function"==typeof J?J:rg(!!J),l):t},l.touchable=function(J){return arguments.length?(i="function"==typeof J?J:rg(!!J),l):i},l.handleSize=function(J){return arguments.length?(a=+J,l):a},l.keyModifiers=function(J){return arguments.length?(r=!!J,l):r},l.on=function(){var J=s.on.apply(s,arguments);return J===s?l:J},l}(Vu)}().extent([[0,0],[i,t]]).on("brush end",({selection:r})=>{const a=(r||this.xScale.range()).map(this.xScale.invert);this.onDomainChange.emit(a),this.cd.markForCheck()}),qi(this.element).select(".brush").call(this.brush)}updateBrush(){this.brush&&(this.brush.extent([[0,0],[this.view[0],this.height]]),qi(this.element).select(".brush").call(this.brush),qi(this.element).select(".selection").attr("fill",void 0).attr("stroke",void 0).attr("fill-opacity",void 0),this.cd.markForCheck())}getDims(){return{width:this.view[0],height:this.height}}}return e.\u0275fac=function(t){return new(t||e)(nt(Xn),nt(Jo))},e.\u0275cmp=It({type:e,selectors:[["g","ngx-charts-timeline",""]],inputs:{view:"view",results:"results",scheme:"scheme",customColors:"customColors",legend:"legend",autoScale:"autoScale",scaleType:"scaleType",height:"height"},outputs:{select:"select",onDomainChange:"onDomainChange"},features:[xn],attrs:Rz,ngContentSelectors:QT,decls:7,vars:4,consts:[[1,"timeline"],["in","SourceGraphic","type","matrix","values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"],[1,"embedded-chart"],["x","0","y","0",1,"brush-background"],[1,"brush"]],template:function(t,i){1&t&&(mf(),ot(),we(0,"g",0)(1,"filter"),ft(2,"feColorMatrix",1),Se(),we(3,"g",2),_f(4),Se(),ft(5,"rect",3)(6,"g",4),Se()),2&t&&(Et("transform",i.transform),Ee(1),Et("id",i.filterId),Ee(4),Et("width",i.view[0])("height",i.height))},styles:[".timeline .brush-background{fill:#0000000d}.timeline .brush .selection{fill:#0000001a;stroke-width:1px;stroke:#888}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}\n"],encapsulation:2,changeDetection:0}),e})(),Ki=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({imports:[[il,fS,gS],il,fS,gS]}),e})();const AS=[{name:"vivid",selectable:!0,group:ut.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:ut.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:ut.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:ut.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:ut.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:ut.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:ut.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:ut.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:ut.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:ut.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:ut.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:ut.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:ut.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:ut.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:ut.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class lG{constructor(n,t,i,r){"string"==typeof n&&(n=AS.find(s=>s.name===n)),this.colorDomain=n.domain,this.scaleType=t,this.domain=i,this.customColors=r,this.scale=this.generateColorScheme(n,t,this.domain)}generateColorScheme(n,t,i){let r;switch("string"==typeof n&&(n=AS.find(s=>s.name===n)),t){case ut.Quantile:r=$T().range(n.domain).domain(i);break;case ut.Ordinal:r=Fg().range(n.domain).domain(i);break;case ut.Linear:{const s=[...n.domain];1===s.length&&(s.push(s[0]),this.colorDomain=s);const a=FT(0,1,1/s.length);r=Us().range(s).domain(a)}}return r}getColor(n){if(null==n)throw new Error("Value can not be null");if(this.scaleType===ut.Linear){const t=Us().domain(this.domain).range([0,1]);return this.scale(t(n))}{if("function"==typeof this.customColors)return this.customColors(n);const t=n.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(r=>r.name.toLowerCase()===t.toLowerCase())),i?i.value:this.scale(n)}}getLinearGradientStops(n,t){void 0===t&&(t=this.domain[0]);const i=Us().domain(this.domain).range([0,1]),r=Ig().domain(this.colorDomain).range([0,1]),s=this.getColor(n),a=i(t),o=this.getColor(t),l=i(n);let c=1,d=a;const f=[];for(f.push({color:o,offset:a,originalOffset:a,opacity:1});d<l&&c<this.colorDomain.length;){const b=this.colorDomain[c],k=r(b);if(k<=a)c++;else{if(k.toFixed(4)>=(l-r.bandwidth()).toFixed(4))break;f.push({color:b,offset:k,opacity:1}),d=k,c++}}if(f[f.length-1].offset<100&&f.push({color:s,offset:l,opacity:1}),l===a)f[0].offset=0,f[1].offset=100;else if(100!==f[f.length-1].offset)for(const b of f)b.offset=(b.offset-a)/(l-a)*100;return f}}let fG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({imports:[[Ki]]}),e})(),ES=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({imports:[[Ki]]}),e})();A$();let mG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({imports:[[Ki]]}),e})(),_G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({imports:[[Ki]]}),e})(),vG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({imports:[[Ki]]}),e})(),yG=(()=>{class e{constructor(t,i){this.element=t,this.platformId=i,this.fill="none",this.animations=!0,this.initialized=!1,this.isSSR=!1}ngOnInit(){Wa(this.platformId)&&(this.isSSR=!0)}ngOnChanges(t){this.initialized?this.updatePathEl():(this.initialized=!0,this.initialPath=this.path)}updatePathEl(){const t=qi(this.element.nativeElement).select(".line");this.animations?t.transition().duration(750).attr("d",this.path):t.attr("d",this.path)}}return e.\u0275fac=function(t){return new(t||e)(nt(Xn),nt(wi))},e.\u0275cmp=It({type:e,selectors:[["g","ngx-charts-line",""]],inputs:{path:"path",stroke:"stroke",data:"data",fill:"fill",animations:"animations"},features:[xn],attrs:xj,decls:2,vars:2,consts:[[4,"ngIf"],["stroke-width","1.5px",1,"line"]],template:function(t,i){1&t&&(Je(0,bj,2,4,"g",0),Je(1,Cj,2,3,"g",0)),2&t&&(Me("ngIf",!i.isSSR),Ee(1),Me("ngIf",i.isSSR))},dependencies:[jn],encapsulation:2,data:{animation:[al("animationState",[Ns(":enter",[ni({strokeDasharray:2e3,strokeDashoffset:2e3}),Rs(1e3,ni({strokeDashoffset:0}))])])]},changeDetection:0}),e})(),xG=(()=>{class e{constructor(){this.animations=!0,this.barOrientation=ts}ngOnChanges(t){this.update()}update(){this.updateGradients();const t=this.sortData(this.data.series),i=this.getLineGenerator();this.path=i(t)||"";const r=this.getAreaGenerator();if(this.areaPath=r(t)||"",this.hasRange){const s=this.getRangeGenerator();this.outerPath=s(t)||""}if(this.hasGradient){this.stroke=this.gradientUrl;const s=this.data.series.map(l=>l.value),a=Math.max(...s);a===Math.min(...s)&&(this.stroke=this.colors.getColor(a))}else this.stroke=this.colors.getColor(this.data.name)}getLineGenerator(){return YT().x(t=>{const i=t.name;let r;return r=this.xScale(this.scaleType===ut.Time?i:this.scaleType===ut.Linear?Number(i):i),r}).y(t=>this.yScale(t.value)).curve(this.curve)}getRangeGenerator(){return qT().x(t=>{const i=t.name;let r;return r=this.xScale(this.scaleType===ut.Time?i:this.scaleType===ut.Linear?Number(i):i),r}).y0(t=>this.yScale("number"==typeof t.min?t.min:t.value)).y1(t=>this.yScale("number"==typeof t.max?t.max:t.value)).curve(this.curve)}getAreaGenerator(){return qT().x(i=>this.xScale(i.name)).y0(()=>this.yScale.range()[0]).y1(i=>this.yScale(i.value)).curve(this.curve)}sortData(t){return t=this.scaleType===ut.Linear?function uG(e,n,t="asc"){return e.sort((i,r)=>"asc"===t?i[n]-r[n]:r[n]-i[n])}(t,"name"):this.scaleType===ut.Time?function hG(e,n,t="asc"){return e.sort((i,r)=>{const s=i[n].getTime(),a=r[n].getTime();return"asc"===t?s>a?1:a>s?-1:0:s>a?-1:a>s?1:0})}(t,"name"):function dG(e,n,t="asc",i){return e.sort((r,s)=>{const o=s[n],l=i.indexOf(r[n]),c=i.indexOf(o);return"asc"===t?l-c:c-l})}(t,"name","asc",this.xScale.domain()),t}updateGradients(){if(this.colors.scaleType===ut.Linear){this.hasGradient=!0,this.gradientId="grad"+ro().toString(),this.gradientUrl=`url(#${this.gradientId})`;const t=this.data.series.map(s=>s.value),i=Math.max(...t),r=Math.min(...t);this.gradientStops=this.colors.getLinearGradientStops(i,r),this.areaGradientStops=this.colors.getLinearGradientStops(i)}else this.hasGradient=!1,this.gradientStops=void 0,this.areaGradientStops=void 0}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(r=>t.name===r.name)}isInactive(t){return!(!this.activeEntries||0===this.activeEntries.length)&&void 0===this.activeEntries.find(r=>t.name===r.name)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["g","ngx-charts-line-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",hasRange:"hasRange",animations:"animations"},features:[xn],attrs:wj,decls:6,vars:22,consts:[["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops",4,"ngIf"],["ngx-charts-area","",1,"line-highlight",3,"data","path","fill","opacity","startOpacity","gradient","stops","animations"],["ngx-charts-line","",1,"line-series",3,"data","path","stroke","animations"],["ngx-charts-area","","class","line-series-range",3,"data","path","fill","active","inactive","opacity","animations",4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["ngx-charts-area","",1,"line-series-range",3,"data","path","fill","opacity","animations"]],template:function(t,i){1&t&&(ot(),we(0,"g")(1,"defs"),Je(2,Tj,1,3,"g",0),Se(),ft(3,"g",1)(4,"g",2),Je(5,Sj,1,9,"g",3),Se()),2&t&&(Ee(2),Me("ngIf",i.hasGradient),Ee(1),Cr("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),Me("data",i.data)("path",i.areaPath)("fill",i.hasGradient?i.gradientUrl:i.colors.getColor(i.data.name))("opacity",.25)("startOpacity",0)("gradient",!0)("stops",i.areaGradientStops)("animations",i.animations),Ee(1),Cr("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),Me("data",i.data)("path",i.path)("stroke",i.stroke)("animations",i.animations),Ee(1),Me("ngIf",i.hasRange))},dependencies:[Ku,xS,yG,jn],encapsulation:2,changeDetection:0}),e})(),bG=(()=>{class e extends oS{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition=Ys.Right,this.showGridLines=!0,this.curve=Og,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showRefLines=!1,this.showRefLabels=!0,this.wrapTicks=!1,this.activate=new mt,this.deactivate=new mt,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.isSSR=!1}ngOnInit(){Wa(this.platformId)&&(this.isSSR=!0)}update(){super.update(),this.dims=function oG({width:e,height:n,margins:t,showXAxis:i=!1,showYAxis:r=!1,xAxisHeight:s=0,yAxisWidth:a=0,showXLabel:o=!1,showYLabel:l=!1,showLegend:c=!1,legendType:d=ut.Ordinal,legendPosition:f=Ys.Right,columns:b=12}){let k=t[3],$=e,ae=n-t[0]-t[2];return c&&f===Ys.Right&&(b-=d===ut.Ordinal?2:1),$=$*b/12,$=$-t[1]-t[3],i&&(ae-=5,ae-=s,o&&(ae-=30)),r&&($-=5,$-=a,k+=a,k+=10,l&&($-=30,k+=30)),$=Math.max(0,$),ae=Math.max(0,ae),{width:Math.floor($),height:Math.floor(ae),xOffset:Math.floor(k)}}({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+ro().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let t=function cG(e){const n=new Set;for(const t of e)for(const i of t.series)n.add(i.name);return Array.from(n)}(this.results);this.scaleType=function DS(e,n=!0){return n&&e.every(r=>r instanceof Date)?ut.Time:e.every(i=>"number"==typeof i)?ut.Linear:ut.Ordinal}(t);let r,s,i=[];return this.scaleType===ut.Linear&&(t=t.map(a=>Number(a))),(this.scaleType===ut.Time||this.scaleType===ut.Linear)&&(r=this.xScaleMin?this.xScaleMin:Math.min(...t),s=this.xScaleMax?this.xScaleMax:Math.max(...t)),this.scaleType===ut.Time?(i=[new Date(r),new Date(s)],this.xSet=[...t].sort((a,o)=>{const l=a.getTime(),c=o.getTime();return l>c?1:c>l?-1:0})):this.scaleType===ut.Linear?(i=[r,s],this.xSet=[...t].sort((a,o)=>a-o)):(i=t,this.xSet=t),i}getYDomain(){const t=[];for(const a of this.results)for(const o of a.series)t.indexOf(o.value)<0&&t.push(o.value),void 0!==o.min&&(this.hasRange=!0,t.indexOf(o.min)<0&&t.push(o.min)),void 0!==o.max&&(this.hasRange=!0,t.indexOf(o.max)<0&&t.push(o.max));const i=[...t];return this.autoScale||i.push(0),[this.yScaleMin?this.yScaleMin:Math.min(...i),this.yScaleMax?this.yScaleMax:Math.max(...i)]}getSeriesDomain(){return this.results.map(t=>t.name)}getXScale(t,i){let r;return this.scaleType===ut.Time?r=TT().range([0,i]).domain(t):this.scaleType===ut.Linear?(r=Us().range([0,i]).domain(t),this.roundDomains&&(r=r.nice())):this.scaleType===ut.Ordinal&&(r=HT().range([0,i]).padding(.1).domain(t)),r}getYScale(t,i){const r=Us().range([i,0]).domain(t);return this.roundDomains?r.nice():r}updateDomain(t){this.filteredDomain=t,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(t){this.hoveredVertical=t.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(t){this.select.emit(t)}trackBy(t,i){return`${i.name}`}setColors(){let t;t=this.schemeType===ut.Ordinal?this.seriesDomain:this.yDomain,this.colors=new lG(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===ut.Ordinal?(t.domain=this.seriesDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onActivate(t){this.deactivateAll(),!(this.activeEntries.findIndex(r=>r.name===t.name&&r.value===t.value)>-1)&&(this.activeEntries=[t],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t){const i=this.activeEntries.findIndex(r=>r.name===t.name&&r.value===t.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const t of this.activeEntries)this.deactivate.emit({value:t,entries:[]});this.activeEntries=[]}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=function R_(e){return Pr(()=>{const n=e.prototype.constructor,t=n[Lr]||Zd(n),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const s=r[Lr]||Zd(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}(e)))(i||e)}}(),e.\u0275cmp=It({type:e,selectors:[["ngx-charts-line-chart"]],contentQueries:function(t,i,r){if(1&t&&(Wf(r,Gz,5),Wf(r,Wz,5)),2&t){let s;Wi(s=Ui())&&(i.tooltipTemplate=s.first),Wi(s=Ui())&&(i.seriesTooltipTemplate=s.first)}},hostBindings:function(t,i){1&t&&$t("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",rangeFillOpacity:"rangeFillOpacity",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showRefLines:"showRefLines",referenceLines:"referenceLines",showRefLabels:"showRefLabels",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[of],decls:12,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"line-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngIf"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","hasRange","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","scaleType","curve","hasRange","animations"]],template:function(t,i){1&t&&(we(0,"ngx-charts-chart",0),$t("legendLabelClick",function(s){return i.onClick(s)})("legendLabelActivate",function(s){return i.onActivate(s)})("legendLabelDeactivate",function(s){return i.onDeactivate(s)}),ot(),we(1,"defs")(2,"clipPath"),ft(3,"rect"),Se()(),we(4,"g",1),Je(5,Aj,1,11,"g",2),Je(6,Dj,1,13,"g",3),we(7,"g"),Je(8,kj,2,2,"g",4),Je(9,Pj,2,2,"g",4),Je(10,Fj,3,9,"g",5),Se()(),Je(11,Oj,2,13,"g",6),Se()),2&t&&(Me("view",Of(17,Al,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),Ee(2),Et("id",i.clipPathId),Ee(1),Et("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),Ee(1),Et("transform",i.transform),Ee(1),Me("ngIf",i.xAxis),Ee(1),Me("ngIf",i.yAxis),Ee(1),Et("clip-path",i.clipPath),Ee(1),Me("ngIf",!i.isSSR),Ee(1),Me("ngIf",i.isSSR),Ee(1),Me("ngIf",!i.tooltipDisabled),Ee(1),Me("ngIf",i.timeline&&"ordinal"!=i.scaleType))},dependencies:[sS,eG,nG,xG,TS,vS,SS,jn,Ar],styles:[".ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n"],encapsulation:2,data:{animation:[al("animationState",[Ns(":leave",[ni({opacity:1}),Rs(500,ni({opacity:0}))])])]},changeDetection:0}),e})(),kS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({imports:[[Ki]]}),e})();Math;let jg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({imports:[[Ki]]}),e})(),TG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({imports:[[Ki,jg,kS]]}),e})(),AG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({imports:[[Ki]]}),e})(),DG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({imports:[[Ki]]}),e})(),kG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({imports:[[Ki,jg,ES]]}),e})(),PG=(()=>{class e{constructor(){!function MG(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({imports:[Ki,fG,ES,mG,_G,vG,kS,TG,AG,jg,DG,kG]}),e})();function LG(e,n){if(1&e&&ft(0,"ngx-charts-line-chart",4),2&e){const t=$e();Me("view",t.chartDimensions)("results",t.lineChartDataSet)("showGridLines",!1)("xAxisLabel","Date")("yAxisLabel","Temperature (Celsius)")("xAxis",!0)("autoScale",!0)}}let FG=(()=>{class e{constructor(t){this.data=t,this.dataInitialised=!1,this.timeZone="GMT",this.lineChartDataSet={},this._chartVh=15,this._chartVw=30,this.chartDimensions=[300,300],this.city="",this.currentTemp=0,this.weatherApiLink=()=>`https://api.open-meteo.com/v1/forecast?latitude=${this.latitude}&longitude=${this.longitude}&timezone=${this.timeZone}&daily=temperature_2m_max&daily=temperature_2m_min&current_weather=true`}ngAfterContentInit(){if(this.city=this.data.ipDetails.city,this.data.ipDetails.latitude){if(this.calculateChartDimensions(),Object.keys(this.data.weatherData).length)return this.reformatDataToLineChart(this.data.weatherData),void(this.currentTemp=this.data.weatherData.current_weather.temperature);this.latitude=this.data.ipDetails.latitude,this.longitude=this.data.ipDetails.longitude,this.timeZone=this.data.ipDetails.timezone,this.getWeatherForecast()}}calculateChartDimensions(){const t=Math.round(innerHeight/(100/this._chartVh)),i=Math.round(innerWidth/(100/this._chartVw));this.chartDimensions=[i,t]}getWeatherForecast(){fetch(this.weatherApiLink()).then(t=>t.json()).then(t=>{this.data.weatherData=t,this.currentTemp=t.current_weather.temperature,this.reformatDataToLineChart(t)})}reformatDataToLineChart(t){let i=[];const r=t.daily.time,o={maximumTemperature:t.daily.temperature_2m_max,minimumTemperature:t.daily.temperature_2m_min};for(const[l,c]of Object.entries(o)){let d={name:l},f=[];r.forEach((b,k)=>{f.push({name:b,value:c[k]})}),d.series=f,i.push(d)}this.lineChartDataSet=i,this.dataInitialised=!0}}return e.\u0275fac=function(t){return new(t||e)(nt(Np))},e.\u0275cmp=It({type:e,selectors:[["app-weather"]],decls:8,vars:3,consts:[["id","weatherContainer"],["id","chartWeatherContainer"],["id","cityCurrentTemp"],["style","fill: white;",3,"view","results","showGridLines","xAxisLabel","yAxisLabel","xAxis","autoScale",4,"ngIf"],[2,"fill","white",3,"view","results","showGridLines","xAxisLabel","yAxisLabel","xAxis","autoScale"]],template:function(t,i){1&t&&(we(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),dt(4),Se(),we(5,"div"),dt(6," \u2103"),Se()(),Je(7,LG,1,7,"ngx-charts-line-chart",3),Se()()),2&t&&(Ee(4),Tf(" ",i.city,": ",i.currentTemp," "),Ee(3),Me("ngIf",i.dataInitialised))},dependencies:[jn,bG],styles:["#weatherContainer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}#chartWeatherContainer[_ngcontent-%COMP%]{position:absolute;margin-left:5%;bottom:20vw;width:10vh;height:10vh}#cityCurrentTemp[_ngcontent-%COMP%]{width:50vw;color:#fff;font-size:4vw;display:flex;margin-left:5%;justify-content:left}"]}),e})(),IG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["app-home-content"]],decls:9,vars:0,consts:[["id","welcomePageContainer"],["id","welcomeSubText"],["id","homeDisclaimer",2,"position","absolute","bottom","10px","left","10px","color","red","z-index","1","font-size","2vw"],["id","digitalClockContainer"],["id","weatherContainer"]],template:function(t,i){1&t&&(we(0,"div",0)(1,"div",1),dt(2," Hope you enjoy the site! "),Se(),we(3,"div",2),dt(4," Disclaimer: This portfolio app is still in a work in progress "),Se(),we(5,"div",3),ft(6,"app-digital-clock"),Se(),we(7,"div",4),ft(8,"app-weather"),Se()())},dependencies:[T2,FG],styles:["#backgroundContainer[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1}.welcomeBackgroundAnimation[_ngcontent-%COMP%]{background:linear-gradient(-45deg,#362222,#171010,#423F3E,#2B2B2B);background-size:400% 400%;animation:_ngcontent-%COMP%_gradient 15s ease infinite}.homeBackgroundAnimation[_ngcontent-%COMP%]{background:linear-gradient(-5deg,#11327e,#587bb9,#e77d8d,#f9a791,#ffd597);background-size:400% 400%;animation:_ngcontent-%COMP%_gradient 15s ease infinite}@keyframes _ngcontent-%COMP%_gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}#welcomePageContainer[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;z-index:1;top:0;left:0}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeLate{0%{opacity:0}70%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeOutWelcome{0%{transform:scale(1);opacity:1}70%{opacity:0}to{opacity:0;transform:scale(2)}}#welcomeSubText[_ngcontent-%COMP%]{font-size:5vh;margin-left:5%;color:#fff;bottom:50%;position:absolute;animation:_ngcontent-%COMP%_fadeIn 5s}.fadeOutElement[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOutWelcome 2s forwards}app-content-banner[_ngcontent-%COMP%]{position:absolute;width:100%;top:0;left:0}app-home-content[_ngcontent-%COMP%]{width:100%;height:100%}#digitalClockContainer[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:40%}"]}),e})();function Sn(e){return T((n,t)=>{En(e).subscribe(x(t,()=>t.complete(),ne)),!t.closed&&n.subscribe(t)})}var qs=z(627),ed=z.t(qs,2),kr=z(16),RG=z.t(kr,2);const NG=["pdfViewerContainer"];function Gg(e,n,t){e[n]=t}function El(){return typeof window>"u"}El()||Gg(ed,"verbosity",qs.VerbosityLevel.INFOS);var td=function(e){return e[e.DISABLED=0]="DISABLED",e[e.ENABLED=1]="ENABLED",e[e.ENHANCED=2]="ENHANCED",e}(td||{});let HG=(()=>{class e{constructor(t,i){if(this.element=t,this.ngZone=i,this.isVisible=!1,this._cMapsUrl=typeof ed<"u"?`https://unpkg.com/pdfjs-dist@${qs.version}/cmaps/`:null,this._imageResourcesPath=typeof ed<"u"?`https://unpkg.com/pdfjs-dist@${qs.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=td.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new u,this.afterLoadComplete=new mt,this.pageRendered=new mt,this.pageInitialized=new mt,this.textLayerRendered=new mt,this.onError=new mt,this.onProgress=new mt,this.pageChange=new mt(!0),El())return;let r;const s=qs.version;r=window[`pdfWorkerSrc${s}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.js`),Gg(qs.GlobalWorkerOptions,"workerSrc",r)}set cMapsUrl(t){this._cMapsUrl=t}set page(t){const i=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,i!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=!!t}set fitToPage(t){this._fitToPage=!!t}set showBorders(t){this._showBorders=!!t}static getLinkTarget(t){switch(t){case"blank":return kr.LinkTarget.BLANK;case"none":return kr.LinkTarget.NONE;case"self":return kr.LinkTarget.SELF;case"parent":return kr.LinkTarget.PARENT;case"top":return kr.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!El()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:td.DISABLED,this.resetPdfDocument()):"showAll"in t&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){const{page:i}=t;if(i.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){Ol(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(Sn(this.destroy$)).subscribe({next:t=>{const i=this._rotation+t.rotate,r=t.getViewport({scale:this._zoom,rotation:i}).width*e.CSS_UNITS;let s=this._zoom,a=!0;if(!this._originalSize||this._fitToPage&&r>this.pdfViewerContainer.nativeElement.clientWidth){const o=t.getViewport({scale:1,rotation:i});s=this.getScale(o.width,o.height),a=!this._stickToPage}this.pdfViewer._setScale(s,a)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const t=e.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=function BG(e,n){const t=new e.EventBus;return function VG(e,n){Tn(e,"documentload").pipe(Sn(n)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),Tn(e,"pagerendered").pipe(Sn(n)).subscribe(({pageNumber:t,cssTransform:i,source:r})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:i}),r.div.dispatchEvent(s)}),Tn(e,"textlayerrendered").pipe(Sn(n)).subscribe(({pageNumber:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),i.textLayerDiv.dispatchEvent(r)}),Tn(e,"pagechanging").pipe(Sn(n)).subscribe(({pageNumber:t,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("pagechanging",!0,!0),r.pageNumber=t,i.container.dispatchEvent(r)}),Tn(e,"pagesinit").pipe(Sn(n)).subscribe(({source:t})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(i)}),Tn(e,"pagesloaded").pipe(Sn(n)).subscribe(({pagesCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),i.container.dispatchEvent(r)}),Tn(e,"scalechange").pipe(Sn(n)).subscribe(({scale:t,presetValue:i,source:r})=>{const s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=t,s.presetValue=i,r.container.dispatchEvent(s)}),Tn(e,"updateviewarea").pipe(Sn(n)).subscribe(({location:t,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("updateviewarea",!0,!0),r.location=t,i.container.dispatchEvent(r)}),Tn(e,"find").pipe(Sn(n)).subscribe(({source:t,type:i,query:r,phraseSearch:s,caseSensitive:a,highlightAll:o,findPrevious:l})=>{if(t===window)return;const c=document.createEvent("CustomEvent");c.initCustomEvent("find"+i,!0,!0,{query:r,phraseSearch:s,caseSensitive:a,highlightAll:o,findPrevious:l}),window.dispatchEvent(c)}),Tn(e,"attachmentsloaded").pipe(Sn(n)).subscribe(({attachmentsCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),i.container.dispatchEvent(r)}),Tn(e,"sidebarviewchanged").pipe(Sn(n)).subscribe(({view:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),i.outerContainer.dispatchEvent(r)}),Tn(e,"pagemode").pipe(Sn(n)).subscribe(({mode:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagemode",!0,!0,{mode:t}),i.pdfViewer.container.dispatchEvent(r)}),Tn(e,"namedaction").pipe(Sn(n)).subscribe(({action:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("namedaction",!0,!0,{action:t}),i.pdfViewer.container.dispatchEvent(r)}),Tn(e,"presentationmodechanged").pipe(Sn(n)).subscribe(({active:t,switchInProgress:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:i}),window.dispatchEvent(r)}),Tn(e,"outlineloaded").pipe(Sn(n)).subscribe(({outlineCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),i.container.dispatchEvent(r)})}(t,n),t}(RG,this.destroy$),Tn(this.eventBus,"pagerendered").pipe(Sn(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),Tn(this.eventBus,"pagesinit").pipe(Sn(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),Tn(this.eventBus,"pagechanging").pipe(Sn(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),Tn(this.eventBus,"textlayerrendered").pipe(Sn(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new kr.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new kr.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:td.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){Gg(ed,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new kr.PDFViewer(this.getPDFOptions()):new kr.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const i={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===t?i.url=this.src:"object"===t&&(void 0!==this.src.byteLength?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=qs.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};const t=this.src;Ol(this.loadingTask.promise).pipe(Sn(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=t,this.afterLoadComplete.emit(i),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(t,i){const r=this._showBorders?2*e.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-r,a=this.pdfViewerContainer.nativeElement.clientHeight-r;if(0===a||0===i||0===s||0===t)return 1;let o=1;switch(this._zoomScale){case"page-fit":o=Math.min(a/i,s/t);break;case"page-height":o=a/i;break;default:o=s/t}return this._zoom*o/e.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){El()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){El()||this.ngZone.runOutsideAngular(()=>{Tn(window,"resize").pipe(zC(100),function OG(e,n){return T((t,i)=>{let r=0;t.subscribe(x(i,s=>e.call(n,s,r++)&&i.next(s)))})}(()=>this._canAutoResize&&!!this._pdf),Sn(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return e.CSS_UNITS=96/72,e.BORDER_WIDTH=9,e.\u0275fac=function(t){return new(t||e)(nt(Xn),nt(_n))},e.\u0275cmp=It({type:e,selectors:[["pdf-viewer"]],viewQuery:function(t,i){if(1&t&&Sr(NG,5),2&t){let r;Wi(r=Ui())&&(i.pdfViewerContainer=r.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[xn],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(t,i){1&t&&(we(0,"div",0,1),ft(2,"div",2),Se())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),e})(),$G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({}),e})(),zG=(()=>{class e{constructor(){this.showCV=!1,this.pdfSrc="../../assets/CV_JoshuaDalangin.pdf",this.pdfZoom=.8,this.showCVEmit=new mt}ngAfterContentInit(){this.pdfZoom=.8,innerWidth<450&&(this.pdfZoom=.5),innerWidth<400&&(this.pdfZoom=.4)}showCVPage(t){this.showCVEmit.emit(t)}confirmDownloadCV(){return confirm("Confirm Download?")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["app-cv-content"]],outputs:{showCVEmit:"showCVEmit"},decls:8,vars:7,consts:[["id","pdfContainer"],["id","cvPageControls"],["id","cvDownloadTag","target","_blank","download","CV_JoshuaDalangin",2,"text-decoration","none","color","white",3,"href","click"],["id","downloadCVButton",1,"cvControl"],["id","closeCVButton",1,"cvControl",3,"click"],["id","pdfContainerComponent",2,"max-width","100vw","max-height","85vh","top","1%",3,"src","render-text","show-borders","zoom","autoresize","zoom-scale"]],template:function(t,i){1&t&&(we(0,"div",0)(1,"div",1)(2,"a",2),$t("click",function(){return i.confirmDownloadCV()}),we(3,"div",3),dt(4,"Download"),Se()(),we(5,"div",4),$t("click",function(){return i.showCVPage(!1)}),dt(6,"Close"),Se()(),ft(7,"pdf-viewer",5),Se()),2&t&&(Ee(2),Me("href",i.pdfSrc,Dh),Ee(5),Me("src",i.pdfSrc)("render-text",!1)("show-borders",!0)("zoom",i.pdfZoom)("autoresize",!0)("zoom-scale","page-fit"))},dependencies:[HG],styles:["#pdfContainer[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(128,128,128,.9);z-index:3}#pdfContainerComponent[_ngcontent-%COMP%]{margin-top:5%;height:85%}#cvPageControls[_ngcontent-%COMP%]{display:flex;position:absolute;top:1%;margin-left:25%;font-size:4vw;color:#fff;width:50%;font-weight:700;place-content:center}#downloadCVButton[_ngcontent-%COMP%], #closeCVButton[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}.cvControl[_ngcontent-%COMP%]:hover{background:#676767}"]}),e})();const kl={_origin:"https://api.emailjs.com"};class PS{constructor(n){this.status=n?n.status:0,this.text=n?n.responseText:"Network Error"}}const UG_send=(e,n,t,i)=>{const r=i||kl._userID;return((e,n,t)=>{if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!n)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(r,e,n),((e,n,t={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:a})=>{const o=new PS(a);200===o.status||"OK"===o.text?i(o):r(o)}),s.addEventListener("error",({target:a})=>{r(new PS(a))}),s.open("POST",kl._origin+e,!0),Object.keys(t).forEach(a=>{s.setRequestHeader(a,t[a])}),s.send(n)}))("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:r,service_id:e,template_id:n,template_params:t}),{"Content-type":"application/json"})},XG=new bt("recaptcha-language"),YG=new bt("recaptcha-base-url"),qG=new bt("recaptcha-nonce-tag"),QG=new bt("recaptcha-settings"),KG=new bt("recaptcha-v3-site-key"),JG_loadScript=function ZG(e,n,t,i,r){window.ng2recaptchaloaded=()=>{n(grecaptcha)};const s=document.createElement("script");s.innerHTML="",s.src=`${i||"https://www.google.com/recaptcha/api.js"}?render=${e}&onload=ng2recaptchaloaded${t}`,r&&s.setAttribute("nonce",r),s.async=!0,s.defer=!0,document.head.appendChild(s)};let FS=(()=>{class e{constructor(t,i,r,s,a){this.platformId=t,this.language=i,this.baseUrl=r,this.nonce=s,this.v3SiteKey=a,this.init(),this.ready=Wr(this.platformId)?e.ready.asObservable():xm()}init(){if(!e.ready&&Wr(this.platformId)){const t=new y(null);e.ready=t,JG_loadScript(this.v3SiteKey||"explicit",s=>t.next(s),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}}return e.ready=null,e.\u0275fac=function(t){return new(t||e)(vt(wi),vt(XG,8),vt(YG,8),vt(qG,8),vt(KG,8))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),e})(),e5=0,t5=(()=>{class e{constructor(t,i,r,s){this.elementRef=t,this.loader=i,this.zone=r,this.id="ngrecaptcha-"+e5++,this.errorMode="default",this.resolved=new mt,this.error=new mt,this.errored=new mt,s&&(this.siteKey=s.siteKey,this.theme=s.theme,this.type=s.type,this.size=s.size,this.badge=s.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{null!=t&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(t){this.error.emit(t),this.errored.emit(t)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const t={badge:this.badge,callback:i=>{this.zone.run(()=>this.captchaResponseCallback(i))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(t["error-callback"]=(...i)=>{this.zone.run(()=>this.onError(i))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,t),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}return e.\u0275fac=function(t){return new(t||e)(nt(Xn),nt(FS),nt(_n),nt(QG,8))},e.\u0275cmp=It({type:e,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(t,i){2&t&&Et("id",i.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(t,i){},encapsulation:2}),e})(),n5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({}),e})(),i5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({providers:[FS],imports:[n5]}),e})();function r5(e,n){if(1&e){const t=Ti();we(0,"re-captcha",7),$t("resolved",function(r){return un(t),dn($e().resolved(r))})("errored",function(r){return un(t),dn($e().captchaError(r))}),Se()}2&e&&vf("siteKey",$e().captchaKey)}let s5=(()=>{class e{constructor(t){this.data=t,this.captchaKey="6LdIKJwnAAAAADvF-wMLeZjD6knXUtNXI2WbNEY5",this.client_info="",this.showCaptcha=!1,this.formDataSaved={},this.clientDataExtract={timeSent:()=>new Date,referrer:()=>document.referrer,previousSites:()=>history.length,platform:()=>navigator.userAgentData.platform,downConnectionMbps:()=>navigator.connection.downlink,mobile:()=>navigator.userAgentData.mobile,browserVersion1b:()=>navigator.userAgent,hardwareConcurrency:()=>navigator.hardwareConcurrency,browserLanguage:()=>navigator.language,browserPlatform:()=>navigator.platform,javaEnabled:()=>navigator.javaEnabled(),dataCookiesEnabled:()=>navigator.cookieEnabled,dataCookies1:()=>document.cookie,dataCookies2:()=>decodeURIComponent(document.cookie.split(";"))}}resolved(t){let r={};this.formDataSaved.forEach((a,o)=>{r[o]=a}),r["g-recaptcha-response"]=t;let s={};s.ip=this.data.ip,Object.keys(this.clientDataExtract).forEach(a=>{s[a]=this.clientDataExtract[a]()}),r.client_info=JSON.stringify(s),this.sendEmail(r)}captchaError(t){console.error(t)}saveForm(t){t.preventDefault(),this.formDataSaved=new FormData(t.target),this.showCaptcha=!0}sendEmail(t){this.showCaptcha=!1,UG_send("PersonalPortfolio","PersonalTemplate",t,"bL5mXQFl0smMGkcW7").then(i=>{document.getElementById("emailForm").reset(),document.getElementById("submitMessageForm").value="Message Sent!",setTimeout(()=>{document.getElementById("submitMessageForm").value="Send Message"},5e3)},i=>{alert("Error Sending Message. Please Try Again Later.")})}}return e.\u0275fac=function(t){return new(t||e)(nt(Np))},e.\u0275cmp=It({type:e,selectors:[["app-contact-form"]],decls:16,vars:1,consts:[["id","emailForm",3,"submit"],["type","text","name","from_name","required","","placeholder","Required"],["type","email","name","emailAddress","id","aboutForm","required","","placeholder","Required eg: email@email.com"],["type","tel","pattern","[0-9]{11}","name","phone_number","placeholder","Optional eg: 07777777777"],["id","messageBox","placeholder","Add your message here","value","Add your message here","required","","name","message"],["id","submitMessageForm","type","submit","value","Send Message"],["style","position: absolute;",3,"siteKey","resolved","errored",4,"ngIf"],[2,"position","absolute",3,"siteKey","resolved","errored"]],template:function(t,i){1&t&&(we(0,"div")(1,"form",0),$t("submit",function(s){return i.saveForm(s)}),we(2,"label"),dt(3,"Name"),Se(),ft(4,"input",1),we(5,"label"),dt(6,"Email"),Se(),ft(7,"input",2),we(8,"label"),dt(9,"Phone Number"),Se(),ft(10,"input",3),we(11,"label"),dt(12,"Message"),Se(),ft(13,"textarea",4)(14,"input",5),Se(),Je(15,r5,1,1,"re-captcha",6),Se()),2&t&&(Ee(15),Me("ngIf",i.showCaptcha))},dependencies:[jn,t5],styles:["#emailForm[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto auto auto auto auto auto auto 50% auto}label[_ngcontent-%COMP%]{font-size:2vw}"]}),e})(),a5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["app-about-content"]],decls:10,vars:0,consts:[["src","../../../assets/img/Montains.png"],["id","aboutPageText"],["id","aboutTextContent"],["id","contactFormContainer"],["id","contactFormDescription"],["id","contactForm"]],template:function(t,i){1&t&&(we(0,"div"),ft(1,"img",0),we(2,"div",1)(3,"div",2),dt(4," This site acts as a portfolio to display some development skills and learn new things along the way. Projects built specifically for the website will be using Angular for the frontend, .Net/C# for the backend and whatever database is best suited for that project. "),Se()(),we(5,"div",3)(6,"div",4),dt(7," Contact me below "),Se(),we(8,"div",5),ft(9,"app-contact-form"),Se()()())},dependencies:[s5],styles:["img[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:-120px;max-height:50%}#aboutPageText[_ngcontent-%COMP%]{position:absolute;top:10%;left:2%;width:80%}#aboutTextContent[_ngcontent-%COMP%]{font-size:2.5vw;font-weight:700}#contactFormContainer[_ngcontent-%COMP%]{bottom:25%;position:absolute;width:50%;margin-left:25%;background:#ffffffcc}#contactFormDescription[_ngcontent-%COMP%]{font-size:2.5vw}"]}),e})(),o5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["app-project-content"]],decls:14,vars:0,consts:[[2,"margin-top","10%"]],template:function(t,i){1&t&&(we(0,"div",0)(1,"div"),dt(2," Project List ToDo "),we(3,"ul")(4,"li"),dt(5,"SmartViz"),Se(),we(6,"li"),dt(7,"Crowd Dashboard"),Se(),we(8,"li"),dt(9,"Chat App using .Net backend"),Se(),we(10,"li"),dt(11,"Bus Tracking using OSM Data/OpenBus/Leaflet"),Se(),we(12,"li"),dt(13,"Visualising Shortest Path and Sorting Algorithms"),Se()()()())}}),e})();const l5=["banner"];function c5(e,n){1&e&&(we(0,"div"),ft(1,"app-welcome-page"),Se()),2&e&&Me("@inOutAnimation",void 0)}function u5(e,n){1&e&&(we(0,"div"),ft(1,"app-home-content"),Se()),2&e&&Me("@inOutAnimation",void 0)}function d5(e,n){1&e&&(we(0,"div"),ft(1,"app-project-content"),Se()),2&e&&Me("@inOutAnimation",void 0)}function h5(e,n){1&e&&(we(0,"div"),ft(1,"app-about-content"),Se()),2&e&&Me("@inOutAnimation",void 0)}function f5(e,n){if(1&e){const t=Ti();we(0,"div",5)(1,"app-cv-content",6),$t("showCVEmit",function(r){return un(t),dn($e().showCVPage(r))}),Se()()}}let p5=(()=>{class e{constructor(){this.chosenContentSegment="",this.showCV=!1,this.backgroundAnimationClassList=["welcomeBackgroundAnimation","homeBackgroundAnimation","aboutBackgroundAnimation","projectBackgroundAnimation"],this.backgroundStyle={Welcome:"welcomeBackgroundAnimation",Home:"homeBackgroundAnimation",About:"aboutBackgroundAnimation",Project:"projectBackgroundAnimation"}}updateContentView(t){this.chosenContentSegment=t;const i=document.getElementById("backgroundContainer");this.backgroundAnimationClassList.forEach(r=>{i.classList.remove(r)}),i.classList.add(this.backgroundStyle[t])}showCVPage(t){this.showCV=t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=It({type:e,selectors:[["app-root-content"]],viewQuery:function(t,i){if(1&t&&Sr(l5,5),2&t){let r;Wi(r=Ui())&&(i.bannerElement=r.first)}},inputs:{chosenContentSegment:"chosenContentSegment"},decls:8,vars:6,consts:[["id","backgroundContainer",1,"welcomeBackgroundAnimation"],[3,"defaultPageView","setContentView","showCVEmit"],["banner",""],[4,"ngIf"],["id","cvContent",4,"ngIf"],["id","cvContent"],[3,"showCVEmit"]],template:function(t,i){1&t&&(ft(0,"div",0),we(1,"app-content-banner",1,2),$t("setContentView",function(s){return i.updateContentView(s)})("showCVEmit",function(s){return i.showCVPage(s)}),Se(),Je(3,c5,2,1,"div",3),Je(4,u5,2,1,"div",3),Je(5,d5,2,1,"div",3),Je(6,h5,2,1,"div",3),Je(7,f5,2,0,"div",4)),2&t&&(Ee(1),Me("defaultPageView",i.chosenContentSegment),Ee(2),Me("ngIf","Welcome"==i.chosenContentSegment),Ee(1),Me("ngIf","Home"==i.chosenContentSegment),Ee(1),Me("ngIf","Project"==i.chosenContentSegment),Ee(1),Me("ngIf","About"==i.chosenContentSegment),Ee(1),Me("ngIf",i.showCV))},dependencies:[jn,C2,w2,IG,zG,a5,o5],styles:["#backgroundContainer[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1}.homeBackgroundAnimation[_ngcontent-%COMP%]{background:linear-gradient(-45deg,#362222,#171010,#423F3E,#2B2B2B);background-size:400% 400%;animation:_ngcontent-%COMP%_gradient 15s ease infinite}.welcomeBackgroundAnimation[_ngcontent-%COMP%]{background:linear-gradient(135deg,#11327e,#587bb9,#e77d8d,#f9a791,#ffd597);background-size:400% 400%;animation:_ngcontent-%COMP%_gradient 15s ease infinite}.aboutBackgroundAnimation[_ngcontent-%COMP%]{background:linear-gradient(20deg,#f7ffff,#cbd6da,#6d859f,#46525e,#14222d);background-size:400% 400%;animation:_ngcontent-%COMP%_gradient 15s ease infinite}.projectBackgroundAnimation[_ngcontent-%COMP%]{background:linear-gradient(-135deg,#5db069 10%,#62b895 48%,#8bc663 89%);background-size:400% 400%;animation:_ngcontent-%COMP%_gradient 15s ease infinite}@keyframes _ngcontent-%COMP%_gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeLate{0%{opacity:0}70%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeOutWelcome{0%{transform:scale(1);opacity:1}70%{opacity:0}to{opacity:0;transform:scale(2)}}@keyframes _ngcontent-%COMP%_fadeInDot1{0%{opacity:0}33%{opacity:1}33%{opacity:1}}@keyframes _ngcontent-%COMP%_fadeInDot2{0%{opacity:0}66%{opacity:1}}@keyframes _ngcontent-%COMP%_fadeInDot3{0%{opacity:0}to{opacity:1}}#dot1[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInDot1 3s infinite}#dot2[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInDot2 3s infinite}#dot3[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInDot3 3s infinite}#welcomeText[_ngcontent-%COMP%]{font-size:150px;display:flex;animation:_ngcontent-%COMP%_fadeIn 5s}#welcomeSubText[_ngcontent-%COMP%]{font-size:38px;margin-left:5%;animation:_ngcontent-%COMP%_fadeIn 5s}#clickAnywhereText[_ngcontent-%COMP%]{margin-top:20px;font-size:20px;margin-left:5%;animation:_ngcontent-%COMP%_fadeLate 3s}.fadeOutElement[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOutWelcome 2s forwards}app-content-banner[_ngcontent-%COMP%]{position:absolute;width:100%;top:0;left:0;z-index:3}app-home-content[_ngcontent-%COMP%]{width:100%;height:100%}#pdfContainer[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(128,128,128,.9)}"],data:{animation:[al("inOutAnimation",[Ns(":enter",[ni({opacity:0,transform:"scale(0.1)"}),Rs("1s ease-out",ni({opacity:1,transform:"scale(1)"}))]),Ns(":leave",[ni({opacity:1,transform:"scale(1)"}),Rs("1s ease-in",ni({opacity:0,transform:"scale(2)"}))])])]}}),e})();const g5=["mouse"];function m5(e,n){1&e&&ft(0,"app-root-content",3)}let _5=(()=>{class e{constructor(t){this.data=t,this.dataInitialised=!1,this.circleSize=16,this.circleSizePx=`${this.circleSize}px`,this.pixelEdgeBuffer=2,this.idleMouseTimeLimit=5,this.idleMouseCounter=0,this.title="JoshuaDalanginPortfolio"}get mouse(){return this.mouseEffectElement.nativeElement}ngAfterViewInit(){this.initialiseCircleMouse(),fetch("https://api.ipify.org?format=json").then(t=>t.json()).then(t=>{this.data.ip=t.ip,this.ipDetails()}).finally(()=>{})}ipDetails(){fetch(`https://ipapi.co/${this.data.ip}/json/`).then(t=>t.json()).then(t=>{this.data.ipDetails=t}).catch(t=>{console.log("Weather data unavailable")}).finally(()=>{this.dataInitialised=!0})}handleMousemove(t){this.mouse&&(this.originalMouseSize(),this.mouse.style.left=0>t.clientX-this.circleSize/2-this.pixelEdgeBuffer?"0px":window.innerWidth<t.clientX+this.circleSize/2+this.pixelEdgeBuffer?window.innerWidth-this.circleSize-this.pixelEdgeBuffer+"px":t.clientX-this.circleSize/2+"px",this.mouse.style.top=0>t.clientY-this.circleSize/2-this.pixelEdgeBuffer?"0px":window.innerHeight<t.clientY+this.circleSize/2+this.pixelEdgeBuffer?window.innerHeight-this.circleSize-this.pixelEdgeBuffer+"px":t.clientY-this.circleSize/2+"px",this.idleMouseCounterStart())}onClick(t){window.clearTimeout(this.pulseTimeoutId),this.mouse.className="animatePulse",this.pulseTimeoutId=window.setTimeout(()=>{this.mouse.classList.remove("animatePulse")},500)}initialiseCircleMouse(){this.mouse.style.width=this.circleSizePx,this.mouse.style.height=this.circleSizePx}originalMouseSize(){window.clearTimeout(this.idleMouseIntervalId),this.idleMouseCounter=0,this.mouse.className="mouseOriginalSize",this.mouse.classList.remove("mouseShrinks")}idleMouseCounterStart(){this.idleMouseIntervalId=setInterval(()=>{this.idleMouseCounter>this.idleMouseTimeLimit||(this.idleMouseCounter+=1,this.idleMouseCounter==this.idleMouseTimeLimit&&this.mouse.classList.add("mouseShrinks"))},1e3)}}return e.\u0275fac=function(t){return new(t||e)(nt(Np))},e.\u0275cmp=It({type:e,selectors:[["app-root"]],viewQuery:function(t,i){if(1&t&&Sr(g5,5),2&t){let r;Wi(r=Ui())&&(i.mouseEffectElement=r.first)}},hostBindings:function(t,i){1&t&&$t("mousemove",function(s){return i.handleMousemove(s)})("click",function(s){return i.onClick(s)})},decls:3,vars:1,consts:[["chosenContentSegment","Welcome",4,"ngIf"],["id","mouseCircle",1,"mouseShrinks"],["mouse",""],["chosenContentSegment","Welcome"]],template:function(t,i){1&t&&(Je(0,m5,1,0,"app-root-content",0),ft(1,"div",1,2)),2&t&&Me("ngIf",i.dataInitialised)},dependencies:[jn,p5],styles:["app-welcome-page[_ngcontent-%COMP%]{height:100%;width:100%}#mouseCircle[_ngcontent-%COMP%]{position:absolute;border:1px solid silver;border-radius:50%;pointer-events:none;cursor:none;background-color:#c0c0c0b3;z-index:2}.mouseShrinks[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_mouseShrinking 5s forwards}.mouseOriginalSize[_ngcontent-%COMP%]{transform:scale(1);opacity:1}.animatePulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse .5s}@keyframes _ngcontent-%COMP%_mouseShrinking{0%{transform:scale(1)}to{transform:scale(.1);opacity:0}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);box-shadow:0 0 #ffc857b3}70%{transform:scale(.7);box-shadow:0 0 0 10px #ffc85700}to{transform:scale(1);box-shadow:0 0 #ffc85700}}"]}),e})();function IS(e){return new Be(3e3,!1)}function _s(e){switch(e.length){case 0:return new ol;case 1:return e[0];default:return new BC(e)}}function OS(e,n,t=new Map,i=new Map){const r=[],s=[];let a=-1,o=null;if(n.forEach(l=>{const c=l.get("offset"),d=c==a,f=d&&o||new Map;l.forEach((b,k)=>{let $=k,ae=b;if("offset"!==k)switch($=e.normalizePropertyName($,r),ae){case"!":ae=t.get(k);break;case Ur:ae=i.get(k);break;default:ae=e.normalizeStyleValue(k,$,ae,r)}f.set($,ae)}),d||s.push(f),o=f,a=c}),r.length)throw function H5(e){return new Be(3502,!1)}();return s}function Wg(e,n,t,i){switch(n){case"start":e.onStart(()=>i(t&&Ug(t,"start",e)));break;case"done":e.onDone(()=>i(t&&Ug(t,"done",e)));break;case"destroy":e.onDestroy(()=>i(t&&Ug(t,"destroy",e)))}}function Ug(e,n,t){const s=Xg(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),a=e._data;return null!=a&&(s._data=a),s}function Xg(e,n,t,i,r="",s=0,a){return{element:e,triggerName:n,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function Bi(e,n,t){let i=e.get(n);return i||e.set(n,i=t),i}function RS(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}const Z5=(()=>typeof document>"u"?null:document.documentElement)();function Yg(e){const n=e.parentNode||e.host||null;return n===Z5?null:n}let Qs=null,NS=!1;function BS(e,n){for(;n;){if(n===e)return!0;n=Yg(n)}return!1}function VS(e,n,t){if(t)return Array.from(e.querySelectorAll(n));const i=e.querySelector(n);return i?[i]:[]}let HS=(()=>{class e{validateStyleProperty(t){return function e4(e){Qs||(Qs=function t4(){return typeof document<"u"?document.body:null}()||{},NS=!!Qs.style&&"WebkitAppearance"in Qs.style);let n=!0;return Qs.style&&!function J5(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in Qs.style,!n&&NS&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Qs.style)),n}(t)}matchesElement(t,i){return!1}containsElement(t,i){return BS(t,i)}getParentElement(t){return Yg(t)}query(t,i,r){return VS(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,a,o=[],l){return new ol(r,s)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),e})(),qg=(()=>{class e{}return e.NOOP=new HS,e})();const n4=1e3,Qg="ng-enter",nd="ng-leave",id="ng-trigger",rd=".ng-trigger",zS="ng-animating",Kg=".ng-animating";function ns(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Zg(parseFloat(n[1]),n[2])}function Zg(e,n){return"s"===n?e*n4:e}function sd(e,n,t){return e.hasOwnProperty("duration")?e:function r4(e,n,t){let r,s=0,a="";if("string"==typeof e){const o=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return n.push(IS()),{duration:0,delay:0,easing:""};r=Zg(parseFloat(o[1]),o[2]);const l=o[3];null!=l&&(s=Zg(parseFloat(l),o[4]));const c=o[5];c&&(a=c)}else r=e;if(!t){let o=!1,l=n.length;r<0&&(n.push(function v5(){return new Be(3100,!1)}()),o=!0),s<0&&(n.push(function y5(){return new Be(3101,!1)}()),o=!0),o&&n.splice(l,0,IS())}return{duration:r,delay:s,easing:a}}(e,n,t)}function Ml(e,n={}){return Object.keys(e).forEach(t=>{n[t]=e[t]}),n}function jS(e){const n=new Map;return Object.keys(e).forEach(t=>{n.set(t,e[t])}),n}function vs(e,n=new Map,t){if(t)for(let[i,r]of t)n.set(i,r);for(let[i,r]of e)n.set(i,r);return n}function Mr(e,n,t){n.forEach((i,r)=>{const s=em(r);t&&!t.has(r)&&t.set(r,e.style[s]),e.style[s]=i})}function Ks(e,n){n.forEach((t,i)=>{const r=em(i);e.style[r]=""})}function Pl(e){return Array.isArray(e)?1==e.length?e[0]:NC(e):e}const Jg=new RegExp("{{\\s*(.+?)\\s*}}","g");function WS(e){let n=[];if("string"==typeof e){let t;for(;t=Jg.exec(e);)n.push(t[1]);Jg.lastIndex=0}return n}function Ll(e,n,t){const i=e.toString(),r=i.replace(Jg,(s,a)=>{let o=n[a];return null==o&&(t.push(function b5(e){return new Be(3003,!1)}()),o=""),o.toString()});return r==i?e:r}function ad(e){const n=[];let t=e.next();for(;!t.done;)n.push(t.value),t=e.next();return n}const o4=/-+([a-z0-9])/g;function em(e){return e.replace(o4,(...n)=>n[1].toUpperCase())}function Vi(e,n,t){switch(n.type){case 7:return e.visitTrigger(n,t);case 0:return e.visitState(n,t);case 1:return e.visitTransition(n,t);case 2:return e.visitSequence(n,t);case 3:return e.visitGroup(n,t);case 4:return e.visitAnimate(n,t);case 5:return e.visitKeyframes(n,t);case 6:return e.visitStyle(n,t);case 8:return e.visitReference(n,t);case 9:return e.visitAnimateChild(n,t);case 10:return e.visitAnimateRef(n,t);case 11:return e.visitQuery(n,t);case 12:return e.visitStagger(n,t);default:throw function C5(e){return new Be(3004,!1)}()}}function US(e,n){return window.getComputedStyle(e)[n]}const od="*";function u4(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(i=>function d4(e,n,t){if(":"==e[0]){const l=function h4(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return n.push(function R5(e){return new Be(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof l)return void n.push(l);e=l}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function O5(e){return new Be(3015,!1)}()),n;const r=i[1],s=i[2],a=i[3];n.push(XS(r,a));"<"==s[0]&&!(r==od&&a==od)&&n.push(XS(a,r))}(i,t,n)):t.push(e),t}const ld=new Set(["true","1"]),cd=new Set(["false","0"]);function XS(e,n){const t=ld.has(e)||cd.has(e),i=ld.has(n)||cd.has(n);return(r,s)=>{let a=e==od||e==r,o=n==od||n==s;return!a&&t&&"boolean"==typeof r&&(a=r?ld.has(e):cd.has(e)),!o&&i&&"boolean"==typeof s&&(o=s?ld.has(n):cd.has(n)),a&&o}}const f4=new RegExp("s*:selfs*,?","g");function tm(e,n,t,i){return new p4(e).build(n,t,i)}class p4{constructor(n){this._driver=n}build(n,t,i){const r=new _4(t);return this._resetContextStyleTimingState(r),Vi(this,Pl(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],a=[];return"@"==n.name.charAt(0)&&t.errors.push(function T5(){return new Be(3006,!1)}()),n.definitions.forEach(o=>{if(this._resetContextStyleTimingState(t),0==o.type){const l=o,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,t))}),l.name=c}else if(1==o.type){const l=this.visitTransition(o,t);i+=l.queryCount,r+=l.depCount,a.push(l)}else t.errors.push(function S5(){return new Be(3007,!1)}())}),{type:7,name:n.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(n,t){const i=this.visitStyle(n.styles,t),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(o=>{o instanceof Map&&o.forEach(l=>{WS(l).forEach(c=>{a.hasOwnProperty(c)||s.add(c)})})}),s.size&&(ad(s.values()),t.errors.push(function A5(e,n){return new Be(3008,!1)}()))}return{type:0,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const i=Vi(this,Pl(n.animation),t);return{type:1,matchers:u4(n.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Zs(n.options)}}visitSequence(n,t){return{type:2,steps:n.steps.map(i=>Vi(this,i,t)),options:Zs(n.options)}}visitGroup(n,t){const i=t.currentTime;let r=0;const s=n.steps.map(a=>{t.currentTime=i;const o=Vi(this,a,t);return r=Math.max(r,t.currentTime),o});return t.currentTime=r,{type:3,steps:s,options:Zs(n.options)}}visitAnimate(n,t){const i=function y4(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return nm(sd(e,n).duration,0,"");const t=e;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=nm(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=sd(t,n);return nm(r.duration,r.delay,r.easing)}(n.timings,t.errors);t.currentAnimateTimings=i;let r,s=n.styles?n.styles:ni({});if(5==s.type)r=this.visitKeyframes(s,t);else{let a=n.styles,o=!1;if(!a){o=!0;const c={};i.easing&&(c.easing=i.easing),a=ni(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(a,t);l.isEmptyStep=o,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(n,t){const i=this._makeStyleAst(n,t);return this._validateStyleAst(i,t),i}_makeStyleAst(n,t){const i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let o of r)"string"==typeof o?o===Ur?i.push(o):t.errors.push(new Be(3002,!1)):i.push(jS(o));let s=!1,a=null;return i.forEach(o=>{if(o instanceof Map&&(o.has("easing")&&(a=o.get("easing"),o.delete("easing")),!s))for(let l of o.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),n.styles.forEach(a=>{"string"!=typeof a&&a.forEach((o,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),d=c.get(l);let f=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(t.errors.push(function E5(e,n,t,i,r){return new Be(3010,!1)}()),f=!1),s=d.startTime),f&&c.set(l,{startTime:s,endTime:r}),t.options&&function a4(e,n,t){const i=n.params||{},r=WS(e);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function x5(e){return new Be(3001,!1)}())})}(o,t.options,t.errors)})})}visitKeyframes(n,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function k5(){return new Be(3011,!1)}()),i;let s=0;const a=[];let o=!1,l=!1,c=0;const d=n.steps.map(me=>{const de=this._makeStyleAst(me,t);let be=null!=de.offset?de.offset:function v4(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}(de.styles),ke=0;return null!=be&&(s++,ke=de.offset=be),l=l||ke<0||ke>1,o=o||ke<c,c=ke,a.push(ke),de});l&&t.errors.push(function M5(){return new Be(3012,!1)}()),o&&t.errors.push(function P5(){return new Be(3200,!1)}());const f=n.steps.length;let b=0;s>0&&s<f?t.errors.push(function L5(){return new Be(3202,!1)}()):0==s&&(b=1/(f-1));const k=f-1,$=t.currentTime,ae=t.currentAnimateTimings,J=ae.duration;return d.forEach((me,de)=>{const be=b>0?de==k?1:b*de:a[de],ke=be*J;t.currentTime=$+ae.delay+ke,ae.duration=ke,this._validateStyleAst(me,t),me.offset=be,i.styles.push(me)}),i}visitReference(n,t){return{type:8,animation:Vi(this,Pl(n.animation),t),options:Zs(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:9,options:Zs(n.options)}}visitAnimateRef(n,t){return{type:10,animation:this.visitReference(n.animation,t),options:Zs(n.options)}}visitQuery(n,t){const i=t.currentQuerySelector,r=n.options||{};t.queryCount++,t.currentQuery=n;const[s,a]=function g4(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(f4,"")),e=e.replace(/@\*/g,rd).replace(/@\w+/g,t=>rd+"-"+t.slice(1)).replace(/:animating/g,Kg),[e,n]}(n.selector);t.currentQuerySelector=i.length?i+" "+s:s,Bi(t.collectedStyles,t.currentQuerySelector,new Map);const o=Vi(this,Pl(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:o,originalSelector:n.selector,options:Zs(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(function F5(){return new Be(3013,!1)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:sd(n.timings,t.errors,!0);return{type:12,animation:Vi(this,Pl(n.animation),t),timings:i,options:null}}}class _4{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Zs(e){return e?(e=Ml(e)).params&&(e.params=function m4(e){return e?Ml(e):null}(e.params)):e={},e}function nm(e,n,t){return{duration:e,delay:n,easing:t}}function im(e,n,t,i,r,s,a=null,o=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:o}}class ud{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const C4=new RegExp(":enter","g"),T4=new RegExp(":leave","g");function rm(e,n,t,i,r,s=new Map,a=new Map,o,l,c=[]){return(new S4).buildKeyframes(e,n,t,i,r,s,a,o,l,c)}class S4{buildKeyframes(n,t,i,r,s,a,o,l,c,d=[]){c=c||new ud;const f=new sm(n,t,c,r,s,d,[]);f.options=l;const b=l.delay?ns(l.delay):0;f.currentTimeline.delayNextStep(b),f.currentTimeline.setStyles([a],null,f.errors,l),Vi(this,i,f);const k=f.timelines.filter($=>$.containsAnimation());if(k.length&&o.size){let $;for(let ae=k.length-1;ae>=0;ae--){const J=k[ae];if(J.element===t){$=J;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([o],null,f.errors,l)}return k.length?k.map($=>$.buildKeyframes()):[im(t,[],[],[],0,b,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(n.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=n}visitAnimateRef(n,t){const i=t.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,i),this.visitReference(n.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,i){for(const r of n){const s=r?.delay;if(s){const a="number"==typeof s?s:ns(Ll(s,r?.params??{},t.errors));i.delayNextStep(a)}}}_visitSubInstructions(n,t,i){let s=t.currentTimeline.currentTime;const a=null!=i.duration?ns(i.duration):null,o=null!=i.delay?ns(i.delay):null;return 0!==a&&n.forEach(l=>{const c=t.appendInstructionToTimeline(l,a,o);s=Math.max(s,c.duration+c.delay)}),s}visitReference(n,t){t.updateOptions(n.options,!0),Vi(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const i=t.subContextCount;let r=t;const s=n.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=dd);const a=ns(s.delay);r.delayNextStep(a)}n.steps.length&&(n.steps.forEach(a=>Vi(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const i=[];let r=t.currentTimeline.currentTime;const s=n.options&&n.options.delay?ns(n.options.delay):0;n.steps.forEach(a=>{const o=t.createSubContext(n.options);s&&o.delayNextStep(s),Vi(this,a,o),r=Math.max(r,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(r),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const i=n.strValue;return sd(t.params?Ll(i,t.params,t.errors):i,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const i=t.currentAnimateTimings=this._visitTiming(n.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(s):i.setStyles(n.styles,s,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,o=t.createSubContext().currentTimeline;o.easing=i.easing,n.styles.forEach(l=>{o.forwardTime((l.offset||0)*s),o.setStyles(l.styles,l.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+s),t.previousNode=n}visitQuery(n,t){const i=t.currentTimeline.currentTime,r=n.options||{},s=r.delay?ns(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=dd);let a=i;const o=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let l=null;o.forEach((c,d)=>{t.currentQueryIndex=d;const f=t.createSubContext(n.options,c);s&&f.delayNextStep(s),c===t.element&&(l=f.currentTimeline),Vi(this,n.animation,f),f.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,f.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const i=t.parentContext,r=t.currentTimeline,s=n.timings,a=Math.abs(s.duration),o=a*(t.currentQueryTotal-1);let l=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=o-l;break;case"full":l=i.currentStaggerTime}const d=t.currentTimeline;l&&d.delayNextStep(l);const f=d.currentTime;Vi(this,n.animation,t),t.previousNode=n,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}}const dd={};class sm{constructor(n,t,i,r,s,a,o,l){this._driver=n,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new hd(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=ns(i.duration)),null!=i.delay&&(r.delay=ns(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(o=>{(!t||!a.hasOwnProperty(o))&&(a[o]=Ll(s[o],a,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const i=n.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return n}createSubContext(n=null,t,i){const r=t||this.element,s=new sm(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=dd,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,i){const r={duration:t??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},s=new A4(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,i,r,s,a){let o=[];if(r&&o.push(this.element),n.length>0){n=(n=n.replace(C4,"."+this._enterClassName)).replace(T4,"."+this._leaveClassName);let c=this._driver.query(this.element,n,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),o.push(...c)}return!s&&0==o.length&&a.push(function I5(e){return new Be(3014,!1)}()),o}}class hd{constructor(n,t,i,r){this._driver=n,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new hd(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ur),this._currentKeyframe.set(t,Ur);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},a=function D4(e,n){const t=new Map;let i;return e.forEach(r=>{if("*"===r){i=i||n.keys();for(let s of i)t.set(s,Ur)}else vs(r,t)}),t}(n,this._globalTimelineStyles);for(let[o,l]of a){const c=Ll(l,s,i);this._pendingStyles.set(o,c),this._localTimelineStyles.has(o)||this._backFill.set(o,this._globalTimelineStyles.get(o)??Ur),this._updateStyle(o,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((o,l)=>{const c=vs(o,new Map,this._backFill);c.forEach((d,f)=>{"!"===d?n.add(f):d===Ur&&t.add(f)}),i||c.set("offset",l/this.duration),r.push(c)});const s=n.size?ad(n.values()):[],a=t.size?ad(t.values()):[];if(i){const o=r[0],l=new Map(o);o.set("offset",0),l.set("offset",1),r=[o,l]}return im(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class A4 extends hd{constructor(n,t,i,r,s,a,o=!1){super(n,t,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],a=i+t,o=t/a,l=vs(n[0]);l.set("offset",0),s.push(l);const c=vs(n[0]);c.set("offset",QS(o)),s.push(c);const d=n.length-1;for(let f=1;f<=d;f++){let b=vs(n[f]);const k=b.get("offset");b.set("offset",QS((t+k*i)/a)),s.push(b)}i=a,t=0,r="",n=s}return im(this.element,n,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function QS(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}class am{}const E4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class k4 extends am{normalizePropertyName(n,t){return em(n)}normalizeStyleValue(n,t,i,r){let s="";const a=i.toString().trim();if(E4.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const o=i.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&r.push(function w5(e,n){return new Be(3005,!1)}())}return a+s}}function KS(e,n,t,i,r,s,a,o,l,c,d,f,b){return{type:0,element:e,triggerName:n,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:a,timelines:o,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:f,errors:b}}const om={};class ZS{constructor(n,t,i){this._triggerName=n,this.ast=t,this._stateStyles=i}match(n,t,i,r){return function M4(e,n,t,i,r){return e.some(s=>s(n,t,i,r))}(this.ast.matchers,n,t,i,r)}buildStyles(n,t,i){let r=this._stateStyles.get("*");return void 0!==n&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(t,i):new Map}build(n,t,i,r,s,a,o,l,c,d){const f=[],b=this.ast.options&&this.ast.options.params||om,$=this.buildStyles(i,o&&o.params||om,f),ae=l&&l.params||om,J=this.buildStyles(r,ae,f),me=new Set,de=new Map,be=new Map,ke="void"===r,Re={params:P4(ae,b),delay:this.ast.options?.delay},Ue=d?[]:rm(n,t,this.ast.animation,s,a,$,J,Re,c,f);let Tt=0;if(Ue.forEach(cn=>{Tt=Math.max(cn.duration+cn.delay,Tt)}),f.length)return KS(t,this._triggerName,i,r,ke,$,J,[],[],de,be,Tt,f);Ue.forEach(cn=>{const zt=cn.element,_t=Bi(de,zt,new Set);cn.preStyleProps.forEach(Ft=>_t.add(Ft));const bn=Bi(be,zt,new Set);cn.postStyleProps.forEach(Ft=>bn.add(Ft)),zt!==t&&me.add(zt)});const Ot=ad(me.values());return KS(t,this._triggerName,i,r,ke,$,J,Ue,Ot,de,be,Tt)}}function P4(e,n){const t=Ml(n);for(const i in e)e.hasOwnProperty(i)&&null!=e[i]&&(t[i]=e[i]);return t}class L4{constructor(n,t,i){this.styles=n,this.defaultParams=t,this.normalizer=i}buildStyles(n,t){const i=new Map,r=Ml(this.defaultParams);return Object.keys(n).forEach(s=>{const a=n[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,o)=>{a&&(a=Ll(a,r,t));const l=this.normalizer.normalizePropertyName(o,t);a=this.normalizer.normalizeStyleValue(o,l,a,t),i.set(o,a)})}),i}}class I4{constructor(n,t,i){this.name=n,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new L4(r.style,r.options&&r.options.params||{},i))}),JS(this.states,"true","1"),JS(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new ZS(n,r,this.states))}),this.fallbackTransition=function O4(e,n,t){return new ZS(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,o)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,i,r){return this.transitionFactories.find(a=>a.match(n,t,i,r))||null}matchStyles(n,t,i){return this.fallbackTransition.buildStyles(n,t,i)}}function JS(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}const R4=new ud;class N4{constructor(n,t,i){this.bodyNode=n,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){const i=[],s=tm(this._driver,t,i,[]);if(i.length)throw function $5(e){return new Be(3503,!1)}();this._animations.set(n,s)}_buildPlayer(n,t,i){const r=n.element,s=OS(this._normalizer,n.keyframes,t,i);return this._driver.animate(r,s,n.duration,n.delay,n.easing,[],!0)}create(n,t,i={}){const r=[],s=this._animations.get(n);let a;const o=new Map;if(s?(a=rm(this._driver,t,s,Qg,nd,new Map,new Map,i,R4,r),a.forEach(d=>{const f=Bi(o,d.element,new Map);d.postStyleProps.forEach(b=>f.set(b,null))})):(r.push(function z5(){return new Be(3300,!1)}()),a=[]),r.length)throw function j5(e){return new Be(3504,!1)}();o.forEach((d,f)=>{d.forEach((b,k)=>{d.set(k,this._driver.computeStyle(f,k,Ur))})});const c=_s(a.map(d=>{const f=o.get(d.element);return this._buildPlayer(d,new Map,f)}));return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){const t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(n){const t=this._playersById.get(n);if(!t)throw function G5(e){return new Be(3301,!1)}();return t}listen(n,t,i,r){const s=Xg(t,"","","");return Wg(this._getPlayer(n),i,s,r),()=>{}}command(n,t,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,t,r[0]||{});const s=this._getPlayer(n);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const eA="ng-animate-queued",lm="ng-animate-disabled",z4=[],tA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},j4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hr="__ng_removed";class cm{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;const i=n&&n.hasOwnProperty("value");if(this.value=function X4(e){return e??null}(i?n.value:n),i){const s=Ml(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const t=n.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Fl="void",um=new cm(Fl);class G4{constructor(n,t,i){this.id=n,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Zi(t,this._hostClassName)}listen(n,t,i,r){if(!this._triggers.has(t))throw function W5(e,n){return new Be(3302,!1)}();if(null==i||0==i.length)throw function U5(e){return new Be(3303,!1)}();if(!function Y4(e){return"start"==e||"done"==e}(i))throw function X5(e,n){return new Be(3400,!1)}();const s=Bi(this._elementListeners,n,[]),a={name:t,phase:i,callback:r};s.push(a);const o=Bi(this._engine.statesByElement,n,new Map);return o.has(t)||(Zi(n,id),Zi(n,id+"-"+t),o.set(t,um)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(a);l>=0&&s.splice(l,1),this._triggers.has(t)||o.delete(t)})}}register(n,t){return!this._triggers.has(n)&&(this._triggers.set(n,t),!0)}_getTrigger(n){const t=this._triggers.get(n);if(!t)throw function Y5(e){return new Be(3401,!1)}();return t}trigger(n,t,i,r=!0){const s=this._getTrigger(t),a=new dm(this.id,t,n);let o=this._engine.statesByElement.get(n);o||(Zi(n,id),Zi(n,id+"-"+t),this._engine.statesByElement.set(n,o=new Map));let l=o.get(t);const c=new cm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),o.set(t,c),l||(l=um),c.value!==Fl&&l.value===c.value){if(!function K4(e,n){const t=Object.keys(e),i=Object.keys(n);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!n.hasOwnProperty(s)||e[s]!==n[s])return!1}return!0}(l.params,c.params)){const ae=[],J=s.matchStyles(l.value,l.params,ae),me=s.matchStyles(c.value,c.params,ae);ae.length?this._engine.reportError(ae):this._engine.afterFlush(()=>{Ks(n,J),Mr(n,me)})}return}const b=Bi(this._engine.playersByElement,n,[]);b.forEach(ae=>{ae.namespaceId==this.id&&ae.triggerName==t&&ae.queued&&ae.destroy()});let k=s.matchTransition(l.value,c.value,n,c.params),$=!1;if(!k){if(!r)return;k=s.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:k,fromState:l,toState:c,player:a,isFallbackTransition:$}),$||(Zi(n,eA),a.onStart(()=>{so(n,eA)})),a.onDone(()=>{let ae=this.players.indexOf(a);ae>=0&&this.players.splice(ae,1);const J=this._engine.playersByElement.get(n);if(J){let me=J.indexOf(a);me>=0&&J.splice(me,1)}}),this.players.push(a),b.push(a),a}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const i=this._engine.driver.query(n,rd,!0);i.forEach(r=>{if(r[hr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,t,i,r){const s=this._engine.statesByElement.get(n),a=new Map;if(s){const o=[];if(s.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){const d=this.trigger(n,c,Fl,r);d&&o.push(d)}}),o.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,a),i&&_s(o).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(t&&i){const r=new Set;t.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const l=this._triggers.get(a).fallbackTransition,c=i.get(a)||um,d=new cm(Fl),f=new dm(this.id,a,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:a,transition:l,fromState:c,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(n,t){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(n):[];if(s&&s.length)r=!0;else{let a=n;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,t);else{const s=n[hr];(!s||s===tA)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,t))}}insertNode(n,t){Zi(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(o=>{if(o.name==i.triggerName){const l=Xg(s,i.triggerName,i.fromState.value,i.toState.value);l._data=n,Wg(i.player,o.phase,l,o.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class W4{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,i){this.bodyNode=n,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,t){const i=new G4(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,o=this.driver.getParentElement(t);for(;o;){const l=r.get(o);if(l){const c=i.indexOf(l);i.splice(c+1,0,n),a=!0;break}o=this.driver.getParentElement(o)}a||i.unshift(n)}else i.push(n);return r.set(t,n),n}register(n,t){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,t)),i}registerTrigger(n,t,i){let r=this._namespaceLookup[n];r&&r.register(t,i)&&this.totalAnimations++}destroy(n,t){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,i=this.statesByElement.get(n);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(n,t,i,r){if(fd(t)){const s=this._fetchNamespace(n);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(n,t,i,r){if(!fd(t))return;const s=t[hr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(n){const a=this._fetchNamespace(n);a&&a.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Zi(n,lm)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),so(n,lm))}removeNode(n,t,i){if(fd(t)){const r=n?this._fetchNamespace(n):null;r?r.removeNode(t,i):this.markElementAsRemoved(n,t,!1,i);const s=this.namespacesByHostElement.get(t);s&&s.id!==n&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(n,t,i,r,s){this.collectedLeaveElements.push(t),t[hr]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,t,i,r,s){return fd(t)?this._fetchNamespace(n).listen(t,i,r,s):()=>{}}_buildInstruction(n,t,i,r,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,t,s)}destroyInnerAnimations(n){let t=this.driver.query(n,rd,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,Kg,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return _s(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[hr];if(t&&t.setForRemoval){if(n[hr]=tA,t.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(lm)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Zi(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?_s(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function q5(e){return new Be(3402,!1)}()}_flushAnimations(n,t){const i=new ud,r=[],s=new Map,a=[],o=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(We=>{d.add(We);const Qe=this.driver.query(We,".ng-animate-queued",!0);for(let ct=0;ct<Qe.length;ct++)d.add(Qe[ct])});const f=this.bodyNode,b=Array.from(this.statesByElement.keys()),k=rA(b,this.collectedEnterElements),$=new Map;let ae=0;k.forEach((We,Qe)=>{const ct=Qg+ae++;$.set(Qe,ct),We.forEach(ht=>Zi(ht,ct))});const J=[],me=new Set,de=new Set;for(let We=0;We<this.collectedLeaveElements.length;We++){const Qe=this.collectedLeaveElements[We],ct=Qe[hr];ct&&ct.setForRemoval&&(J.push(Qe),me.add(Qe),ct.hasAnimation?this.driver.query(Qe,".ng-star-inserted",!0).forEach(ht=>me.add(ht)):de.add(Qe))}const be=new Map,ke=rA(b,Array.from(me));ke.forEach((We,Qe)=>{const ct=nd+ae++;be.set(Qe,ct),We.forEach(ht=>Zi(ht,ct))}),n.push(()=>{k.forEach((We,Qe)=>{const ct=$.get(Qe);We.forEach(ht=>so(ht,ct))}),ke.forEach((We,Qe)=>{const ct=be.get(Qe);We.forEach(ht=>so(ht,ct))}),J.forEach(We=>{this.processLeaveNode(We)})});const Re=[],Ue=[];for(let We=this._namespaceList.length-1;We>=0;We--)this._namespaceList[We].drainQueuedTransitions(t).forEach(ct=>{const ht=ct.player,Nt=ct.element;if(Re.push(ht),this.collectedEnterElements.length){const Ut=Nt[hr];if(Ut&&Ut.setForMove){if(Ut.previousTriggersValues&&Ut.previousTriggersValues.has(ct.triggerName)){const hi=Ut.previousTriggersValues.get(ct.triggerName),Ke=this.statesByElement.get(ct.element);if(Ke&&Ke.has(ct.triggerName)){const St=Ke.get(ct.triggerName);St.value=hi,Ke.set(ct.triggerName,St)}}return void ht.destroy()}}const Qt=!f||!this.driver.containsElement(f,Nt),jt=be.get(Nt),Di=$.get(Nt),nn=this._buildInstruction(ct,i,Di,jt,Qt);if(nn.errors&&nn.errors.length)return void Ue.push(nn);if(Qt)return ht.onStart(()=>Ks(Nt,nn.fromStyles)),ht.onDestroy(()=>Mr(Nt,nn.toStyles)),void r.push(ht);if(ct.isFallbackTransition)return ht.onStart(()=>Ks(Nt,nn.fromStyles)),ht.onDestroy(()=>Mr(Nt,nn.toStyles)),void r.push(ht);const is=[];nn.timelines.forEach(Ut=>{Ut.stretchStartingKeyframe=!0,this.disabledNodes.has(Ut.element)||is.push(Ut)}),nn.timelines=is,i.append(Nt,nn.timelines),a.push({instruction:nn,player:ht,element:Nt}),nn.queriedElements.forEach(Ut=>Bi(o,Ut,[]).push(ht)),nn.preStyleProps.forEach((Ut,hi)=>{if(Ut.size){let Ke=l.get(hi);Ke||l.set(hi,Ke=new Set),Ut.forEach((St,Rt)=>Ke.add(Rt))}}),nn.postStyleProps.forEach((Ut,hi)=>{let Ke=c.get(hi);Ke||c.set(hi,Ke=new Set),Ut.forEach((St,Rt)=>Ke.add(Rt))})});if(Ue.length){const We=[];Ue.forEach(Qe=>{We.push(function Q5(e,n){return new Be(3505,!1)}())}),Re.forEach(Qe=>Qe.destroy()),this.reportError(We)}const Tt=new Map,Ot=new Map;a.forEach(We=>{const Qe=We.element;i.has(Qe)&&(Ot.set(Qe,Qe),this._beforeAnimationBuild(We.player.namespaceId,We.instruction,Tt))}),r.forEach(We=>{const Qe=We.element;this._getPreviousPlayers(Qe,!1,We.namespaceId,We.triggerName,null).forEach(ht=>{Bi(Tt,Qe,[]).push(ht),ht.destroy()})});const cn=J.filter(We=>aA(We,l,c)),zt=new Map;iA(zt,this.driver,de,c,Ur).forEach(We=>{aA(We,l,c)&&cn.push(We)});const bn=new Map;k.forEach((We,Qe)=>{iA(bn,this.driver,new Set(We),l,"!")}),cn.forEach(We=>{const Qe=zt.get(We),ct=bn.get(We);zt.set(We,new Map([...Qe?.entries()??[],...ct?.entries()??[]]))});const Ft=[],sn=[],si={};a.forEach(We=>{const{element:Qe,player:ct,instruction:ht}=We;if(i.has(Qe)){if(d.has(Qe))return ct.onDestroy(()=>Mr(Qe,ht.toStyles)),ct.disabled=!0,ct.overrideTotalTime(ht.totalTime),void r.push(ct);let Nt=si;if(Ot.size>1){let jt=Qe;const Di=[];for(;jt=jt.parentNode;){const nn=Ot.get(jt);if(nn){Nt=nn;break}Di.push(jt)}Di.forEach(nn=>Ot.set(nn,Nt))}const Qt=this._buildAnimation(ct.namespaceId,ht,Tt,s,bn,zt);if(ct.setRealPlayer(Qt),Nt===si)Ft.push(ct);else{const jt=this.playersByElement.get(Nt);jt&&jt.length&&(ct.parentPlayer=_s(jt)),r.push(ct)}}else Ks(Qe,ht.fromStyles),ct.onDestroy(()=>Mr(Qe,ht.toStyles)),sn.push(ct),d.has(Qe)&&r.push(ct)}),sn.forEach(We=>{const Qe=s.get(We.element);if(Qe&&Qe.length){const ct=_s(Qe);We.setRealPlayer(ct)}}),r.forEach(We=>{We.parentPlayer?We.syncPlayerEvents(We.parentPlayer):We.destroy()});for(let We=0;We<J.length;We++){const Qe=J[We],ct=Qe[hr];if(so(Qe,nd),ct&&ct.hasAnimation)continue;let ht=[];if(o.size){let Qt=o.get(Qe);Qt&&Qt.length&&ht.push(...Qt);let jt=this.driver.query(Qe,Kg,!0);for(let Di=0;Di<jt.length;Di++){let nn=o.get(jt[Di]);nn&&nn.length&&ht.push(...nn)}}const Nt=ht.filter(Qt=>!Qt.destroyed);Nt.length?q4(this,Qe,Nt):this.processLeaveNode(Qe)}return J.length=0,Ft.forEach(We=>{this.players.push(We),We.onDone(()=>{We.destroy();const Qe=this.players.indexOf(We);this.players.splice(Qe,1)}),We.play()}),Ft}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,i,r,s){let a=[];if(t){const o=this.playersByQueriedElement.get(n);o&&(a=o)}else{const o=this.playersByElement.get(n);if(o){const l=!s||s==Fl;o.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(i||r)&&(a=a.filter(o=>!(i&&i!=o.namespaceId||r&&r!=o.triggerName))),a}_beforeAnimationBuild(n,t,i){const s=t.element,a=t.isRemovalTransition?void 0:n,o=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,d=c!==s,f=Bi(i,c,[]);this._getPreviousPlayers(c,d,a,o,t.toState).forEach(k=>{const $=k.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),k.destroy(),f.push(k)})}Ks(s,t.fromStyles)}_buildAnimation(n,t,i,r,s,a){const o=t.triggerName,l=t.element,c=[],d=new Set,f=new Set,b=t.timelines.map($=>{const ae=$.element;d.add(ae);const J=ae[hr];if(J&&J.removedBeforeQueried)return new ol($.duration,$.delay);const me=ae!==l,de=function Q4(e){const n=[];return sA(e,n),n}((i.get(ae)||z4).map(Tt=>Tt.getRealPlayer())).filter(Tt=>!!Tt.element&&Tt.element===ae),be=s.get(ae),ke=a.get(ae),Re=OS(this._normalizer,$.keyframes,be,ke),Ue=this._buildPlayer($,Re,de);if($.subTimeline&&r&&f.add(ae),me){const Tt=new dm(n,o,ae);Tt.setRealPlayer(Ue),c.push(Tt)}return Ue});c.forEach($=>{Bi(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function U4(e,n,t){let i=e.get(n);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&e.delete(n)}return i}(this.playersByQueriedElement,$.element,$))}),d.forEach($=>Zi($,zS));const k=_s(b);return k.onDestroy(()=>{d.forEach($=>so($,zS)),Mr(l,t.toStyles)}),f.forEach($=>{Bi(r,$,[]).push(k)}),k}_buildPlayer(n,t,i){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,i):new ol(n.duration,n.delay)}}class dm{constructor(n,t,i){this.namespaceId=n,this.triggerName=t,this.element=i,this._player=new ol,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Wg(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){Bi(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function fd(e){return e&&1===e.nodeType}function nA(e,n){const t=e.style.display;return e.style.display=n??"none",t}function iA(e,n,t,i,r){const s=[];t.forEach(l=>s.push(nA(l)));const a=[];i.forEach((l,c)=>{const d=new Map;l.forEach(f=>{const b=n.computeStyle(c,f,r);d.set(f,b),(!b||0==b.length)&&(c[hr]=j4,a.push(c))}),e.set(c,d)});let o=0;return t.forEach(l=>nA(l,s[o++])),a}function rA(e,n){const t=new Map;if(e.forEach(o=>t.set(o,[])),0==n.length)return t;const r=new Set(n),s=new Map;function a(o){if(!o)return 1;let l=s.get(o);if(l)return l;const c=o.parentNode;return l=t.has(c)?c:r.has(c)?1:a(c),s.set(o,l),l}return n.forEach(o=>{const l=a(o);1!==l&&t.get(l).push(o)}),t}function Zi(e,n){e.classList?.add(n)}function so(e,n){e.classList?.remove(n)}function q4(e,n,t){_s(t).onDone(()=>e.processLeaveNode(n))}function sA(e,n){for(let t=0;t<e.length;t++){const i=e[t];i instanceof BC?sA(i.players,n):n.push(i)}}function aA(e,n,t){const i=t.get(e);if(!i)return!1;let r=n.get(e);return r?i.forEach(s=>r.add(s)):n.set(e,i),t.delete(e),!0}class pd{constructor(n,t,i){this.bodyNode=n,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new W4(n,t,i),this._timelineEngine=new N4(n,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(n,t,i,r,s){const a=n+"-"+r;let o=this._triggerCache[a];if(!o){const l=[],d=tm(this._driver,s,l,[]);if(l.length)throw function V5(e,n){return new Be(3404,!1)}();o=function F4(e,n,t){return new I4(e,n,t)}(r,d,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(t,r,o)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,i,r){this._transitionEngine.insertNode(n,t,i,r)}onRemove(n,t,i){this._transitionEngine.removeNode(n,t,i)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,i,r){if("@"==i.charAt(0)){const[s,a]=RS(i);this._timelineEngine.command(s,t,a,r)}else this._transitionEngine.trigger(n,t,i,r)}listen(n,t,i,r,s){if("@"==i.charAt(0)){const[a,o]=RS(i);return this._timelineEngine.listen(a,t,o,s)}return this._transitionEngine.listen(n,t,i,r,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let J4=(()=>{class e{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=e.initialStylesByElement.get(t);s||e.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Mr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mr(this._element,this._initialStyles),this._endStyles&&(Mr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Ks(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ks(this._element,this._endStyles),this._endStyles=null),Mr(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function hm(e){let n=null;return e.forEach((t,i)=>{(function eW(e){return"display"===e||"position"===e})(i)&&(n=n||new Map,n.set(i,t))}),n}class oA{constructor(n,t,i,r){this.element=n,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const t=[];return n.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(n,t,i){return n.animate(this._convertKeyframesToObject(t),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&n.set(r,this._finished?i:US(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const t="start"===n?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class tW{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return BS(n,t)}getParentElement(n){return Yg(n)}query(n,t,i){return VS(n,t,i)}computeStyle(n,t,i){return window.getComputedStyle(n)[t]}animate(n,t,i,r,s,a=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,d=a.filter(k=>k instanceof oA);(function l4(e,n){return 0===e||0===n})(i,r)&&d.forEach(k=>{k.currentSnapshot.forEach(($,ae)=>c.set(ae,$))});let f=function s4(e){return e.length?e[0]instanceof Map?e:e.map(n=>jS(n)):[]}(t).map(k=>vs(k));f=function c4(e,n,t){if(t.size&&n.length){let i=n[0],r=[];if(t.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<n.length;s++){let a=n[s];r.forEach(o=>a.set(o,US(e,o)))}}return n}(n,f,c);const b=function Z4(e,n){let t=null,i=null;return Array.isArray(n)&&n.length?(t=hm(n[0]),n.length>1&&(i=hm(n[n.length-1]))):n instanceof Map&&(t=hm(n)),t||i?new J4(e,t,i):null}(n,f);return new oA(n,f,l,b)}}let nW=(()=>{class e extends RC{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:$i.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?NC(t):t;return lA(this._renderer,null,i,"register",[r]),new iW(i,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(vt(Io),vt(zr))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),e})();class iW extends b2{constructor(n,t){super(),this._id=n,this._renderer=t}create(n,t){return new rW(this._id,n,t||{},this._renderer)}}class rW{constructor(n,t,i,r){this.id=n,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,t){return this._renderer.listen(this.element,`@@${this.id}:${n}`,t)}_command(n,...t){return lA(this._renderer,this.element,this.id,n,t)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function lA(e,n,t,i,r){return e.setProperty(n,`@@${t}:${i}`,r)}const cA="@.disabled";let sW=(()=>{class e{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,a)=>{const o=a?.parentNode(s);o&&a.removeChild(o,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(s);return d||(d=new uA("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,d)),d}const a=i.id,o=i.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(a,o,t,d.name,d)};return i.data.animation.forEach(l),new aW(this,o,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,o]=s;a(o)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(vt(Io),vt(pd),vt(_n))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),e})();class uA{constructor(n,t,i,r){this.namespaceId=n,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,i,r=!0){this.delegate.insertBefore(n,t,i),this.engine.onInsert(this.namespaceId,t,n,r)}removeChild(n,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,i,r){this.delegate.setAttribute(n,t,i,r)}removeAttribute(n,t,i){this.delegate.removeAttribute(n,t,i)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,i,r){this.delegate.setStyle(n,t,i,r)}removeStyle(n,t,i){this.delegate.removeStyle(n,t,i)}setProperty(n,t,i){"@"==t.charAt(0)&&t==cA?this.disableAnimations(n,!!i):this.delegate.setProperty(n,t,i)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,i){return this.delegate.listen(n,t,i)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class aW extends uA{constructor(n,t,i,r,s){super(t,i,r,s),this.factory=n,this.namespaceId=t}setProperty(n,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==cA?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,t.slice(1),i):this.delegate.setProperty(n,t,i)}listen(n,t,i){if("@"==t.charAt(0)){const r=function oW(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let s=t.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function lW(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,o=>{this.factory.scheduleListenerCallback(o._data||-1,i,o)})}return this.delegate.listen(n,t,i)}}const dA=[{provide:RC,useClass:nW},{provide:am,useFactory:function uW(){return new k4}},{provide:pd,useClass:(()=>{class e extends pd{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(vt(zr),vt(qg),vt(am),vt(Is))},e.\u0275prov=Gt({token:e,factory:e.\u0275fac}),e})()},{provide:Io,useFactory:function dW(e,n,t){return new sW(e,n,t)},deps:[Fp,pd,_n]}],fm=[{provide:qg,useFactory:()=>new tW},{provide:Uv,useValue:"BrowserAnimations"},...dA],hA=[{provide:qg,useClass:HS},{provide:Uv,useValue:"NoopAnimations"},...dA];let hW=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?hA:fm}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=gn({providers:fm,imports:[LC]}),e})(),fW=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yn({type:e,bootstrap:[_5]}),e.\u0275inj=gn({imports:[LC,hW,$G,i5,PG]}),e})();f2().bootstrapModule(fW).catch(e=>console.error(e))},627:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(764).default,_defineProperty=__webpack_require__(416).default,_classPrivateMethodInitSpec=__webpack_require__(860).default,_classPrivateMethodGet=__webpack_require__(467).default,_classPrivateFieldInitSpec=__webpack_require__(159).default,_classPrivateFieldSet=__webpack_require__(661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(280).default,_asyncToGenerator=__webpack_require__(156).default,z;z=()=>(()=>{"use strict";var __webpack_modules__=[,(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.VerbosityLevel=v.Util=v.UnknownErrorException=v.UnexpectedResponseException=v.UNSUPPORTED_FEATURES=v.TextRenderingMode=v.StreamType=v.RenderingIntentFlag=v.PermissionFlag=v.PasswordResponses=v.PasswordException=v.PageActionEventType=v.OPS=v.MissingPDFException=v.InvalidPDFException=v.ImageKind=v.IDENTITY_MATRIX=v.FormatError=v.FontType=v.FeatureTest=v.FONT_IDENTITY_MATRIX=v.DocumentActionEventType=v.CMapCompressionType=v.BaseException=v.AnnotationType=v.AnnotationStateModelType=v.AnnotationReviewState=v.AnnotationReplyType=v.AnnotationMode=v.AnnotationMarkedState=v.AnnotationFlag=v.AnnotationFieldFlag=v.AnnotationBorderStyleType=v.AnnotationActionEventType=v.AbortException=void 0,v.arrayByteLength=te,v.arraysToBytes=function fe(le){const Z=le.length;if(1===Z&&le[0]instanceof Uint8Array)return le[0];let re=0;for(let xt=0;xt<Z;xt++)re+=te(le[xt]);let Te=0;const et=new Uint8Array(re);for(let xt=0;xt<Z;xt++){let De=le[xt];De instanceof Uint8Array||(De="string"==typeof De?ue(De):new Uint8Array(De));const Oe=De.byteLength;et.set(De,Te),Te+=Oe}return et},v.assert=function _e(le,Z){le||ge(Z)},v.bytesToString=function Q(le){("object"!=typeof le||null===le||void 0===le.length)&&ge("Invalid argument for bytesToString");const Z=le.length;if(Z<8192)return String.fromCharCode.apply(null,le);const Te=[];for(let et=0;et<Z;et+=8192){const xt=Math.min(et+8192,Z),De=le.subarray(et,xt);Te.push(String.fromCharCode.apply(null,De))}return Te.join("")},v.createPromiseCapability=function je(){const le=Object.create(null);let Z=!1;return Object.defineProperty(le,"settled",{get:()=>Z}),le.promise=new Promise(function(re,Te){le.resolve=function(et){Z=!0,re(et)},le.reject=function(et){Z=!0,Te(et)}}),le},v.createValidAbsoluteUrl=function Ne(le,Z=null,re=null){if(!le)return null;try{if(re&&"string"==typeof le){if(re.addDefaultProtocol&&le.startsWith("www.")){const et=le.match(/\./g);et&&et.length>=2&&(le=`http://${le}`)}if(re.tryConvertEncoding)try{le=Ze(le)}catch{}}const Te=Z?new URL(le,Z):new URL(le);if(function ve(le){if(!le)return!1;switch(le.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(Te))return Te}catch{}return null},v.escapeString=function Xe(le){return le.replace(/([()\\\n\r])/g,Z=>"\n"===Z?"\\n":"\r"===Z?"\\r":`\\${Z}`)},v.getModificationDate=function Fe(le=new Date){return[le.getUTCFullYear().toString(),(le.getUTCMonth()+1).toString().padStart(2,"0"),le.getUTCDate().toString().padStart(2,"0"),le.getUTCHours().toString().padStart(2,"0"),le.getUTCMinutes().toString().padStart(2,"0"),le.getUTCSeconds().toString().padStart(2,"0")].join("")},v.getVerbosityLevel=function Y(){return C},v.info=function se(le){C>=w.INFOS&&console.log(`Info: ${le}`)},v.isArrayBuffer=function X(le){return"object"==typeof le&&null!==le&&void 0!==le.byteLength},v.isArrayEqual=function pe(le,Z){if(le.length!==Z.length)return!1;for(let re=0,Te=le.length;re<Te;re++)if(le[re]!==Z[re])return!1;return!0},v.isAscii=function Ae(le){return/^[\x00-\x7F]*$/.test(le)},v.objectFromMap=function xe(le){const Z=Object.create(null);for(const[re,Te]of le)Z[re]=Te;return Z},v.objectSize=function ye(le){return Object.keys(le).length},v.setVerbosityLevel=function q(le){Number.isInteger(le)&&(C=le)},v.shadow=Le,v.string32=function ce(le){return String.fromCharCode(le>>24&255,le>>16&255,le>>8&255,255&le)},v.stringToBytes=ue,v.stringToPDFString=function lt(le){if(le[0]>="\xef"){let re;if("\xfe"===le[0]&&"\xff"===le[1]?re="utf-16be":"\xff"===le[0]&&"\xfe"===le[1]?re="utf-16le":"\xef"===le[0]&&"\xbb"===le[1]&&"\xbf"===le[2]&&(re="utf-8"),re)try{const Te=new TextDecoder(re,{fatal:!0}),et=ue(le);return Te.decode(et)}catch(Te){he(`stringToPDFString: "${Te}".`)}}const Z=[];for(let re=0,Te=le.length;re<Te;re++){const et=pt[le.charCodeAt(re)];Z.push(et?String.fromCharCode(et):le.charAt(re))}return Z.join("")},v.stringToUTF16BEString=function He(le){const Z=["\xfe\xff"];for(let re=0,Te=le.length;re<Te;re++){const et=le.charCodeAt(re);Z.push(String.fromCharCode(et>>8&255),String.fromCharCode(255&et))}return Z.join("")},v.stringToUTF8String=Ze,v.unreachable=ge,v.utf8StringToString=function Ce(le){return unescape(encodeURIComponent(le))},v.warn=he,z(2),v.IDENTITY_MATRIX=[1,0,0,1,0,0],v.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],v.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},v.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},v.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},v.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},v.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},v.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},v.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},v.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},v.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},v.AnnotationReplyType={GROUP:"Group",REPLY:"R"},v.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},v.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},v.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},v.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},v.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},v.PageActionEventType={O:"PageOpen",C:"PageClose"},v.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},v.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const w={ERRORS:0,WARNINGS:1,INFOS:5};v.VerbosityLevel=w,v.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},v.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},v.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},v.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let C=w.WARNINGS;function he(le){C>=w.WARNINGS&&console.log(`Warning: ${le}`)}function ge(le){throw new Error(le)}function Le(le,Z,re){return Object.defineProperty(le,Z,{value:re,enumerable:!0,configurable:!0,writable:!1}),re}const K=function(){function Z(re,Te){this.constructor===Z&&ge("Cannot initialize BaseException."),this.message=re,this.name=Te}return Z.prototype=new Error,Z.constructor=Z,Z}();function ue(le){"string"!=typeof le&&ge("Invalid argument for stringToBytes");const Z=le.length,re=new Uint8Array(Z);for(let Te=0;Te<Z;++Te)re[Te]=255&le.charCodeAt(Te);return re}function te(le){return void 0!==le.length?le.length:void 0!==le.byteLength?le.byteLength:void ge("Invalid argument for arrayByteLength")}v.BaseException=K,v.PasswordException=class _ extends K{constructor(Z,re){super(Z,"PasswordException"),this.code=re}},v.UnknownErrorException=class u extends K{constructor(Z,re){super(Z,"UnknownErrorException"),this.details=re}},v.InvalidPDFException=class m extends K{constructor(Z){super(Z,"InvalidPDFException")}},v.MissingPDFException=class y extends K{constructor(Z){super(Z,"MissingPDFException")}},v.UnexpectedResponseException=class S extends K{constructor(Z,re){super(Z,"UnexpectedResponseException"),this.status=re}},v.FormatError=class T extends K{constructor(Z){super(Z,"FormatError")}},v.AbortException=class x extends K{constructor(Z){super(Z,"AbortException")}},v.FeatureTest=class tt{static get isLittleEndian(){return Le(this,"isLittleEndian",function Ve(){const le=new Uint8Array(4);return le[0]=1,1===new Uint32Array(le.buffer,0,1)[0]}())}static get isEvalSupported(){return Le(this,"isEvalSupported",function Ye(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return Le(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const qe=[...Array(256).keys()].map(le=>le.toString(16).padStart(2,"0"));class Pe{static makeHexColor(Z,re,Te){return`#${qe[Z]}${qe[re]}${qe[Te]}`}static scaleMinMax(Z,re){let Te;Z[0]?(Z[0]<0&&(Te=re[0],re[0]=re[1],re[1]=Te),re[0]*=Z[0],re[1]*=Z[0],Z[3]<0&&(Te=re[2],re[2]=re[3],re[3]=Te),re[2]*=Z[3],re[3]*=Z[3]):(Te=re[0],re[0]=re[2],re[2]=Te,Te=re[1],re[1]=re[3],re[3]=Te,Z[1]<0&&(Te=re[2],re[2]=re[3],re[3]=Te),re[2]*=Z[1],re[3]*=Z[1],Z[2]<0&&(Te=re[0],re[0]=re[1],re[1]=Te),re[0]*=Z[2],re[1]*=Z[2]),re[0]+=Z[4],re[1]+=Z[4],re[2]+=Z[5],re[3]+=Z[5]}static transform(Z,re){return[Z[0]*re[0]+Z[2]*re[1],Z[1]*re[0]+Z[3]*re[1],Z[0]*re[2]+Z[2]*re[3],Z[1]*re[2]+Z[3]*re[3],Z[0]*re[4]+Z[2]*re[5]+Z[4],Z[1]*re[4]+Z[3]*re[5]+Z[5]]}static applyTransform(Z,re){return[Z[0]*re[0]+Z[1]*re[2]+re[4],Z[0]*re[1]+Z[1]*re[3]+re[5]]}static applyInverseTransform(Z,re){const Te=re[0]*re[3]-re[1]*re[2];return[(Z[0]*re[3]-Z[1]*re[2]+re[2]*re[5]-re[4]*re[3])/Te,(-Z[0]*re[1]+Z[1]*re[0]+re[4]*re[1]-re[5]*re[0])/Te]}static getAxialAlignedBoundingBox(Z,re){const Te=Pe.applyTransform(Z,re),et=Pe.applyTransform(Z.slice(2,4),re),xt=Pe.applyTransform([Z[0],Z[3]],re),De=Pe.applyTransform([Z[2],Z[1]],re);return[Math.min(Te[0],et[0],xt[0],De[0]),Math.min(Te[1],et[1],xt[1],De[1]),Math.max(Te[0],et[0],xt[0],De[0]),Math.max(Te[1],et[1],xt[1],De[1])]}static inverseTransform(Z){const re=Z[0]*Z[3]-Z[1]*Z[2];return[Z[3]/re,-Z[1]/re,-Z[2]/re,Z[0]/re,(Z[2]*Z[5]-Z[4]*Z[3])/re,(Z[4]*Z[1]-Z[5]*Z[0])/re]}static apply3dTransform(Z,re){return[Z[0]*re[0]+Z[1]*re[1]+Z[2]*re[2],Z[3]*re[0]+Z[4]*re[1]+Z[5]*re[2],Z[6]*re[0]+Z[7]*re[1]+Z[8]*re[2]]}static singularValueDecompose2dScale(Z){const re=[Z[0],Z[2],Z[1],Z[3]],Te=Z[0]*re[0]+Z[1]*re[2],De=Z[2]*re[1]+Z[3]*re[3],Oe=(Te+De)/2,st=Math.sqrt((Te+De)**2-4*(Te*De-(Z[2]*re[0]+Z[3]*re[2])*(Z[0]*re[1]+Z[1]*re[3])))/2,Ge=Oe-st||1;return[Math.sqrt(Oe+st||1),Math.sqrt(Ge)]}static normalizeRect(Z){const re=Z.slice(0);return Z[0]>Z[2]&&(re[0]=Z[2],re[2]=Z[0]),Z[1]>Z[3]&&(re[1]=Z[3],re[3]=Z[1]),re}static intersect(Z,re){const Te=Math.max(Math.min(Z[0],Z[2]),Math.min(re[0],re[2])),et=Math.min(Math.max(Z[0],Z[2]),Math.max(re[0],re[2]));if(Te>et)return null;const xt=Math.max(Math.min(Z[1],Z[3]),Math.min(re[1],re[3])),De=Math.min(Math.max(Z[1],Z[3]),Math.max(re[1],re[3]));return xt>De?null:[Te,xt,et,De]}static bezierBoundingBox(Z,re,Te,et,xt,De,Oe,st){const at=[],Ge=[[],[]];let gt,it,yt,Lt,Xt,pn,Ei,Fn;for(let ai=0;ai<2;++ai)if(0===ai?(it=6*Z-12*Te+6*xt,gt=-3*Z+9*Te-9*xt+3*Oe,yt=3*Te-3*Z):(it=6*re-12*et+6*De,gt=-3*re+9*et-9*De+3*st,yt=3*et-3*re),Math.abs(gt)<1e-12){if(Math.abs(it)<1e-12)continue;Lt=-yt/it,0<Lt&&Lt<1&&at.push(Lt)}else Ei=it*it-4*yt*gt,Fn=Math.sqrt(Ei),!(Ei<0)&&(Xt=(-it+Fn)/(2*gt),0<Xt&&Xt<1&&at.push(Xt),pn=(-it-Fn)/(2*gt),0<pn&&pn<1&&at.push(pn));let On,gi=at.length;const Rn=gi;for(;gi--;)Lt=at[gi],On=1-Lt,Ge[0][gi]=On*On*On*Z+3*On*On*Lt*Te+3*On*Lt*Lt*xt+Lt*Lt*Lt*Oe,Ge[1][gi]=On*On*On*re+3*On*On*Lt*et+3*On*Lt*Lt*De+Lt*Lt*Lt*st;return Ge[0][Rn]=Z,Ge[1][Rn]=re,Ge[0][Rn+1]=Oe,Ge[1][Rn+1]=st,Ge[0].length=Ge[1].length=Rn+2,[Math.min(...Ge[0]),Math.min(...Ge[1]),Math.max(...Ge[0]),Math.max(...Ge[1])]}}v.Util=Pe;const pt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ze(le){return decodeURIComponent(escape(le))}},(oe,v,z)=>{z(3)},(oe,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.isNodeJS=void 0;const z=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);v.isNodeJS=z},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:oe,NodeCMapReaderFactory:v,NodeStandardFontDataFactory:z}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=oe,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=v,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=z}function setPDFNetworkStreamFactory(oe){createPDFNetworkStream=oe}function getDocument(oe){const v=new PDFDocumentLoadingTask;let z;if("string"==typeof oe||oe instanceof URL)z={url:oe};else if((0,_util.isArrayBuffer)(oe))z={data:oe};else if(oe instanceof PDFDataRangeTransport)z={range:oe};else{if("object"!=typeof oe)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!oe.url&&!oe.data&&!oe.range)throw new Error("Invalid parameter object: need either .data, .range or .url");z=oe}const h=Object.create(null);let U=null,j=null;for(const N in z){const O=z[N];switch(N){case"url":if(typeof window<"u")try{h[N]=new URL(O,window.location).href;continue}catch(M){(0,_util.warn)(`Cannot create valid URL: "${M}".`)}else if("string"==typeof O||O instanceof URL){h[N]=O.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":U=O;continue;case"worker":j=O;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&O instanceof Buffer)h[N]=new Uint8Array(O);else{if(O instanceof Uint8Array)break;if("string"==typeof O)h[N]=(0,_util.stringToBytes)(O);else if("object"!=typeof O||null===O||isNaN(O.length)){if(!(0,_util.isArrayBuffer)(O))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");h[N]=new Uint8Array(O)}else h[N]=new Uint8Array(O)}continue}h[N]=O}if(h.CMapReaderFactory=h.CMapReaderFactory||DefaultCMapReaderFactory,h.StandardFontDataFactory=h.StandardFontDataFactory||DefaultStandardFontDataFactory,h.ignoreErrors=!0!==h.stopAtErrors,h.fontExtraProperties=!0===h.fontExtraProperties,h.pdfBug=!0===h.pdfBug,h.enableXfa=!0===h.enableXfa,(!Number.isInteger(h.rangeChunkSize)||h.rangeChunkSize<1)&&(h.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof h.docBaseUrl||(0,_display_utils.isDataScheme)(h.docBaseUrl))&&(h.docBaseUrl=null),(!Number.isInteger(h.maxImageSize)||h.maxImageSize<-1)&&(h.maxImageSize=-1),"string"!=typeof h.cMapUrl&&(h.cMapUrl=null),"string"!=typeof h.standardFontDataUrl&&(h.standardFontDataUrl=null),"boolean"!=typeof h.useWorkerFetch&&(h.useWorkerFetch=h.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&h.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof h.isEvalSupported&&(h.isEvalSupported=!0),"boolean"!=typeof h.disableFontFace&&(h.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof h.useSystemFonts&&(h.useSystemFonts=!_is_node.isNodeJS&&!h.disableFontFace),("object"!=typeof h.ownerDocument||null===h.ownerDocument)&&(h.ownerDocument=globalThis.document),"boolean"!=typeof h.disableRange&&(h.disableRange=!1),"boolean"!=typeof h.disableStream&&(h.disableStream=!1),"boolean"!=typeof h.disableAutoFetch&&(h.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(h.verbosity),!j){const N={verbosity:h.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};j=N.port?_PDFWorker.fromPort(N):new _PDFWorker(N),v._worker=j}const ie=v.docId;return j.promise.then(function(){if(v.destroyed)throw new Error("Loading aborted");const N=_fetchDocument(j,h,U,ie),O=new Promise(function(M){let B;U?B=new _transport_stream.PDFDataTransportStream({length:h.length,initialData:h.initialData,progressiveDone:h.progressiveDone,contentDispositionFilename:h.contentDispositionFilename,disableRange:h.disableRange,disableStream:h.disableStream},U):h.data||(B=createPDFNetworkStream({url:h.url,length:h.length,httpHeaders:h.httpHeaders,withCredentials:h.withCredentials,rangeChunkSize:h.rangeChunkSize,disableRange:h.disableRange,disableStream:h.disableStream})),M(B)});return Promise.all([N,O]).then(function([M,B]){if(v.destroyed)throw new Error("Loading aborted");const W=new _message_handler.MessageHandler(ie,M,j.port),ee=new WorkerTransport(W,v,B,h);v._transport=ee,W.send("Ready",null)})}).catch(v._capability.reject),v}function _fetchDocument(oe,v,z,h){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(oe,v,z,h){if(oe.destroyed)throw new Error("Worker was destroyed");z&&(v.length=z.length,v.initialData=z.initialData,v.progressiveDone=z.progressiveDone,v.contentDispositionFilename=z.contentDispositionFilename);const U=yield oe.messageHandler.sendWithPromise("GetDocRequest",{docId:h,apiVersion:"2.14.305",source:{data:v.data,url:v.url,password:v.password,disableAutoFetch:v.disableAutoFetch,rangeChunkSize:v.rangeChunkSize,length:v.length},maxImageSize:v.maxImageSize,disableFontFace:v.disableFontFace,docBaseUrl:v.docBaseUrl,ignoreErrors:v.ignoreErrors,isEvalSupported:v.isEvalSupported,fontExtraProperties:v.fontExtraProperties,enableXfa:v.enableXfa,useSystemFonts:v.useSystemFonts,cMapUrl:v.useWorkerFetch?v.cMapUrl:null,standardFontDataUrl:v.useWorkerFetch?v.standardFontDataUrl:null});if(oe.destroyed)throw new Error("Worker was destroyed");return U})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var v,z;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(v=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),z=v++,v)),z}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var v=this;return _asyncToGenerator(function*(){v.destroyed=!0,yield v._transport?.destroy(),v._transport=null,v._worker&&(v._worker.destroy(),v._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(v,z,h=!1,U=null){this.length=v,this.initialData=z,this.progressiveDone=h,this.contentDispositionFilename=U,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(v){this._rangeListeners.push(v)}addProgressListener(v){this._progressListeners.push(v)}addProgressiveReadListener(v){this._progressiveReadListeners.push(v)}addProgressiveDoneListener(v){this._progressiveDoneListeners.push(v)}onDataRange(v,z){for(const h of this._rangeListeners)h(v,z)}onDataProgress(v,z){this._readyCapability.promise.then(()=>{for(const h of this._progressListeners)h(v,z)})}onDataProgressiveRead(v){this._readyCapability.promise.then(()=>{for(const z of this._progressiveReadListeners)z(v)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const v of this._progressiveDoneListeners)v()})}transportReady(){this._readyCapability.resolve()}requestDataRange(v,z){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(v,z){var U,h=this;this._pdfInfo=v,this._transport=z,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(U=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),h.stats||{streamTypes:{},fontTypes:{}}}),function(){return U.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(v){return this._transport.getPage(v)}getPageIndex(v){return this._transport.getPageIndex(v)}getDestinations(){return this._transport.getDestinations()}getDestination(v){return this._transport.getDestination(v)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(v=!1){return this._transport.startCleanup(v||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(v,z,h,U,j=!1){this._pageIndex=v,this._pageInfo=z,this._ownerDocument=U,this._transport=h,this._stats=j?new _display_utils.StatTimer:null,this._pdfBug=j,this.commonObjs=h.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:v,rotation:z=this.rotate,offsetX:h=0,offsetY:U=0,dontFlip:j=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:v,rotation:z,offsetX:h,offsetY:U,dontFlip:j})}getAnnotations({intent:v="display"}={}){const z=this._transport.getRenderingIntent(v);let h=this._annotationPromises.get(z.cacheKey);return h||(h=this._transport.getAnnotations(this._pageIndex,z.renderingIntent),this._annotationPromises.set(z.cacheKey,h),h=h.then(U=>{for(const j of U)void 0!==j.titleObj&&Object.defineProperty(j,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),j.titleObj.str)}),void 0!==j.contentsObj&&Object.defineProperty(j,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),j.contentsObj.str)});return U})),h}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var v=this;return _asyncToGenerator(function*(){return v._transport._htmlForXfa?.children[v._pageIndex]||null})()}render({canvasContext:v,viewport:z,intent:h="display",annotationMode:U=_util.AnnotationMode.ENABLE,transform:j=null,imageLayer:ie=null,canvasFactory:N=null,background:O=null,optionalContentConfigPromise:M=null,annotationCanvasMap:B=null,pageColors:W=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&U===_util.AnnotationMode.ENABLE&&(U=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&U===_util.AnnotationMode.ENABLE&&(U=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const ee=this._transport.getRenderingIntent(h,U);this.pendingCleanup=!1,M||(M=this._transport.getOptionalContentConfig());let G=this._intentStates.get(ee.cacheKey);G||(G=Object.create(null),this._intentStates.set(ee.cacheKey,G)),G.streamReaderCancelTimeout&&(clearTimeout(G.streamReaderCancelTimeout),G.streamReaderCancelTimeout=null);const ne=N||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),E=!!(ee.renderingIntent&_util.RenderingIntentFlag.PRINT);G.displayReadyCapability||(G.displayReadyCapability=(0,_util.createPromiseCapability)(),G.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(ee));const V=F=>{G.renderTasks.delete(L),(this.cleanupAfterRender||E)&&(this.pendingCleanup=!0),this._tryCleanup(),F?(L.capability.reject(F),this._abortOperatorList({intentState:G,reason:F instanceof Error?F:new Error(F)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},L=new InternalRenderTask({callback:V,params:{canvasContext:v,viewport:z,transform:j,imageLayer:ie,background:O},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:B,operatorList:G.operatorList,pageIndex:this._pageIndex,canvasFactory:ne,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:W});(G.renderTasks||=new Set).add(L);const H=L.task;return Promise.all([G.displayReadyCapability.promise,M]).then(([F,I])=>{this.pendingCleanup?V():(this._stats&&this._stats.time("Rendering"),L.initializeGraphics({transparency:F,optionalContentConfig:I}),L.operatorListChanged())}).catch(V),H}getOperatorList({intent:v="display",annotationMode:z=_util.AnnotationMode.ENABLE}={}){const U=this._transport.getRenderingIntent(v,z,!0);let ie,j=this._intentStates.get(U.cacheKey);return j||(j=Object.create(null),this._intentStates.set(U.cacheKey,j)),j.opListReadCapability||(ie=Object.create(null),ie.operatorListChanged=function h(){j.operatorList.lastChunk&&(j.opListReadCapability.resolve(j.operatorList),j.renderTasks.delete(ie))},j.opListReadCapability=(0,_util.createPromiseCapability)(),(j.renderTasks||=new Set).add(ie),j.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(U)),j.opListReadCapability.promise}streamTextContent({disableCombineTextItems:v=!1,includeMarkedContent:z=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==v,includeMarkedContent:!0===z},{highWaterMark:100,size:U=>U.items.length})}getTextContent(v={}){if(this._transport._htmlForXfa)return this.getXfa().then(h=>_xfa_text.XfaText.textContent(h));const z=this.streamTextContent(v);return new Promise(function(h,U){const ie=z.getReader(),N={items:[],styles:Object.create(null)};!function j(){ie.read().then(function({value:O,done:M}){M?h(N):(Object.assign(N.styles,O.styles),N.items.push(...O.items),j())},U)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const v=[];for(const z of this._intentStates.values())if(this._abortOperatorList({intentState:z,reason:new Error("Page was destroyed."),force:!0}),!z.opListReadCapability)for(const h of z.renderTasks)v.push(h.completed),h.cancel();this.objs.clear();for(const z of this._bitmaps)z.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(v)}cleanup(v=!1){return this.pendingCleanup=!0,this._tryCleanup(v)}_tryCleanup(v=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:z,operatorList:h}of this._intentStates.values())if(z.size>0||!h.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,v&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const z of this._bitmaps)z.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(v,z){const h=this._intentStates.get(z);h&&(this._stats&&this._stats.timeEnd("Page Request"),h.displayReadyCapability&&h.displayReadyCapability.resolve(v))}_renderPageChunk(v,z){for(let h=0,U=v.length;h<U;h++)z.operatorList.fnArray.push(v.fnArray[h]),z.operatorList.argsArray.push(v.argsArray[h]);z.operatorList.lastChunk=v.lastChunk;for(const h of z.renderTasks)h.operatorListChanged();v.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:v,cacheKey:z}){const U=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:v,cacheKey:z,annotationStorage:v&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),j=this._intentStates.get(z);j.streamReader=U;const ie=()=>{U.read().then(({value:N,done:O})=>{O?j.streamReader=null:this._transport.destroyed||(this._renderPageChunk(N,j),ie())},N=>{if(j.streamReader=null,!this._transport.destroyed){if(j.operatorList){j.operatorList.lastChunk=!0;for(const O of j.renderTasks)O.operatorListChanged();this._tryCleanup()}if(j.displayReadyCapability)j.displayReadyCapability.reject(N);else{if(!j.opListReadCapability)throw N;j.opListReadCapability.reject(N)}}})};ie()}_abortOperatorList({intentState:v,reason:z,force:h=!1}){if(v.streamReader){if(!h){if(v.renderTasks.size>0)return;if(z instanceof _display_utils.RenderingCancelledException)return void(v.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:v,reason:z,force:!0}),v.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(v.streamReader.cancel(new _util.AbortException(z.message)).catch(()=>{}),v.streamReader=null,!this._transport.destroyed){for(const[U,j]of this._intentStates)if(j===v){this._intentStates.delete(U);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(v,z){const h={data:structuredClone(v,z)};this._deferred.then(()=>{for(const U of this._listeners)U.call(this,h)})}addEventListener(v,z){this._listeners.push(z)}removeEventListener(v,z){const h=this._listeners.indexOf(z);this._listeners.splice(h,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const oe=document?.currentScript?.src;oe&&(PDFWorkerUtil.fallbackWorkerSrc=oe.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(oe,v){let z;try{if(z=new URL(oe),!z.origin||"null"===z.origin)return!1}catch{return!1}const h=new URL(v,z);return z.origin===h.origin},PDFWorkerUtil.createCDNWrapper=function(oe){return URL.createObjectURL(new Blob([`importScripts("${oe}");`]))};class _PDFWorker{constructor({name:oe=null,port:v=null,verbosity:z=(0,_util.getVerbosityLevel)()}={}){if(v&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(v))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=oe,this.destroyed=!1,this.verbosity=z,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,v)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(v,this),void this._initializeFromPort(v);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(oe){this._port=oe,this._messageHandler=new _message_handler.MessageHandler("main","worker",oe),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let oe=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,oe)||(oe=PDFWorkerUtil.createCDNWrapper(new URL(oe,window.location).href));const v=new Worker(oe),z=new _message_handler.MessageHandler("main","worker",v),h=()=>{v.removeEventListener("error",U),z.destroy(),v.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},U=()=>{this._webWorker||h()};v.addEventListener("error",U),z.on("test",ie=>{v.removeEventListener("error",U),this.destroyed?h():ie?(this._messageHandler=z,this._port=v,this._webWorker=v,this._readyCapability.resolve(),z.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),z.destroy(),v.terminate())}),z.on("ready",ie=>{if(v.removeEventListener("error",U),this.destroyed)h();else try{j()}catch{this._setupFakeWorker()}});const j=()=>{const ie=new Uint8Array;z.send("test",ie,[ie.buffer])};return void j()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(oe=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const v=new LoopbackPort;this._port=v;const z="fake"+PDFWorkerUtil.fakeWorkerId++,h=new _message_handler.MessageHandler(z+"_worker",z,v);oe.setup(h,v);const U=new _message_handler.MessageHandler(z,z+"_worker",v);this._messageHandler=U,this._readyCapability.resolve(),U.send("configure",{verbosity:this.verbosity})}).catch(oe=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${oe.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(oe){if(!oe?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(oe.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(oe.port):new _PDFWorker(oe)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function oe(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(v,z,h,U){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=v,this.loadingTask=z,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:z.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:U.ownerDocument,styleElement:U.styleElement}),this._params=U,U.useWorkerFetch||(this.CMapReaderFactory=new U.CMapReaderFactory({baseUrl:U.cMapUrl,isCompressed:U.cMapPacked}),this.StandardFontDataFactory=new U.StandardFontDataFactory({baseUrl:U.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=h,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(v,z=_util.AnnotationMode.ENABLE,h=!1){let U=_util.RenderingIntentFlag.DISPLAY,j="";switch(v){case"any":U=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":U=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${v}`)}switch(z){case _util.AnnotationMode.DISABLE:U+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:U+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:U+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,j=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${z}`)}return h&&(U+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:U,cacheKey:`${U}_${j}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const v=[];for(const h of _classPrivateFieldGet(this,_pageCache).values())v.push(h._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const z=this.messageHandler.sendWithPromise("Terminate",null);return v.push(z),Promise.all(v).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:v,loadingTask:z}=this;v.on("GetReader",(h,U)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=j=>{this._lastProgress={loaded:j.loaded,total:j.total}},U.onPull=()=>{this._fullReader.read().then(function({value:j,done:ie}){ie?U.close():((0,_util.assert)((0,_util.isArrayBuffer)(j),"GetReader - expected an ArrayBuffer."),U.enqueue(new Uint8Array(j),1,[j]))}).catch(j=>{U.error(j)})},U.onCancel=j=>{this._fullReader.cancel(j),U.ready.catch(ie=>{if(!this.destroyed)throw ie})}}),v.on("ReaderHeadersReady",h=>{const U=(0,_util.createPromiseCapability)(),j=this._fullReader;return j.headersReady.then(()=>{(!j.isStreamingSupported||!j.isRangeSupported)&&(this._lastProgress&&z.onProgress?.(this._lastProgress),j.onProgress=ie=>{z.onProgress?.({loaded:ie.loaded,total:ie.total})}),U.resolve({isStreamingSupported:j.isStreamingSupported,isRangeSupported:j.isRangeSupported,contentLength:j.contentLength})},U.reject),U.promise}),v.on("GetRangeReader",(h,U)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const j=this._networkStream.getRangeReader(h.begin,h.end);j?(U.onPull=()=>{j.read().then(function({value:ie,done:N}){N?U.close():((0,_util.assert)((0,_util.isArrayBuffer)(ie),"GetRangeReader - expected an ArrayBuffer."),U.enqueue(new Uint8Array(ie),1,[ie]))}).catch(ie=>{U.error(ie)})},U.onCancel=ie=>{j.cancel(ie),U.ready.catch(N=>{if(!this.destroyed)throw N})}):U.close()}),v.on("GetDoc",({pdfInfo:h})=>{this._numPages=h.numPages,this._htmlForXfa=h.htmlForXfa,delete h.htmlForXfa,z._capability.resolve(new PDFDocumentProxy(h,this))}),v.on("DocException",function(h){let U;switch(h.name){case"PasswordException":U=new _util.PasswordException(h.message,h.code);break;case"InvalidPDFException":U=new _util.InvalidPDFException(h.message);break;case"MissingPDFException":U=new _util.MissingPDFException(h.message);break;case"UnexpectedResponseException":U=new _util.UnexpectedResponseException(h.message,h.status);break;case"UnknownErrorException":U=new _util.UnknownErrorException(h.message,h.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}z._capability.reject(U)}),v.on("PasswordRequest",h=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),z.onPassword){const U=j=>{j instanceof Error?this._passwordCapability.reject(j):this._passwordCapability.resolve({password:j})};try{z.onPassword(U,h.code)}catch(j){this._passwordCapability.reject(j)}}else this._passwordCapability.reject(new _util.PasswordException(h.message,h.code));return this._passwordCapability.promise}),v.on("DataLoaded",h=>{z.onProgress?.({loaded:h.length,total:h.length}),this.downloadInfoCapability.resolve(h)}),v.on("StartRenderPage",h=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(h.pageIndex)._startRenderPage(h.transparency,h.cacheKey)}),v.on("commonobj",([h,U,j])=>{if(!this.destroyed&&!this.commonObjs.has(h))switch(U){case"Font":const ie=this._params;if("error"in j){const M=j.error;(0,_util.warn)(`Error during font loading: ${M}`),this.commonObjs.resolve(h,M);break}let N=null;ie.pdfBug&&globalThis.FontInspector?.enabled&&(N={registerFont(M,B){globalThis.FontInspector.fontAdded(M,B)}});const O=new _font_loader.FontFaceObject(j,{isEvalSupported:ie.isEvalSupported,disableFontFace:ie.disableFontFace,ignoreErrors:ie.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:N});this.fontLoader.bind(O).catch(M=>v.sendWithPromise("FontFallback",{id:h})).finally(()=>{!ie.fontExtraProperties&&O.data&&(O.data=null),this.commonObjs.resolve(h,O)});break;case"FontPath":case"Image":this.commonObjs.resolve(h,j);break;default:throw new Error(`Got unknown common object type ${U}`)}}),v.on("obj",([h,U,j,ie])=>{if(this.destroyed)return;const N=_classPrivateFieldGet(this,_pageCache).get(U);if(!N.objs.has(h))switch(j){case"Image":N.objs.resolve(h,ie);const O=8e6;if(ie){let M;if(ie.bitmap){const{bitmap:B,width:W,height:ee}=ie;M=W*ee*4,N._bitmaps.add(B)}else M=ie.data?.length||0;M>O&&(N.cleanupAfterRender=!0)}break;case"Pattern":N.objs.resolve(h,ie);break;default:throw new Error(`Got unknown object type ${j}`)}}),v.on("DocProgress",h=>{this.destroyed||z.onProgress?.({loaded:h.loaded,total:h.total})}),v.on("DocStats",h=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(h.streamTypes),fontTypes:Object.freeze(h.fontTypes)}))}),v.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),v.on("FetchBuiltInCMap",h=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(h):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),v.on("FetchStandardFontData",h=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(h):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:v}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(v)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(v){if(!Number.isInteger(v)||v<=0||v>this._numPages)return Promise.reject(new Error("Invalid page request."));const z=v-1,h=_classPrivateFieldGet(this,_pagePromises).get(z);if(h)return h;const U=this.messageHandler.sendWithPromise("GetPage",{pageIndex:z}).then(j=>{if(this.destroyed)throw new Error("Transport destroyed");const ie=new PDFPageProxy(z,j,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(z,ie),ie});return _classPrivateFieldGet(this,_pagePromises).set(z,U),U}getPageIndex(v){return"object"!=typeof v||null===v||!Number.isInteger(v.num)||v.num<0||!Number.isInteger(v.gen)||v.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:v.num,gen:v.gen})}getAnnotations(v,z){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:v,intent:z})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(v){return"string"!=typeof v?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:v})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(v){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:v})}getStructTree(v){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:v})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(v=>new _optional_content_config.OptionalContentConfig(v))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(v=>({info:v[0],metadata:v[1]?new _metadata.Metadata(v[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(v=!1){var z=this;return _asyncToGenerator(function*(){if(yield z.messageHandler.sendWithPromise("Cleanup",null),!z.destroyed){for(const h of _classPrivateFieldGet(z,_pageCache).values())if(!h.cleanup())throw new Error(`startCleanup: Page ${h.pageNumber} is currently rendering.`);z.commonObjs.clear(),v||z.fontLoader.clear(),_classPrivateFieldSet(z,_metadataPromise,null),z._getFieldObjectsPromise=null,z._hasJSActionsPromise=null}})()}get loadingParams(){const v=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:v.disableAutoFetch,enableXfa:v.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(v,z=null){if(z){const U=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,v);return U.capability.promise.then(()=>z(U.data)),null}const h=_classPrivateFieldGet(this,_objs)[v];if(!h?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${v}.`);return h.data}has(v){return _classPrivateFieldGet(this,_objs)[v]?.capability.settled||!1}resolve(v,z=null){const h=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,v);h.data=z,h.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(oe){return _classPrivateFieldGet(this,_objs)[oe]||(_classPrivateFieldGet(this,_objs)[oe]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(v){this._internalRenderTask=v,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:v,params:z,objs:h,commonObjs:U,annotationCanvasMap:j,operatorList:ie,pageIndex:N,canvasFactory:O,useRequestAnimationFrame:M=!1,pdfBug:B=!1,pageColors:W=null}){this.callback=v,this.params=z,this.objs=h,this.commonObjs=U,this.annotationCanvasMap=j,this.operatorListIdx=null,this.operatorList=ie,this._pageIndex=N,this.canvasFactory=O,this._pdfBug=B,this.pageColors=W,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===M&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=z.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:v=!1,optionalContentConfig:z}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:h,viewport:U,transform:j,imageLayer:ie,background:N}=this.params;this.gfx=new _canvas.CanvasGraphics(h,this.commonObjs,this.objs,this.canvasFactory,ie,z,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:j,viewport:U,transparency:v,background:N}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(v=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(v||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var v=this;return _asyncToGenerator(function*(){v.cancelled||(v.operatorListIdx=v.gfx.executeOperatorList(v.operatorList,v.operatorListIdx,v._continueBound,v.stepper),v.operatorListIdx===v.operatorList.argsArray.length&&(v.running=!1,v.operatorList.lastChunk&&(v.gfx.endDrawing(),v._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(v._canvas),v.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.StatTimer=v.RenderingCancelledException=v.PixelsPerInch=v.PageViewport=v.PDFDateString=v.DOMStandardFontDataFactory=v.DOMSVGFactory=v.DOMCanvasFactory=v.DOMCMapReaderFactory=void 0,v.deprecated=function g(P){console.log("Deprecated API usage: "+P)},v.getFilenameFromUrl=function L(P){const D=P.indexOf("#"),C=P.indexOf("?"),q=Math.min(D>0?D:P.length,C>0?C:P.length);return P.substring(P.lastIndexOf("/",q)+1,q)},v.getPdfFilenameFromUrl=function H(P,D="document.pdf"){if("string"!=typeof P)return D;if(E(P))return(0,U.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),D;const q=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Y=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(P);let se=q.exec(Y[1])||q.exec(Y[2])||q.exec(Y[3]);if(se&&(se=se[0],se.includes("%")))try{se=q.exec(decodeURIComponent(se))[0]}catch{}return se||D},v.getXfaPageViewport=function A(P,{scale:D=1,rotation:C=0}){const{width:q,height:Y}=P.attributes.style,se=[0,0,parseInt(q),parseInt(Y)];return new G({viewBox:se,scale:D,rotation:C})},v.isDataScheme=E,v.isPdfFile=function V(P){return"string"==typeof P&&/\.pdf$/i.test(P)},v.isValidFetchUrl=I,v.loadScript=function p(P,D=!1){return new Promise((C,q)=>{const Y=document.createElement("script");Y.src=P,Y.onload=function(se){D&&Y.remove(),C(se)},Y.onerror=function(){q(new Error(`Cannot load script at: ${Y.src}`))},(document.head||document.documentElement).appendChild(Y)})};var h=z(6),U=z(1);class ie{}function O(P){return M.apply(this,arguments)}function M(){return(M=_asyncToGenerator(function*(P,D=!1){if(I(P,document.baseURI)){const C=yield fetch(P);if(!C.ok)throw new Error(C.statusText);return D?new Uint8Array(yield C.arrayBuffer()):(0,U.stringToBytes)(yield C.text())}return new Promise((C,q)=>{const Y=new XMLHttpRequest;Y.open("GET",P,!0),D&&(Y.responseType="arraybuffer"),Y.onreadystatechange=()=>{if(Y.readyState===XMLHttpRequest.DONE){if(200===Y.status||0===Y.status){let se;if(D&&Y.response?se=new Uint8Array(Y.response):!D&&Y.responseText&&(se=(0,U.stringToBytes)(Y.responseText)),se)return void C(se)}q(new Error(Y.statusText))}},Y.send(null)})})).apply(this,arguments)}_defineProperty(ie,"CSS",96),_defineProperty(ie,"PDF",72),_defineProperty(ie,"PDF_TO_CSS_UNITS",ie.CSS/ie.PDF),v.PixelsPerInch=ie,v.DOMCanvasFactory=class N extends h.BaseCanvasFactory{constructor({ownerDocument:D=globalThis.document}={}){super(),this._document=D}_createCanvas(D,C){const q=this._document.createElement("canvas");return q.width=D,q.height=C,q}},v.DOMCMapReaderFactory=class B extends h.BaseCMapReaderFactory{_fetchData(D,C){return O(D,this.isCompressed).then(q=>({cMapData:q,compressionType:C}))}},v.DOMStandardFontDataFactory=class W extends h.BaseStandardFontDataFactory{_fetchData(D){return O(D,!0)}},v.DOMSVGFactory=class ee extends h.BaseSVGFactory{_createSVG(D){return document.createElementNS("http://www.w3.org/2000/svg",D)}};class G{constructor({viewBox:D,scale:C,rotation:q,offsetX:Y=0,offsetY:se=0,dontFlip:he=!1}){this.viewBox=D,this.scale=C,this.rotation=q,this.offsetX=Y,this.offsetY=se;const ge=(D[2]+D[0])/2,_e=(D[3]+D[1])/2;let ve,Ne,Le,K,_,u,m,y;switch((q%=360)<0&&(q+=360),q){case 180:ve=-1,Ne=0,Le=0,K=1;break;case 90:ve=0,Ne=1,Le=1,K=0;break;case 270:ve=0,Ne=-1,Le=-1,K=0;break;case 0:ve=1,Ne=0,Le=0,K=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}he&&(Le=-Le,K=-K),0===ve?(_=Math.abs(_e-D[1])*C+Y,u=Math.abs(ge-D[0])*C+se,m=Math.abs(D[3]-D[1])*C,y=Math.abs(D[2]-D[0])*C):(_=Math.abs(ge-D[0])*C+Y,u=Math.abs(_e-D[1])*C+se,m=Math.abs(D[2]-D[0])*C,y=Math.abs(D[3]-D[1])*C),this.transform=[ve*C,Ne*C,Le*C,K*C,_-ve*C*ge-Le*C*_e,u-Ne*C*ge-K*C*_e],this.width=m,this.height=y}clone({scale:D=this.scale,rotation:C=this.rotation,offsetX:q=this.offsetX,offsetY:Y=this.offsetY,dontFlip:se=!1}={}){return new G({viewBox:this.viewBox.slice(),scale:D,rotation:C,offsetX:q,offsetY:Y,dontFlip:se})}convertToViewportPoint(D,C){return U.Util.applyTransform([D,C],this.transform)}convertToViewportRectangle(D){const C=U.Util.applyTransform([D[0],D[1]],this.transform),q=U.Util.applyTransform([D[2],D[3]],this.transform);return[C[0],C[1],q[0],q[1]]}convertToPdfPoint(D,C){return U.Util.applyInverseTransform([D,C],this.transform)}}function E(P){const D=P.length;let C=0;for(;C<D&&""===P[C].trim();)C++;return"data:"===P.substring(C,C+5).toLowerCase()}function I(P,D){try{const{protocol:C}=D?new URL(P,D):new URL(P);return"http:"===C||"https:"===C}catch{return!1}}let w;v.PageViewport=G,v.RenderingCancelledException=class ne extends U.BaseException{constructor(D,C){super(D,"RenderingCancelledException"),this.type=C}},v.StatTimer=class F{constructor(){this.started=Object.create(null),this.times=[]}time(D){D in this.started&&(0,U.warn)(`Timer is already running for ${D}`),this.started[D]=Date.now()}timeEnd(D){D in this.started||(0,U.warn)(`Timer has not been started for ${D}`),this.times.push({name:D,start:this.started[D],end:Date.now()}),delete this.started[D]}toString(){const D=[];let C=0;for(const q of this.times){const Y=q.name;Y.length>C&&(C=Y.length)}for(const q of this.times){const Y=q.end-q.start;D.push(`${q.name.padEnd(C)} ${Y}ms\n`)}return D.join("")}},v.PDFDateString=class R{static toDateObject(D){if(!D||"string"!=typeof D)return null;w||(w=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const C=w.exec(D);if(!C)return null;const q=parseInt(C[1],10);let Y=parseInt(C[2],10);Y=Y>=1&&Y<=12?Y-1:0;let se=parseInt(C[3],10);se=se>=1&&se<=31?se:1;let he=parseInt(C[4],10);he=he>=0&&he<=23?he:0;let ge=parseInt(C[5],10);ge=ge>=0&&ge<=59?ge:0;let _e=parseInt(C[6],10);_e=_e>=0&&_e<=59?_e:0;const ve=C[7]||"Z";let Ne=parseInt(C[8],10);Ne=Ne>=0&&Ne<=23?Ne:0;let Le=parseInt(C[9],10)||0;return Le=Le>=0&&Le<=59?Le:0,"-"===ve?(he+=Ne,ge+=Le):"+"===ve&&(he-=Ne,ge-=Le),new Date(Date.UTC(q,Y,se,he,ge,_e))}}},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.BaseStandardFontDataFactory=v.BaseSVGFactory=v.BaseCanvasFactory=v.BaseCMapReaderFactory=void 0;var h=z(1);class U{constructor(){this.constructor===U&&(0,h.unreachable)("Cannot initialize BaseCanvasFactory.")}create(M,B){if(M<=0||B<=0)throw new Error("Invalid canvas size");const W=this._createCanvas(M,B);return{canvas:W,context:W.getContext("2d")}}reset(M,B,W){if(!M.canvas)throw new Error("Canvas is not specified");if(B<=0||W<=0)throw new Error("Invalid canvas size");M.canvas.width=B,M.canvas.height=W}destroy(M){if(!M.canvas)throw new Error("Canvas is not specified");M.canvas.width=0,M.canvas.height=0,M.canvas=null,M.context=null}_createCanvas(M,B){(0,h.unreachable)("Abstract method `_createCanvas` called.")}}v.BaseCanvasFactory=U;class j{constructor({baseUrl:M=null,isCompressed:B=!1}){this.constructor===j&&(0,h.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=M,this.isCompressed=B}fetch({name:M}){var B=this;return _asyncToGenerator(function*(){if(!B.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!M)throw new Error("CMap name must be specified.");const W=B.baseUrl+M+(B.isCompressed?".bcmap":"");return B._fetchData(W,B.isCompressed?h.CMapCompressionType.BINARY:h.CMapCompressionType.NONE).catch(G=>{throw new Error(`Unable to load ${B.isCompressed?"binary ":""}CMap at: ${W}`)})})()}_fetchData(M,B){(0,h.unreachable)("Abstract method `_fetchData` called.")}}v.BaseCMapReaderFactory=j;class ie{constructor({baseUrl:M=null}){this.constructor===ie&&(0,h.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=M}fetch({filename:M}){var B=this;return _asyncToGenerator(function*(){if(!B.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!M)throw new Error("Font filename must be specified.");const W=`${B.baseUrl}${M}`;return B._fetchData(W).catch(ee=>{throw new Error(`Unable to load font data at: ${W}`)})})()}_fetchData(M){(0,h.unreachable)("Abstract method `_fetchData` called.")}}v.BaseStandardFontDataFactory=ie;class N{constructor(){this.constructor===N&&(0,h.unreachable)("Cannot initialize BaseSVGFactory.")}create(M,B){if(M<=0||B<=0)throw new Error("Invalid SVG dimensions");const W=this._createSVG("svg:svg");return W.setAttribute("version","1.1"),W.setAttribute("width",`${M}px`),W.setAttribute("height",`${B}px`),W.setAttribute("preserveAspectRatio","none"),W.setAttribute("viewBox",`0 0 ${M} ${B}`),W}createElement(M){if("string"!=typeof M)throw new Error("Invalid SVG element type");return this._createSVG(M)}_createSVG(M){(0,h.unreachable)("Abstract method `_createSVG` called.")}}v.BaseSVGFactory=N},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.FontLoader=v.FontFaceObject=void 0;var h=z(1);class U{constructor({docId:O,onUnsupportedFeature:M,ownerDocument:B=globalThis.document,styleElement:W=null}){this.constructor===U&&(0,h.unreachable)("Cannot initialize BaseFontLoader."),this.docId=O,this._onUnsupportedFeature=M,this._document=B,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(O){this.nativeFontFaces.push(O),this._document.fonts.add(O)}insertRule(O){let M=this.styleElement;M||(M=this.styleElement=this._document.createElement("style"),M.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(M));const B=M.sheet;B.insertRule(O,B.cssRules.length)}clear(){for(const O of this.nativeFontFaces)this._document.fonts.delete(O);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(O){var M=this;return _asyncToGenerator(function*(){if(O.attached||O.missingFile)return;if(O.attached=!0,M.isFontLoadingAPISupported){const W=O.createNativeFontFace();if(W){M.addNativeFontFace(W);try{yield W.loaded}catch(ee){throw M._onUnsupportedFeature({featureId:h.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,h.warn)(`Failed to load font '${W.family}': '${ee}'.`),O.disableFontFace=!0,ee}}return}const B=O.createFontFaceRule();if(B){if(M.insertRule(B),M.isSyncFontLoadingSupported)return;yield new Promise(W=>{const ee=M._queueLoadingCallback(W);M._prepareFontLoadEvent([B],[O],ee)})}})()}_queueLoadingCallback(O){(0,h.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,h.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,h.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,h.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(O,M,B){(0,h.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let j;v.FontLoader=j,v.FontLoader=j=class extends U{constructor(O){super(O),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let O=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(O=!0),(0,h.shadow)(this,"isSyncFontLoadingSupported",O)}_queueLoadingCallback(O){const B=this.loadingContext,W={id:"pdfjs-font-loading-"+B.nextRequestId++,done:!1,complete:function M(){for((0,h.assert)(!W.done,"completeRequest() cannot be called twice."),W.done=!0;B.requests.length>0&&B.requests[0].done;){const ee=B.requests.shift();setTimeout(ee.callback,0)}},callback:O};return B.requests.push(W),W}get _loadTestFont(){return(0,h.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(O,M,B){function W(q,Y){return q.charCodeAt(Y)<<24|q.charCodeAt(Y+1)<<16|q.charCodeAt(Y+2)<<8|255&q.charCodeAt(Y+3)}function ee(q,Y,se,he){return q.substring(0,Y)+he+q.substring(Y+se)}let G,ne;const E=this._document.createElement("canvas");E.width=1,E.height=1;const V=E.getContext("2d");let L=0;const F=`lt${Date.now()}${this.loadTestFontId++}`;let I=this._loadTestFont;I=ee(I,976,F.length,F);const w=1482184792;let R=W(I,16);for(G=0,ne=F.length-3;G<ne;G+=4)R=R-w+W(F,G)|0;G<F.length&&(R=R-w+W(F+"XXX",G)|0),I=ee(I,16,4,(0,h.string32)(R));const A=`url(data:font/opentype;base64,${btoa(I)});`;this.insertRule(`@font-face {font-family:"${F}";src:${A}}`);const D=[];for(const q of M)D.push(q.loadedName);D.push(F);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const q of D){const Y=this._document.createElement("span");Y.textContent="Hi",Y.style.fontFamily=q,C.appendChild(Y)}this._document.body.appendChild(C),function H(q,Y){if(L++,L>30)return(0,h.warn)("Load test font never loaded."),void Y();V.font="30px "+q,V.fillText(".",0,20),V.getImageData(0,0,1,1).data[3]>0?Y():setTimeout(H.bind(null,q,Y))}(F,()=>{C.remove(),B.complete()})}},v.FontFaceObject=class ie{constructor(O,{isEvalSupported:M=!0,disableFontFace:B=!1,ignoreErrors:W=!1,onUnsupportedFeature:ee,fontRegistry:G=null}){this.compiledGlyphs=Object.create(null);for(const ne in O)this[ne]=O[ne];this.isEvalSupported=!1!==M,this.disableFontFace=!0===B,this.ignoreErrors=!0===W,this._onUnsupportedFeature=ee,this.fontRegistry=G}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let O;if(this.cssFontInfo){const M={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(M.style=`oblique ${this.cssFontInfo.italicAngle}deg`),O=new FontFace(this.cssFontInfo.fontFamily,this.data,M)}else O=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),O}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const O=(0,h.bytesToString)(this.data),M=`url(data:${this.mimetype};base64,${btoa(O)});`;let B;if(this.cssFontInfo){let W=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(W+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),B=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${W}src:${M}}`}else B=`@font-face {font-family:"${this.loadedName}";src:${M}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,M),B}getPathGenerator(O,M){if(void 0!==this.compiledGlyphs[M])return this.compiledGlyphs[M];let B;try{B=O.get(this.loadedName+"_path_"+M)}catch(W){if(!this.ignoreErrors)throw W;return this._onUnsupportedFeature({featureId:h.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,h.warn)(`getPathGenerator - ignoring character: "${W}".`),this.compiledGlyphs[M]=function(ee,G){}}if(this.isEvalSupported&&h.FeatureTest.isEvalSupported){const W=[];for(const ee of B){const G=void 0!==ee.args?ee.args.join(","):"";W.push("c.",ee.cmd,"(",G,");\n")}return this.compiledGlyphs[M]=new Function("c","size",W.join(""))}return this.compiledGlyphs[M]=function(W,ee){for(const G of B)"scale"===G.cmd&&(G.args=[ee,-ee]),W[G.cmd].apply(W,G.args)}}}},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.AnnotationStorage=void 0;var h=z(9),U=z(1);v.AnnotationStorage=class j{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(N,O){const M=this._storage.get(N);return void 0===M?O:Object.assign(O,M)}getRawValue(N){return this._storage.get(N)}setValue(N,O){const M=this._storage.get(N);let B=!1;if(void 0!==M)for(const[W,ee]of Object.entries(O))M[W]!==ee&&(B=!0,M[W]=ee);else B=!0,this._storage.set(N,O);B&&this._setModified()}getAll(){return this._storage.size>0?(0,U.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const N=new h.MurmurHash3_64;for(const[O,M]of this._storage)N.update(`${O}:${JSON.stringify(M)}`);return N.hexdigest()}}},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.MurmurHash3_64=void 0;var h=z(1);const U=3285377520,j=4294901760,ie=65535;v.MurmurHash3_64=class N{constructor(M){this.h1=M?4294967295&M:U,this.h2=M?4294967295&M:U}update(M){let B,W;if("string"==typeof M){B=new Uint8Array(2*M.length),W=0;for(let w=0,R=M.length;w<R;w++){const A=M.charCodeAt(w);A<=255?B[W++]=A:(B[W++]=A>>>8,B[W++]=255&A)}}else{if(!(0,h.isArrayBuffer)(M))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");B=M.slice(),W=B.byteLength}const ee=W>>2,G=W-4*ee,ne=new Uint32Array(B.buffer,0,ee);let E=0,V=0,L=this.h1,H=this.h2;const F=3432918353,I=461845907,p=F&ie,g=I&ie;for(let w=0;w<ee;w++)1&w?(E=ne[w],E=E*F&j|E*p&ie,E=E<<15|E>>>17,E=E*I&j|E*g&ie,L^=E,L=L<<13|L>>>19,L=5*L+3864292196):(V=ne[w],V=V*F&j|V*p&ie,V=V<<15|V>>>17,V=V*I&j|V*g&ie,H^=V,H=H<<13|H>>>19,H=5*H+3864292196);switch(E=0,G){case 3:E^=B[4*ee+2]<<16;case 2:E^=B[4*ee+1]<<8;case 1:E^=B[4*ee],E=E*F&j|E*p&ie,E=E<<15|E>>>17,E=E*I&j|E*g&ie,1&ee?L^=E:H^=E}this.h1=L,this.h2=H}hexdigest(){let M=this.h1,B=this.h2;M^=B>>>1,M=3981806797*M&j|36045*M&ie,B=4283543511*B&j|(2950163797*(B<<16|M>>>16)&j)>>>16,M^=B>>>1,M=444984403*M&j|60499*M&ie,B=3301882366*B&j|(3120437893*(B<<16|M>>>16)&j)>>>16,M^=B>>>1;const W=(M>>>0).toString(16),ee=(B>>>0).toString(16);return W.padStart(8,"0")+ee.padStart(8,"0")}}},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CanvasGraphics=void 0;var h=z(1),U=z(11),j=z(12),ie=z(3),N=z(5);const B=4096,E=16;function H(K){if(K._transformStack&&(K._transformStack=[]),!K.mozCurrentTransform){K._originalSave=K.save,K._originalRestore=K.restore,K._originalRotate=K.rotate,K._originalScale=K.scale,K._originalTranslate=K.translate,K._originalTransform=K.transform,K._originalSetTransform=K.setTransform,K._originalResetTransform=K.resetTransform,K._transformMatrix=K._transformMatrix||[1,0,0,1,0,0],K._transformStack=[];try{const _=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(K),"lineWidth");K._setLineWidth=_.set,K._getLineWidth=_.get,Object.defineProperty(K,"lineWidth",{set:function(m){this._setLineWidth(1.000001*m)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(K,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(K,"mozCurrentTransformInverse",{get:function(){const[u,m,y,S,T,x]=this._transformMatrix,Q=u*S-m*y,ue=m*y-u*S;return[S/Q,m/ue,y/ue,u/Q,(S*T-y*x)/ue,(m*T-u*x)/Q]}}),K.save=function(){const u=this._transformMatrix;this._transformStack.push(u),this._transformMatrix=u.slice(0,6),this._originalSave()},K.restore=function(){0===this._transformStack.length&&(0,h.warn)("Tried to restore a ctx when the stack was already empty.");const u=this._transformStack.pop();u&&(this._transformMatrix=u,this._originalRestore())},K.translate=function(u,m){const y=this._transformMatrix;y[4]=y[0]*u+y[2]*m+y[4],y[5]=y[1]*u+y[3]*m+y[5],this._originalTranslate(u,m)},K.scale=function(u,m){const y=this._transformMatrix;y[0]*=u,y[1]*=u,y[2]*=m,y[3]*=m,this._originalScale(u,m)},K.transform=function(u,m,y,S,T,x){const Q=this._transformMatrix;this._transformMatrix=[Q[0]*u+Q[2]*m,Q[1]*u+Q[3]*m,Q[0]*y+Q[2]*S,Q[1]*y+Q[3]*S,Q[0]*T+Q[2]*x+Q[4],Q[1]*T+Q[3]*x+Q[5]],K._originalTransform(u,m,y,S,T,x)},K.setTransform=function(u,m,y,S,T,x){this._transformMatrix=[u,m,y,S,T,x],K._originalSetTransform(u,m,y,S,T,x)},K.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],K._originalResetTransform()},K.rotate=function(u){const m=Math.cos(u),y=Math.sin(u),S=this._transformMatrix;this._transformMatrix=[S[0]*m+S[2]*y,S[1]*m+S[3]*y,S[0]*-y+S[2]*m,S[1]*-y+S[3]*m,S[4],S[5]],this._originalRotate(u)}}}class F{constructor(_){this.canvasFactory=_,this.cache=Object.create(null)}getCanvas(_,u,m,y){let S;return void 0!==this.cache[_]?(S=this.cache[_],this.canvasFactory.reset(S,u,m),S.context.setTransform(1,0,0,1,0,0)):(S=this.canvasFactory.create(u,m),this.cache[_]=S),y&&H(S.context),S}delete(_){delete this.cache[_]}clear(){for(const _ in this.cache)this.canvasFactory.destroy(this.cache[_]),delete this.cache[_]}}function I(K,_,u,m,y,S,T,x,Q,ue){const[te,fe,ce,ye,xe,Ve]=K.mozCurrentTransform;if(0===fe&&0===ce){const Pe=Math.round(T*te+xe),lt=Math.round(x*ye+Ve),Ae=Math.abs(Math.round((T+Q)*te+xe)-Pe)||1,Ze=Math.abs(Math.round((x+ue)*ye+Ve)-lt)||1;return K.setTransform(Math.sign(te),0,0,Math.sign(ye),Pe,lt),K.drawImage(_,u,m,y,S,0,0,Ae,Ze),K.setTransform(te,fe,ce,ye,xe,Ve),[Ae,Ze]}if(0===te&&0===ye){const Pe=Math.round(x*ce+xe),lt=Math.round(T*fe+Ve),Ae=Math.abs(Math.round((x+ue)*ce+xe)-Pe)||1,Ze=Math.abs(Math.round((T+Q)*fe+Ve)-lt)||1;return K.setTransform(0,Math.sign(fe),Math.sign(ce),0,Pe,lt),K.drawImage(_,u,m,y,S,0,0,Ze,Ae),K.setTransform(te,fe,ce,ye,xe,Ve),[Ze,Ae]}return K.drawImage(_,u,m,y,S,T,x,Q,ue),[Math.hypot(te,fe)*Q,Math.hypot(ce,ye)*ue]}class g{constructor(_,u){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=h.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=h.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=h.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,_,u])}clone(){const _=Object.create(this);return _.clipBox=this.clipBox.slice(),_}setCurrentPoint(_,u){this.x=_,this.y=u}updatePathMinMax(_,u,m){[u,m]=h.Util.applyTransform([u,m],_),this.minX=Math.min(this.minX,u),this.minY=Math.min(this.minY,m),this.maxX=Math.max(this.maxX,u),this.maxY=Math.max(this.maxY,m)}updateRectMinMax(_,u){const m=h.Util.applyTransform(u,_),y=h.Util.applyTransform(u.slice(2),_);this.minX=Math.min(this.minX,m[0],y[0]),this.minY=Math.min(this.minY,m[1],y[1]),this.maxX=Math.max(this.maxX,m[0],y[0]),this.maxY=Math.max(this.maxY,m[1],y[1])}updateScalingPathMinMax(_,u){h.Util.scaleMinMax(_,u),this.minX=Math.min(this.minX,u[0]),this.maxX=Math.max(this.maxX,u[1]),this.minY=Math.min(this.minY,u[2]),this.maxY=Math.max(this.maxY,u[3])}updateCurvePathMinMax(_,u,m,y,S,T,x,Q,ue,te){const fe=h.Util.bezierBoundingBox(u,m,y,S,T,x,Q,ue);if(te)return te[0]=Math.min(te[0],fe[0],fe[2]),te[1]=Math.max(te[1],fe[0],fe[2]),te[2]=Math.min(te[2],fe[1],fe[3]),void(te[3]=Math.max(te[3],fe[1],fe[3]));this.updateRectMinMax(_,fe)}getPathBoundingBox(_=U.PathType.FILL,u=null){const m=[this.minX,this.minY,this.maxX,this.maxY];if(_===U.PathType.STROKE){u||(0,h.unreachable)("Stroke bounding box must include transform.");const y=h.Util.singularValueDecompose2dScale(u),S=y[0]*this.lineWidth/2,T=y[1]*this.lineWidth/2;m[0]-=S,m[1]-=T,m[2]+=S,m[3]+=T}return m}updateClipFromPath(){const _=h.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(_||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(_){this.clipBox=_,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(_=U.PathType.FILL,u=null){return h.Util.intersect(this.clipBox,this.getPathBoundingBox(_,u))}}function w(K,_,u=null){if(typeof ImageData<"u"&&_ instanceof ImageData)return void K.putImageData(_,0,0);const m=_.height,y=_.width,S=m%E,T=(m-S)/E,x=0===S?T:T+1,Q=K.createImageData(y,E);let te,ue=0;const fe=_.data,ce=Q.data;let ye,xe,Ve,Ye,tt,qe,Pe,pt;if(u)switch(u.length){case 1:tt=u[0],qe=u[0],Pe=u[0],pt=u[0];break;case 4:tt=u[0],qe=u[1],Pe=u[2],pt=u[3]}if(_.kind===h.ImageKind.GRAYSCALE_1BPP){const lt=fe.byteLength,Xe=new Uint32Array(ce.buffer,0,ce.byteLength>>2),Ae=Xe.length,He=y+7>>3;let Ze=4294967295,Ce=h.FeatureTest.isLittleEndian?4278190080:255;for(pt&&255===pt[0]&&0===pt[255]&&([Ze,Ce]=[Ce,Ze]),ye=0;ye<x;ye++){for(Ve=ye<T?E:S,te=0,xe=0;xe<Ve;xe++){const X=lt-ue;let pe=0;const Fe=X>He?y:8*X-7,je=-8&Fe;let le=0,Z=0;for(;pe<je;pe+=8)Z=fe[ue++],Xe[te++]=128&Z?Ze:Ce,Xe[te++]=64&Z?Ze:Ce,Xe[te++]=32&Z?Ze:Ce,Xe[te++]=16&Z?Ze:Ce,Xe[te++]=8&Z?Ze:Ce,Xe[te++]=4&Z?Ze:Ce,Xe[te++]=2&Z?Ze:Ce,Xe[te++]=1&Z?Ze:Ce;for(;pe<Fe;pe++)0===le&&(Z=fe[ue++],le=128),Xe[te++]=Z&le?Ze:Ce,le>>=1}for(;te<Ae;)Xe[te++]=0;K.putImageData(Q,0,ye*E)}}else if(_.kind===h.ImageKind.RGBA_32BPP){const lt=!!(tt||qe||Pe);for(xe=0,Ye=y*E*4,ye=0;ye<T;ye++){if(ce.set(fe.subarray(ue,ue+Ye)),ue+=Ye,lt)for(let Xe=0;Xe<Ye;Xe+=4)tt&&(ce[Xe+0]=tt[ce[Xe+0]]),qe&&(ce[Xe+1]=qe[ce[Xe+1]]),Pe&&(ce[Xe+2]=Pe[ce[Xe+2]]);K.putImageData(Q,0,xe),xe+=E}if(ye<x){if(Ye=y*S*4,ce.set(fe.subarray(ue,ue+Ye)),lt)for(let Xe=0;Xe<Ye;Xe+=4)tt&&(ce[Xe+0]=tt[ce[Xe+0]]),qe&&(ce[Xe+1]=qe[ce[Xe+1]]),Pe&&(ce[Xe+2]=Pe[ce[Xe+2]]);K.putImageData(Q,0,xe)}}else{if(_.kind!==h.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${_.kind}`);{const lt=!!(tt||qe||Pe);for(Ve=E,Ye=y*Ve,ye=0;ye<x;ye++){for(ye>=T&&(Ve=S,Ye=y*Ve),te=0,xe=Ye;xe--;)ce[te++]=fe[ue++],ce[te++]=fe[ue++],ce[te++]=fe[ue++],ce[te++]=255;if(lt)for(let Xe=0;Xe<te;Xe+=4)tt&&(ce[Xe+0]=tt[ce[Xe+0]]),qe&&(ce[Xe+1]=qe[ce[Xe+1]]),Pe&&(ce[Xe+2]=Pe[ce[Xe+2]]);K.putImageData(Q,0,ye*E)}}}}function R(K,_){if(_.bitmap)return void K.drawImage(_.bitmap,0,0);const u=_.height,m=_.width,y=u%E,S=(u-y)/E,T=0===y?S:S+1,x=K.createImageData(m,E);let Q=0;const ue=_.data,te=x.data;for(let fe=0;fe<T;fe++){const ce=fe<S?E:y;({srcPos:Q}=(0,j.applyMaskImageData)({src:ue,srcPos:Q,dest:te,width:m,height:ce})),K.putImageData(x,0,fe*E)}}function A(K,_){const u=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let m=0,y=u.length;m<y;m++){const S=u[m];void 0!==K[S]&&(_[S]=K[S])}void 0!==K.setLineDash&&(_.setLineDash(K.getLineDash()),_.lineDashOffset=K.lineDashOffset)}function P(K,_){K.strokeStyle=K.fillStyle=_||"#000000",K.fillRule="nonzero",K.globalAlpha=1,K.lineWidth=1,K.lineCap="butt",K.lineJoin="miter",K.miterLimit=10,K.globalCompositeOperation="source-over",K.font="10px sans-serif",void 0!==K.setLineDash&&(K.setLineDash([]),K.lineDashOffset=0)}function D(K,_,u,m){const y=K.length;for(let S=3;S<y;S+=4){const T=K[S];if(0===T)K[S-3]=_,K[S-2]=u,K[S-1]=m;else if(T<255){const x=255-T;K[S-3]=K[S-3]*T+_*x>>8,K[S-2]=K[S-2]*T+u*x>>8,K[S-1]=K[S-1]*T+m*x>>8}}}function C(K,_,u){const m=K.length;for(let S=3;S<m;S+=4)_[S]=_[S]*(u?u[K[S]]:K[S])*.00392156862745098|0}function q(K,_,u){const m=K.length;for(let y=3;y<m;y+=4){const S=77*K[y-3]+152*K[y-2]+28*K[y-1];_[y]=u?_[y]*u[S>>8]>>8:_[y]*S>>16}}function he(K,_){const u=h.Util.singularValueDecompose2dScale(K);u[0]=Math.fround(u[0]),u[1]=Math.fround(u[1]);const m=Math.fround((globalThis.devicePixelRatio||1)*N.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==_?_:u[0]<=m||u[1]<=m}const ge=["butt","round","square"],_e=["miter","round","bevel"],ve={},Ne={};class Le{constructor(_,u,m,y,S,T,x,Q){this.ctx=_,this.current=new g(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=u,this.objs=m,this.canvasFactory=y,this.imageLayer=S,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=T,this.cachedCanvases=new F(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=x,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=Q?.background||null,this.foregroundColor=Q?.foreground||null,_&&H(_),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(_,u=null){return"string"==typeof _?_.startsWith("g_")?this.commonObjs.get(_):this.objs.get(_):u}beginDrawing({transform:_,viewport:u,transparency:m=!1,background:y=null}){const S=this.ctx.canvas.width,T=this.ctx.canvas.height,x=y||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Q=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ue=this.backgroundColor=this.ctx.fillStyle;let te=!0,fe=x;if(this.ctx.fillStyle=x,fe=this.ctx.fillStyle,te="string"==typeof fe&&/^#[0-9A-Fa-f]{6}$/.test(fe),"#000000"===Q&&"#ffffff"===ue||Q===ue||!te)this.foregroundColor=this.backgroundColor=null;else{const ce=parseInt(fe.slice(1),16),xe=(ce&&65280)>>8,Ve=ce&&255,Ye=qe=>(qe/=255)<=.03928?qe/12.92:((qe+.055)/1.055)**2.4,tt=Math.round(.2126*Ye((ce&&16711680)>>16)+.7152*Ye(xe)+.0722*Ye(Ve));this.selectColor=(qe,Pe,pt)=>{const lt=.2126*Ye(qe)+.7152*Ye(Pe)+.0722*Ye(pt);return Math.round(lt)===tt?ue:Q}}}if(this.ctx.fillStyle=this.backgroundColor||x,this.ctx.fillRect(0,0,S,T),this.ctx.restore(),m){const Q=this.cachedCanvases.getCanvas("transparent",S,T,!0);this.compositeCtx=this.ctx,this.transparentCanvas=Q.canvas,this.ctx=Q.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),P(this.ctx,this.foregroundColor),_&&(this.ctx.transform.apply(this.ctx,_),this.outputScaleX=_[0],this.outputScaleY=_[0]),this.ctx.transform.apply(this.ctx,u.transform),this.viewportScale=u.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(_,u,m,y){const S=_.argsArray,T=_.fnArray;let x=u||0;const Q=S.length;if(Q===x)return x;const ue=Q-x>10&&"function"==typeof m,te=ue?Date.now()+15:0;let fe=0;const ce=this.commonObjs,ye=this.objs;let xe;for(;;){if(void 0!==y&&x===y.nextBreakPoint)return y.breakIt(x,m),x;if(xe=T[x],xe!==h.OPS.dependency)this[xe].apply(this,S[x]);else for(const Ve of S[x]){const Ye=Ve.startsWith("g_")?ce:ye;if(!Ye.has(Ve))return Ye.get(Ve,m),x}if(x++,x===Q)return x;if(ue&&++fe>10){if(Date.now()>te)return m(),x;fe=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const _ of this._cachedBitmapsMap.values()){for(const u of _.values())typeof HTMLCanvasElement<"u"&&u instanceof HTMLCanvasElement&&(u.width=u.height=0);_.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(_,u){const m=_.width,y=_.height;let te,fe,S=Math.max(Math.hypot(u[0],u[1]),1),T=Math.max(Math.hypot(u[2],u[3]),1),x=m,Q=y,ue="prescale1";for(;S>2&&x>1||T>2&&Q>1;){let ce=x,ye=Q;S>2&&x>1&&(ce=Math.ceil(x/2),S/=x/ce),T>2&&Q>1&&(ye=Math.ceil(Q/2),T/=Q/ye),te=this.cachedCanvases.getCanvas(ue,ce,ye,!1),fe=te.context,fe.clearRect(0,0,ce,ye),fe.drawImage(_,0,0,x,Q,0,0,ce,ye),_=te.canvas,x=ce,Q=ye,ue="prescale1"===ue?"prescale2":"prescale1"}return{img:_,paintWidth:x,paintHeight:Q}}_createMaskCanvas(_){const u=this.ctx,{width:m,height:y}=_,S=this.current.fillColor,T=this.current.patternFill,x=u.mozCurrentTransform;let Q,ue,te,fe;if((_.bitmap||_.data)&&_.count>1){const Ae=_.bitmap||_.data.buffer,He=x.slice(0,4);ue=JSON.stringify(T?He:[He,S]),Q=this._cachedBitmapsMap.get(Ae),Q||(Q=new Map,this._cachedBitmapsMap.set(Ae,Q));const Ze=Q.get(ue);if(Ze&&!T)return{canvas:Ze,offsetX:Math.round(Math.min(x[0],x[2])+x[4]),offsetY:Math.round(Math.min(x[1],x[3])+x[5])};te=Ze}te||(fe=this.cachedCanvases.getCanvas("maskCanvas",m,y,!1),R(fe.context,_));let ce=h.Util.transform(x,[1/m,0,0,-1/y,0,0]);ce=h.Util.transform(ce,[1,0,0,1,0,-y]);const ye=h.Util.applyTransform([0,0],ce),xe=h.Util.applyTransform([m,y],ce),Ve=h.Util.normalizeRect([ye[0],ye[1],xe[0],xe[1]]),Ye=Math.round(Ve[2]-Ve[0])||1,tt=Math.round(Ve[3]-Ve[1])||1,qe=this.cachedCanvases.getCanvas("fillCanvas",Ye,tt,!0),Pe=qe.context,pt=Math.min(ye[0],xe[0]),lt=Math.min(ye[1],xe[1]);Pe.translate(-pt,-lt),Pe.transform.apply(Pe,ce),te||(te=this._scaleImage(fe.canvas,Pe.mozCurrentTransformInverse),te=te.img,Q&&T&&Q.set(ue,te)),Pe.imageSmoothingEnabled=he(Pe.mozCurrentTransform,_.interpolate),I(Pe,te,0,0,te.width,te.height,0,0,m,y),Pe.globalCompositeOperation="source-in";const Xe=h.Util.transform(Pe.mozCurrentTransformInverse,[1,0,0,1,-pt,-lt]);return Pe.fillStyle=T?S.getPattern(u,this,Xe,U.PathType.FILL):S,Pe.fillRect(0,0,m,y),Q&&!T&&(this.cachedCanvases.delete("fillCanvas"),Q.set(ue,qe.canvas)),{canvas:qe.canvas,offsetX:Math.round(pt),offsetY:Math.round(lt)}}setLineWidth(_){_!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=_,this.ctx.lineWidth=_}setLineCap(_){this.ctx.lineCap=ge[_]}setLineJoin(_){this.ctx.lineJoin=_e[_]}setMiterLimit(_){this.ctx.miterLimit=_}setDash(_,u){const m=this.ctx;void 0!==m.setLineDash&&(m.setLineDash(_),m.lineDashOffset=u)}setRenderingIntent(_){}setFlatness(_){}setGState(_){for(let u=0,m=_.length;u<m;u++){const y=_[u],T=y[1];switch(y[0]){case"LW":this.setLineWidth(T);break;case"LC":this.setLineCap(T);break;case"LJ":this.setLineJoin(T);break;case"ML":this.setMiterLimit(T);break;case"D":this.setDash(T[0],T[1]);break;case"RI":this.setRenderingIntent(T);break;case"FL":this.setFlatness(T);break;case"Font":this.setFont(T[0],T[1]);break;case"CA":this.current.strokeAlpha=y[1];break;case"ca":this.current.fillAlpha=y[1],this.ctx.globalAlpha=y[1];break;case"BM":this.ctx.globalCompositeOperation=T;break;case"SMask":this.current.activeSMask=T?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=T}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const _=this.inSMaskMode;this.current.activeSMask&&!_?this.beginSMaskMode():!this.current.activeSMask&&_&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const y=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=y.context;const S=this.ctx;S.setTransform.apply(S,this.suspendedCtx.mozCurrentTransform),A(this.suspendedCtx,S),function L(K,_){if(K._removeMirroring)throw new Error("Context is already forwarding operations.");K.__originalSave=K.save,K.__originalRestore=K.restore,K.__originalRotate=K.rotate,K.__originalScale=K.scale,K.__originalTranslate=K.translate,K.__originalTransform=K.transform,K.__originalSetTransform=K.setTransform,K.__originalResetTransform=K.resetTransform,K.__originalClip=K.clip,K.__originalMoveTo=K.moveTo,K.__originalLineTo=K.lineTo,K.__originalBezierCurveTo=K.bezierCurveTo,K.__originalRect=K.rect,K.__originalClosePath=K.closePath,K.__originalBeginPath=K.beginPath,K._removeMirroring=()=>{K.save=K.__originalSave,K.restore=K.__originalRestore,K.rotate=K.__originalRotate,K.scale=K.__originalScale,K.translate=K.__originalTranslate,K.transform=K.__originalTransform,K.setTransform=K.__originalSetTransform,K.resetTransform=K.__originalResetTransform,K.clip=K.__originalClip,K.moveTo=K.__originalMoveTo,K.lineTo=K.__originalLineTo,K.bezierCurveTo=K.__originalBezierCurveTo,K.rect=K.__originalRect,K.closePath=K.__originalClosePath,K.beginPath=K.__originalBeginPath,delete K._removeMirroring},K.save=function(){_.save(),this.__originalSave()},K.restore=function(){_.restore(),this.__originalRestore()},K.translate=function(m,y){_.translate(m,y),this.__originalTranslate(m,y)},K.scale=function(m,y){_.scale(m,y),this.__originalScale(m,y)},K.transform=function(m,y,S,T,x,Q){_.transform(m,y,S,T,x,Q),this.__originalTransform(m,y,S,T,x,Q)},K.setTransform=function(m,y,S,T,x,Q){_.setTransform(m,y,S,T,x,Q),this.__originalSetTransform(m,y,S,T,x,Q)},K.resetTransform=function(){_.resetTransform(),this.__originalResetTransform()},K.rotate=function(m){_.rotate(m),this.__originalRotate(m)},K.clip=function(m){_.clip(m),this.__originalClip(m)},K.moveTo=function(u,m){_.moveTo(u,m),this.__originalMoveTo(u,m)},K.lineTo=function(u,m){_.lineTo(u,m),this.__originalLineTo(u,m)},K.bezierCurveTo=function(u,m,y,S,T,x){_.bezierCurveTo(u,m,y,S,T,x),this.__originalBezierCurveTo(u,m,y,S,T,x)},K.rect=function(u,m,y,S){_.rect(u,m,y,S),this.__originalRect(u,m,y,S)},K.closePath=function(){_.closePath(),this.__originalClosePath()},K.beginPath=function(){_.beginPath(),this.__originalBeginPath()}}(S,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),A(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(_){this.current.activeSMask&&(_?(_[0]=Math.floor(_[0]),_[1]=Math.floor(_[1]),_[2]=Math.ceil(_[2]),_[3]=Math.ceil(_[3])):_=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function se(K,_,u,m){const y=m[0],S=m[1],T=m[2]-y,x=m[3]-S;0===T||0===x||(function Y(K,_,u,m,y,S,T,x,Q,ue,te){const fe=!!S,ce=fe?S[0]:0,ye=fe?S[1]:0,xe=fe?S[2]:0;let Ve;Ve="Luminosity"===y?q:C;const tt=Math.min(m,Math.ceil(1048576/u));for(let qe=0;qe<m;qe+=tt){const Pe=Math.min(tt,m-qe),pt=K.getImageData(x-ue,qe+(Q-te),u,Pe),lt=_.getImageData(x,qe+Q,u,Pe);fe&&D(pt.data,ce,ye,xe),Ve(pt.data,lt.data,T),_.putImageData(lt,x,qe+Q)}}(_.context,u,T,x,_.subtype,_.backdrop,_.transferMap,y,S,_.offsetX,_.offsetY),K.save(),K.globalAlpha=1,K.globalCompositeOperation="source-over",K.setTransform(1,0,0,1,0,0),K.drawImage(u.canvas,0,0),K.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,_),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(A(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const _=this.current;this.stateStack.push(_),this.current=_.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),A(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(_,u,m,y,S,T){this.ctx.transform(_,u,m,y,S,T),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(_,u,m){const y=this.ctx,S=this.current;let Q,ue,T=S.x,x=S.y;const te=y.mozCurrentTransform,fe=0===te[0]&&0===te[3]||0===te[1]&&0===te[2],ce=fe?m.slice(0):null;for(let ye=0,xe=0,Ve=_.length;ye<Ve;ye++)switch(0|_[ye]){case h.OPS.rectangle:T=u[xe++],x=u[xe++];const Ye=u[xe++],tt=u[xe++],qe=T+Ye,Pe=x+tt;y.moveTo(T,x),0===Ye||0===tt?y.lineTo(qe,Pe):(y.lineTo(qe,x),y.lineTo(qe,Pe),y.lineTo(T,Pe)),fe||S.updateRectMinMax(te,[T,x,qe,Pe]),y.closePath();break;case h.OPS.moveTo:T=u[xe++],x=u[xe++],y.moveTo(T,x),fe||S.updatePathMinMax(te,T,x);break;case h.OPS.lineTo:T=u[xe++],x=u[xe++],y.lineTo(T,x),fe||S.updatePathMinMax(te,T,x);break;case h.OPS.curveTo:Q=T,ue=x,T=u[xe+4],x=u[xe+5],y.bezierCurveTo(u[xe],u[xe+1],u[xe+2],u[xe+3],T,x),S.updateCurvePathMinMax(te,Q,ue,u[xe],u[xe+1],u[xe+2],u[xe+3],T,x,ce),xe+=6;break;case h.OPS.curveTo2:Q=T,ue=x,y.bezierCurveTo(T,x,u[xe],u[xe+1],u[xe+2],u[xe+3]),S.updateCurvePathMinMax(te,Q,ue,T,x,u[xe],u[xe+1],u[xe+2],u[xe+3],ce),T=u[xe+2],x=u[xe+3],xe+=4;break;case h.OPS.curveTo3:Q=T,ue=x,T=u[xe+2],x=u[xe+3],y.bezierCurveTo(u[xe],u[xe+1],T,x,T,x),S.updateCurvePathMinMax(te,Q,ue,u[xe],u[xe+1],T,x,T,x,ce),xe+=4;break;case h.OPS.closePath:y.closePath()}fe&&S.updateScalingPathMinMax(te,ce),S.setCurrentPoint(T,x)}closePath(){this.ctx.closePath()}stroke(_){_=!(typeof _<"u")||_;const u=this.ctx,m=this.current.strokeColor;u.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof m&&m?.getPattern?(u.save(),u.strokeStyle=m.getPattern(u,this,u.mozCurrentTransformInverse,U.PathType.STROKE),this.rescaleAndStroke(!1),u.restore()):this.rescaleAndStroke(!0)),_&&this.consumePath(this.current.getClippedPathBoundingBox()),u.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(_){_=!(typeof _<"u")||_;const u=this.ctx,m=this.current.fillColor;let S=!1;this.current.patternFill&&(u.save(),u.fillStyle=m.getPattern(u,this,u.mozCurrentTransformInverse,U.PathType.FILL),S=!0);const T=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==T&&(this.pendingEOFill?(u.fill("evenodd"),this.pendingEOFill=!1):u.fill()),S&&u.restore(),_&&this.consumePath(T)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ve}eoClip(){this.pendingClip=Ne}beginText(){this.current.textMatrix=h.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const _=this.pendingTextPaths,u=this.ctx;if(void 0!==_){u.save(),u.beginPath();for(let m=0;m<_.length;m++){const y=_[m];u.setTransform.apply(u,y.transform),u.translate(y.x,y.y),y.addToPath(u,y.fontSize)}u.restore(),u.clip(),u.beginPath(),delete this.pendingTextPaths}else u.beginPath()}setCharSpacing(_){this.current.charSpacing=_}setWordSpacing(_){this.current.wordSpacing=_}setHScale(_){this.current.textHScale=_/100}setLeading(_){this.current.leading=-_}setFont(_,u){const m=this.commonObjs.get(_),y=this.current;if(!m)throw new Error(`Can't find font for ${_}`);if(y.fontMatrix=m.fontMatrix||h.FONT_IDENTITY_MATRIX,(0===y.fontMatrix[0]||0===y.fontMatrix[3])&&(0,h.warn)("Invalid font matrix for font "+_),u<0?(u=-u,y.fontDirection=-1):y.fontDirection=1,this.current.font=m,this.current.fontSize=u,m.isType3Font)return;let T="normal";m.black?T="900":m.bold&&(T="bold");const x=m.italic?"italic":"normal",Q=`"${m.loadedName||"sans-serif"}", ${m.fallbackName}`;let ue=u;u<16?ue=16:u>100&&(ue=100),this.current.fontSizeScale=u/ue,this.ctx.font=`${x} ${T} ${ue}px ${Q}`}setTextRenderingMode(_){this.current.textRenderingMode=_}setTextRise(_){this.current.textRise=_}moveText(_,u){this.current.x=this.current.lineX+=_,this.current.y=this.current.lineY+=u}setLeadingMoveText(_,u){this.setLeading(-u),this.moveText(_,u)}setTextMatrix(_,u,m,y,S,T){this.current.textMatrix=[_,u,m,y,S,T],this.current.textMatrixScale=Math.hypot(_,u),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(_,u,m,y){const S=this.ctx,T=this.current,x=T.font,Q=T.textRenderingMode,ue=T.fontSize/T.fontSizeScale,te=Q&h.TextRenderingMode.FILL_STROKE_MASK,fe=!!(Q&h.TextRenderingMode.ADD_TO_PATH_FLAG),ce=T.patternFill&&!x.missingFile;let ye;(x.disableFontFace||fe||ce)&&(ye=x.getPathGenerator(this.commonObjs,_)),x.disableFontFace||ce?(S.save(),S.translate(u,m),S.beginPath(),ye(S,ue),y&&S.setTransform.apply(S,y),(te===h.TextRenderingMode.FILL||te===h.TextRenderingMode.FILL_STROKE)&&S.fill(),(te===h.TextRenderingMode.STROKE||te===h.TextRenderingMode.FILL_STROKE)&&S.stroke(),S.restore()):((te===h.TextRenderingMode.FILL||te===h.TextRenderingMode.FILL_STROKE)&&S.fillText(_,u,m),(te===h.TextRenderingMode.STROKE||te===h.TextRenderingMode.FILL_STROKE)&&S.strokeText(_,u,m)),fe&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:S.mozCurrentTransform,x:u,y:m,fontSize:ue,addToPath:ye})}get isFontSubpixelAAEnabled(){const{context:_}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);_.scale(1.5,1),_.fillText("I",0,10);const u=_.getImageData(0,0,10,10).data;let m=!1;for(let y=3;y<u.length;y+=4)if(u[y]>0&&u[y]<255){m=!0;break}return(0,h.shadow)(this,"isFontSubpixelAAEnabled",m)}showText(_){const u=this.current,m=u.font;if(m.isType3Font)return this.showType3Text(_);const y=u.fontSize;if(0===y)return;const S=this.ctx,T=u.fontSizeScale,x=u.charSpacing,Q=u.wordSpacing,ue=u.fontDirection,te=u.textHScale*ue,fe=_.length,ce=m.vertical,ye=ce?1:-1,xe=m.defaultVMetrics,Ve=y*u.fontMatrix[0],Ye=u.textRenderingMode===h.TextRenderingMode.FILL&&!m.disableFontFace&&!u.patternFill;let tt;if(S.save(),S.transform.apply(S,u.textMatrix),S.translate(u.x,u.y+u.textRise),S.scale(te,ue>0?-1:1),u.patternFill){S.save();const Xe=u.fillColor.getPattern(S,this,S.mozCurrentTransformInverse,U.PathType.FILL);tt=S.mozCurrentTransform,S.restore(),S.fillStyle=Xe}let qe=u.lineWidth;const Pe=u.textMatrixScale;if(0===Pe||0===qe){const Xe=u.textRenderingMode&h.TextRenderingMode.FILL_STROKE_MASK;(Xe===h.TextRenderingMode.STROKE||Xe===h.TextRenderingMode.FILL_STROKE)&&(qe=this.getSinglePixelWidth())}else qe/=Pe;1!==T&&(S.scale(T,T),qe/=T),S.lineWidth=qe;let lt,pt=0;for(lt=0;lt<fe;++lt){const Xe=_[lt];if("number"==typeof Xe){pt+=ye*Xe*y/1e3;continue}let Ae=!1;const He=(Xe.isSpace?Q:0)+x,Ze=Xe.fontChar,Ce=Xe.accent;let X,pe,je,Fe=Xe.width;if(ce){const le=Xe.vmetric||xe,Z=-(Xe.vmetric?le[1]:.5*Fe)*Ve;Fe=le?-le[0]:Fe,X=Z/T,pe=(pt+le[2]*Ve)/T}else X=pt/T,pe=0;if(m.remeasure&&Fe>0){const le=1e3*S.measureText(Ze).width/y*T;if(Fe<le&&this.isFontSubpixelAAEnabled){const Z=Fe/le;Ae=!0,S.save(),S.scale(Z,1),X/=Z}else Fe!==le&&(X+=(Fe-le)/2e3*y/T)}this.contentVisible&&(Xe.isInFont||m.missingFile)&&(Ye&&!Ce?S.fillText(Ze,X,pe):(this.paintChar(Ze,X,pe,tt),Ce&&this.paintChar(Ce.fontChar,X+y*Ce.offset.x/T,pe-y*Ce.offset.y/T,tt))),je=ce?Fe*Ve-He*ue:Fe*Ve+He*ue,pt+=je,Ae&&S.restore()}ce?u.y-=pt:u.x+=pt*te,S.restore(),this.compose()}showType3Text(_){const u=this.ctx,m=this.current,y=m.font,S=m.fontSize,T=m.fontDirection,x=y.vertical?1:-1,Q=m.charSpacing,ue=m.wordSpacing,te=m.textHScale*T,fe=m.fontMatrix||h.FONT_IDENTITY_MATRIX,ce=_.length;let xe,Ve,Ye,tt;if(m.textRenderingMode!==h.TextRenderingMode.INVISIBLE&&0!==S){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,u.save(),u.transform.apply(u,m.textMatrix),u.translate(m.x,m.y),u.scale(te,T),xe=0;xe<ce;++xe){if(Ve=_[xe],"number"==typeof Ve){tt=x*Ve*S/1e3,this.ctx.translate(tt,0),m.x+=tt*te;continue}const qe=(Ve.isSpace?ue:0)+Q,Pe=y.charProcOperatorList[Ve.operatorListId];Pe?(this.contentVisible&&(this.processingType3=Ve,this.save(),u.scale(S,S),u.transform.apply(u,fe),this.executeOperatorList(Pe),this.restore()),Ye=h.Util.applyTransform([Ve.width,0],fe)[0]*S+qe,u.translate(Ye,0),m.x+=Ye*te):(0,h.warn)(`Type3 character "${Ve.operatorListId}" is not available.`)}u.restore(),this.processingType3=null}}setCharWidth(_,u){}setCharWidthAndBounds(_,u,m,y,S,T){this.ctx.rect(m,y,S-m,T-y),this.ctx.clip(),this.endPath()}getColorN_Pattern(_){let u;if("TilingPattern"===_[0]){const m=_[1],y=this.baseTransform||this.ctx.mozCurrentTransform.slice();u=new U.TilingPattern(_,m,this.ctx,{createCanvasGraphics:T=>new Le(T,this.commonObjs,this.objs,this.canvasFactory)},y)}else u=this._getPattern(_[1],_[2]);return u}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(_,u,m){const y=this.selectColor?.(_,u,m)||h.Util.makeHexColor(_,u,m);this.ctx.strokeStyle=y,this.current.strokeColor=y}setFillRGBColor(_,u,m){const y=this.selectColor?.(_,u,m)||h.Util.makeHexColor(_,u,m);this.ctx.fillStyle=y,this.current.fillColor=y,this.current.patternFill=!1}_getPattern(_,u=null){let m;return this.cachedPatterns.has(_)?m=this.cachedPatterns.get(_):(m=(0,U.getShadingPattern)(this.objs.get(_)),this.cachedPatterns.set(_,m)),u&&(m.matrix=u),m}shadingFill(_){if(!this.contentVisible)return;const u=this.ctx;this.save();const m=this._getPattern(_);u.fillStyle=m.getPattern(u,this,u.mozCurrentTransformInverse,U.PathType.SHADING);const y=u.mozCurrentTransformInverse;if(y){const S=u.canvas,T=S.width,x=S.height,Q=h.Util.applyTransform([0,0],y),ue=h.Util.applyTransform([0,x],y),te=h.Util.applyTransform([T,0],y),fe=h.Util.applyTransform([T,x],y),ce=Math.min(Q[0],ue[0],te[0],fe[0]),ye=Math.min(Q[1],ue[1],te[1],fe[1]),xe=Math.max(Q[0],ue[0],te[0],fe[0]),Ve=Math.max(Q[1],ue[1],te[1],fe[1]);this.ctx.fillRect(ce,ye,xe-ce,Ve-ye)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,h.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,h.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(_,u){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(_)&&6===_.length&&this.transform.apply(this,_),this.baseTransform=this.ctx.mozCurrentTransform,u)&&(this.ctx.rect(u[0],u[1],u[2]-u[0],u[3]-u[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,u),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(_){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const u=this.ctx;_.isolated||(0,h.info)("TODO: Support non-isolated groups."),_.knockout&&(0,h.warn)("Knockout groups not supported.");const m=u.mozCurrentTransform;if(_.matrix&&u.transform.apply(u,_.matrix),!_.bbox)throw new Error("Bounding box is required.");let y=h.Util.getAxialAlignedBoundingBox(_.bbox,u.mozCurrentTransform);y=h.Util.intersect(y,[0,0,u.canvas.width,u.canvas.height])||[0,0,0,0];const T=Math.floor(y[0]),x=Math.floor(y[1]);let Q=Math.max(Math.ceil(y[2])-T,1),ue=Math.max(Math.ceil(y[3])-x,1),te=1,fe=1;Q>B&&(te=Q/B,Q=B),ue>B&&(fe=ue/B,ue=B),this.current.startNewPathAndClipBox([0,0,Q,ue]);let ce="groupAt"+this.groupLevel;_.smask&&(ce+="_smask_"+this.smaskCounter++%2);const ye=this.cachedCanvases.getCanvas(ce,Q,ue,!0),xe=ye.context;xe.scale(1/te,1/fe),xe.translate(-T,-x),xe.transform.apply(xe,m),_.smask?this.smaskStack.push({canvas:ye.canvas,context:xe,offsetX:T,offsetY:x,scaleX:te,scaleY:fe,subtype:_.smask.subtype,backdrop:_.smask.backdrop,transferMap:_.smask.transferMap||null,startTransformInverse:null}):(u.setTransform(1,0,0,1,0,0),u.translate(T,x),u.scale(te,fe),u.save()),A(u,xe),this.ctx=xe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(u),this.groupLevel++}endGroup(_){if(!this.contentVisible)return;this.groupLevel--;const u=this.ctx,m=this.groupStack.pop();if(this.ctx=m,this.ctx.imageSmoothingEnabled=!1,_.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const y=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,y);const S=h.Util.getAxialAlignedBoundingBox([0,0,u.canvas.width,u.canvas.height],y);this.ctx.drawImage(u.canvas,0,0),this.ctx.restore(),this.compose(S)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(_,u,m,y,S){if(this.save(),Array.isArray(u)&&4===u.length){const T=u[2]-u[0],x=u[3]-u[1];if(S&&this.annotationCanvasMap){(m=m.slice())[4]-=u[0],m[5]-=u[1],(u=u.slice())[0]=u[1]=0,u[2]=T,u[3]=x;const[Q,ue]=h.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:te}=this,fe=Math.ceil(T*this.outputScaleX*te),ce=Math.ceil(x*this.outputScaleY*te);this.annotationCanvas=this.canvasFactory.create(fe,ce);const{canvas:ye,context:xe}=this.annotationCanvas,Ve=`var(--zoom-factor) * ${N.PixelsPerInch.PDF_TO_CSS_UNITS}`;ye.style.width=`calc(${T}px * ${Ve})`,ye.style.height=`calc(${x}px * ${Ve})`,this.annotationCanvasMap.set(_,ye),this.annotationCanvas.savedCtx=this.ctx,this.ctx=xe,this.ctx.setTransform(Q,0,0,-ue,0,x*ue),H(this.ctx),P(this.ctx,this.foregroundColor)}else P(this.ctx,this.foregroundColor),this.ctx.rect(u[0],u[1],T,x),this.ctx.clip(),this.endPath()}this.current=new g(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,m),this.transform.apply(this,y)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(_){if(!this.contentVisible)return;const u=_.count;(_=this.getObject(_.data,_)).count=u;const m=this.ctx,y=this.processingType3;if(y&&(void 0===y.compiled&&(y.compiled=function p(K){const{width:_,height:u}=K;if(_>1e3||u>1e3)return null;const y=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),S=_+1;let x,Q,ue,T=new Uint8Array(S*(u+1));const te=_+7&-8;let fe=new Uint8Array(te*u),ce=0;for(const Pe of K.data){let pt=128;for(;pt>0;)fe[ce++]=Pe&pt?0:255,pt>>=1}let ye=0;for(ce=0,0!==fe[ce]&&(T[0]=1,++ye),Q=1;Q<_;Q++)fe[ce]!==fe[ce+1]&&(T[Q]=fe[ce]?2:1,++ye),ce++;for(0!==fe[ce]&&(T[Q]=2,++ye),x=1;x<u;x++){ce=x*te,ue=x*S,fe[ce-te]!==fe[ce]&&(T[ue]=fe[ce]?1:8,++ye);let Pe=(fe[ce]?4:0)+(fe[ce-te]?8:0);for(Q=1;Q<_;Q++)Pe=(Pe>>2)+(fe[ce+1]?4:0)+(fe[ce-te+1]?8:0),y[Pe]&&(T[ue+Q]=y[Pe],++ye),ce++;if(fe[ce-te]!==fe[ce]&&(T[ue+Q]=fe[ce]?2:4,++ye),ye>1e3)return null}for(ce=te*(u-1),ue=x*S,0!==fe[ce]&&(T[ue]=8,++ye),Q=1;Q<_;Q++)fe[ce]!==fe[ce+1]&&(T[ue+Q]=fe[ce]?4:8,++ye),ce++;if(0!==fe[ce]&&(T[ue+Q]=4,++ye),ye>1e3)return null;const xe=new Int32Array([0,S,-1,0,-S,0,0,0,1]);let Ve,Ye,tt;for(ie.isNodeJS?Ye=[]:Ve=new Path2D,x=0;ye&&x<=u;x++){let Pe=x*S;const pt=Pe+_;for(;Pe<pt&&!T[Pe];)Pe++;if(Pe===pt)continue;Ve?Ve.moveTo(Pe%S,x):tt=[Pe%S,x];const lt=Pe;let Xe=T[Pe];do{const Ae=xe[Xe];do{Pe+=Ae}while(!T[Pe]);const He=T[Pe];5!==He&&10!==He?(Xe=He,T[Pe]=0):(Xe=He&51*Xe>>4,T[Pe]&=Xe>>2|Xe<<2),Ve?Ve.lineTo(Pe%S,Pe/S|0):tt.push(Pe%S,Pe/S|0),T[Pe]||--ye}while(lt!==Pe);Ve||Ye.push(tt),--x}return fe=null,T=null,function(Pe){if(Pe.save(),Pe.scale(1/_,-1/u),Pe.translate(0,-u),Ve)Pe.fill(Ve);else{Pe.beginPath();for(const pt of Ye){Pe.moveTo(pt[0],pt[1]);for(let lt=2,Xe=pt.length;lt<Xe;lt+=2)Pe.lineTo(pt[lt],pt[lt+1])}Pe.fill()}Pe.beginPath(),Pe.restore()}}(_)),y.compiled))return void y.compiled(m);const S=this._createMaskCanvas(_),T=S.canvas;m.save(),m.setTransform(1,0,0,1,0,0),m.drawImage(T,S.offsetX,S.offsetY),m.restore(),this.compose()}paintImageMaskXObjectRepeat(_,u,m=0,y=0,S,T){if(!this.contentVisible)return;_=this.getObject(_.data,_);const x=this.ctx;x.save();const Q=x.mozCurrentTransform;x.transform(u,m,y,S,0,0);const ue=this._createMaskCanvas(_);x.setTransform(1,0,0,1,0,0);for(let te=0,fe=T.length;te<fe;te+=2){const ce=h.Util.transform(Q,[u,m,y,S,T[te],T[te+1]]),[ye,xe]=h.Util.applyTransform([0,0],ce);x.drawImage(ue.canvas,ye,xe)}x.restore(),this.compose()}paintImageMaskXObjectGroup(_){if(!this.contentVisible)return;const u=this.ctx,m=this.current.fillColor,y=this.current.patternFill;for(let S=0,T=_.length;S<T;S++){const x=_[S],Q=x.width,ue=x.height,te=this.cachedCanvases.getCanvas("maskCanvas",Q,ue,!1),fe=te.context;fe.save(),R(fe,x),fe.globalCompositeOperation="source-in",fe.fillStyle=y?m.getPattern(fe,this,u.mozCurrentTransformInverse,U.PathType.FILL):m,fe.fillRect(0,0,Q,ue),fe.restore(),u.save(),u.transform.apply(u,x.transform),u.scale(1,-1),I(u,te.canvas,0,0,Q,ue,0,-1,1,1),u.restore()}this.compose()}paintImageXObject(_){if(!this.contentVisible)return;const u=this.getObject(_);u?this.paintInlineImageXObject(u):(0,h.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(_,u,m,y){if(!this.contentVisible)return;const S=this.getObject(_);if(!S)return void(0,h.warn)("Dependent image isn't ready yet");const T=S.width,x=S.height,Q=[];for(let ue=0,te=y.length;ue<te;ue+=2)Q.push({transform:[u,0,0,m,y[ue],y[ue+1]],x:0,y:0,w:T,h:x});this.paintInlineImageXObjectGroup(S,Q)}paintInlineImageXObject(_){if(!this.contentVisible)return;const u=_.width,m=_.height,y=this.ctx;let S;if(this.save(),y.scale(1/u,-1/m),"function"==typeof HTMLElement&&_ instanceof HTMLElement||!_.data)S=_;else{const ue=this.cachedCanvases.getCanvas("inlineImage",u,m,!1);w(ue.context,_,this.current.transferMaps),S=ue.canvas}const T=this._scaleImage(S,y.mozCurrentTransformInverse);y.imageSmoothingEnabled=he(y.mozCurrentTransform,_.interpolate);const[x,Q]=I(y,T.img,0,0,T.paintWidth,T.paintHeight,0,-m,u,m);if(this.imageLayer){const ue=this.getCanvasPosition(0,-m);this.imageLayer.appendImage({imgData:_,left:ue[0],top:ue[1],width:x,height:Q})}this.compose(),this.restore()}paintInlineImageXObjectGroup(_,u){if(!this.contentVisible)return;const m=this.ctx,y=_.width,S=_.height,T=this.cachedCanvases.getCanvas("inlineImage",y,S,!1);w(T.context,_,this.current.transferMaps);for(let Q=0,ue=u.length;Q<ue;Q++){const te=u[Q];if(m.save(),m.transform.apply(m,te.transform),m.scale(1,-1),I(m,T.canvas,te.x,te.y,te.w,te.h,0,-1,1,1),this.imageLayer){const fe=this.getCanvasPosition(te.x,te.y);this.imageLayer.appendImage({imgData:_,left:fe[0],top:fe[1],width:y,height:S})}m.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(_){}markPointProps(_,u){}beginMarkedContent(_){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(_,u){this.markedContentStack.push("OC"===_?{visible:this.optionalContentConfig.isVisible(u)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(_){const u=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(_);const m=this.ctx;this.pendingClip&&(u||(this.pendingClip===Ne?m.clip("evenodd"):m.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),m.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const _=this.ctx.mozCurrentTransform;if(0===_[1]&&0===_[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(_[0]),Math.abs(_[3]));else{const u=Math.abs(_[0]*_[3]-_[2]*_[1]),m=Math.hypot(_[0],_[2]),y=Math.hypot(_[1],_[3]);this._cachedGetSinglePixelWidth=Math.max(m,y)/u}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:_}=this.current,u=this.ctx.mozCurrentTransform;let m,y;if(0===u[1]&&0===u[2]){const S=Math.abs(u[0]),T=Math.abs(u[3]);if(0===_)m=1/S,y=1/T;else{const x=S*_,Q=T*_;m=x<1?1/x:1,y=Q<1?1/Q:1}}else{const S=Math.abs(u[0]*u[3]-u[2]*u[1]),T=Math.hypot(u[0],u[1]),x=Math.hypot(u[2],u[3]);if(0===_)m=x/S,y=T/S;else{const Q=_*S;m=x>Q?x/Q:1,y=T>Q?T/Q:1}}this._cachedScaleForStroking=[m,y]}return this._cachedScaleForStroking}rescaleAndStroke(_){const{ctx:u}=this,{lineWidth:m}=this.current,[y,S]=this.getScaleForStroking();if(u.lineWidth=m||1,1===y&&1===S)return void u.stroke();let T,x,Q;_&&(T=u.mozCurrentTransform.slice(),x=u.getLineDash().slice(),Q=u.lineDashOffset),u.scale(y,S);const ue=Math.max(y,S);u.setLineDash(u.getLineDash().map(te=>te/ue)),u.lineDashOffset/=ue,u.stroke(),_&&(u.setTransform(...T),u.setLineDash(x),u.lineDashOffset=Q)}getCanvasPosition(_,u){const m=this.ctx.mozCurrentTransform;return[m[0]*_+m[2]*u+m[4],m[1]*_+m[3]*u+m[5]]}isContentVisible(){for(let _=this.markedContentStack.length-1;_>=0;_--)if(!this.markedContentStack[_].visible)return!1;return!0}}v.CanvasGraphics=Le;for(const K in h.OPS)void 0!==Le.prototype[K]&&(Le.prototype[h.OPS[K]]=Le.prototype[K])},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.TilingPattern=v.PathType=void 0,v.getShadingPattern=function G(V){switch(V[0]){case"RadialAxial":return new O(V);case"Mesh":return new W(V);case"Dummy":return new ee}throw new Error(`Unknown IR type: ${V[0]}`)};var h=z(1),U=z(3);const j={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ie(V,L){if(!L||U.isNodeJS)return;const H=L[2]-L[0],F=L[3]-L[1],I=new Path2D;I.rect(L[0],L[1],H,F),V.clip(I)}v.PathType=j;class N{constructor(){this.constructor===N&&(0,h.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,h.unreachable)("Abstract method `getPattern` called.")}}class O extends N{constructor(L){super(),this._type=L[1],this._bbox=L[2],this._colorStops=L[3],this._p0=L[4],this._p1=L[5],this._r0=L[6],this._r1=L[7],this.matrix=null}_createGradient(L){let H;"axial"===this._type?H=L.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(H=L.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const F of this._colorStops)H.addColorStop(F[0],F[1]);return H}getPattern(L,H,F,I){let p;if(I===j.STROKE||I===j.FILL){const g=H.current.getClippedPathBoundingBox(I,L.mozCurrentTransform)||[0,0,0,0],w=Math.ceil(g[2]-g[0])||1,R=Math.ceil(g[3]-g[1])||1,A=H.cachedCanvases.getCanvas("pattern",w,R,!0),P=A.context;P.clearRect(0,0,P.canvas.width,P.canvas.height),P.beginPath(),P.rect(0,0,P.canvas.width,P.canvas.height),P.translate(-g[0],-g[1]),F=h.Util.transform(F,[1,0,0,1,g[0],g[1]]),P.transform.apply(P,H.baseTransform),this.matrix&&P.transform.apply(P,this.matrix),ie(P,this._bbox),P.fillStyle=this._createGradient(P),P.fill(),p=L.createPattern(A.canvas,"no-repeat");const D=new DOMMatrix(F);try{p.setTransform(D)}catch(C){(0,h.warn)(`RadialAxialShadingPattern.getPattern: "${C?.message}".`)}}else ie(L,this._bbox),p=this._createGradient(L);return p}}function M(V,L,H,F,I,p,g,w){const R=L.coords,A=L.colors,P=V.data,D=4*V.width;let C;R[H+1]>R[F+1]&&(C=H,H=F,F=C,C=p,p=g,g=C),R[F+1]>R[I+1]&&(C=F,F=I,I=C,C=g,g=w,w=C),R[H+1]>R[F+1]&&(C=H,H=F,F=C,C=p,p=g,g=C);const q=(R[H]+L.offsetX)*L.scaleX,Y=(R[H+1]+L.offsetY)*L.scaleY,se=(R[F]+L.offsetX)*L.scaleX,he=(R[F+1]+L.offsetY)*L.scaleY,ge=(R[I]+L.offsetX)*L.scaleX,_e=(R[I+1]+L.offsetY)*L.scaleY;if(Y>=_e)return;const ve=A[p],Ne=A[p+1],Le=A[p+2],K=A[g],_=A[g+1],u=A[g+2],m=A[w],y=A[w+1],S=A[w+2],T=Math.round(Y),x=Math.round(_e);let Q,ue,te,fe,ce,ye,xe,Ve;for(let Ye=T;Ye<=x;Ye++){if(Ye<he){let lt;lt=Ye<Y?0:(Y-Ye)/(Y-he),Q=q-(q-se)*lt,ue=ve-(ve-K)*lt,te=Ne-(Ne-_)*lt,fe=Le-(Le-u)*lt}else{let lt;lt=Ye>_e?1:he===_e?0:(he-Ye)/(he-_e),Q=se-(se-ge)*lt,ue=K-(K-m)*lt,te=_-(_-y)*lt,fe=u-(u-S)*lt}let tt;tt=Ye<Y?0:Ye>_e?1:(Y-Ye)/(Y-_e),ce=q-(q-ge)*tt,ye=ve-(ve-m)*tt,xe=Ne-(Ne-y)*tt,Ve=Le-(Le-S)*tt;const qe=Math.round(Math.min(Q,ce)),Pe=Math.round(Math.max(Q,ce));let pt=D*Ye+4*qe;for(let lt=qe;lt<=Pe;lt++)tt=(Q-lt)/(Q-ce),tt<0?tt=0:tt>1&&(tt=1),P[pt++]=ue-(ue-ye)*tt|0,P[pt++]=te-(te-xe)*tt|0,P[pt++]=fe-(fe-Ve)*tt|0,P[pt++]=255}}function B(V,L,H){const F=L.coords,I=L.colors;let p,g;switch(L.type){case"lattice":const w=L.verticesPerRow,R=Math.floor(F.length/w)-1,A=w-1;for(p=0;p<R;p++){let P=p*w;for(let D=0;D<A;D++,P++)M(V,H,F[P],F[P+1],F[P+w],I[P],I[P+1],I[P+w]),M(V,H,F[P+w+1],F[P+1],F[P+w],I[P+w+1],I[P+1],I[P+w])}break;case"triangles":for(p=0,g=F.length;p<g;p+=3)M(V,H,F[p],F[p+1],F[p+2],I[p],I[p+1],I[p+2]);break;default:throw new Error("illegal figure")}}class W extends N{constructor(L){super(),this._coords=L[2],this._colors=L[3],this._figures=L[4],this._bounds=L[5],this._bbox=L[7],this._background=L[8],this.matrix=null}_createMeshCanvas(L,H,F){const w=Math.floor(this._bounds[0]),R=Math.floor(this._bounds[1]),A=Math.ceil(this._bounds[2])-w,P=Math.ceil(this._bounds[3])-R,D=Math.min(Math.ceil(Math.abs(A*L[0]*1.1)),3e3),C=Math.min(Math.ceil(Math.abs(P*L[1]*1.1)),3e3),q=A/D,Y=P/C,se={coords:this._coords,colors:this._colors,offsetX:-w,offsetY:-R,scaleX:1/q,scaleY:1/Y},_e=F.getCanvas("mesh",D+4,C+4,!1),ve=_e.context,Ne=ve.createImageData(D,C);if(H){const K=Ne.data;for(let _=0,u=K.length;_<u;_+=4)K[_]=H[0],K[_+1]=H[1],K[_+2]=H[2],K[_+3]=255}for(const K of this._figures)B(Ne,K,se);return ve.putImageData(Ne,2,2),{canvas:_e.canvas,offsetX:w-2*q,offsetY:R-2*Y,scaleX:q,scaleY:Y}}getPattern(L,H,F,I){let p;if(ie(L,this._bbox),I===j.SHADING)p=h.Util.singularValueDecompose2dScale(L.mozCurrentTransform);else if(p=h.Util.singularValueDecompose2dScale(H.baseTransform),this.matrix){const w=h.Util.singularValueDecompose2dScale(this.matrix);p=[p[0]*w[0],p[1]*w[1]]}const g=this._createMeshCanvas(p,I===j.SHADING?null:this._background,H.cachedCanvases);return I!==j.SHADING&&(L.setTransform.apply(L,H.baseTransform),this.matrix&&L.transform.apply(L,this.matrix)),L.translate(g.offsetX,g.offsetY),L.scale(g.scaleX,g.scaleY),L.createPattern(g.canvas,"no-repeat")}}class ee extends N{getPattern(){return"hotpink"}}class E{static get MAX_PATTERN_SIZE(){return(0,h.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(L,H,F,I,p){this.operatorList=L[2],this.matrix=L[3]||[1,0,0,1,0,0],this.bbox=L[4],this.xstep=L[5],this.ystep=L[6],this.paintType=L[7],this.tilingType=L[8],this.color=H,this.ctx=F,this.canvasGraphicsFactory=I,this.baseTransform=p}createPatternCanvas(L){const H=this.operatorList,F=this.bbox,I=this.xstep,p=this.ystep,g=this.paintType,R=this.color,A=this.canvasGraphicsFactory;(0,h.info)("TilingType: "+this.tilingType);const P=F[0],D=F[1],C=F[2],q=F[3],Y=h.Util.singularValueDecompose2dScale(this.matrix),se=h.Util.singularValueDecompose2dScale(this.baseTransform),he=[Y[0]*se[0],Y[1]*se[1]],ge=this.getSizeAndScale(I,this.ctx.canvas.width,he[0]),_e=this.getSizeAndScale(p,this.ctx.canvas.height,he[1]),ve=L.cachedCanvases.getCanvas("pattern",ge.size,_e.size,!0),Ne=ve.context,Le=A.createCanvasGraphics(Ne);Le.groupLevel=L.groupLevel,this.setFillAndStrokeStyleToContext(Le,g,R);let K=P,_=D,u=C,m=q;return P<0&&(K=0,u+=Math.abs(P)),D<0&&(_=0,m+=Math.abs(D)),Ne.translate(-ge.scale*K,-_e.scale*_),Le.transform(ge.scale,0,0,_e.scale,0,0),Ne.save(),this.clipBbox(Le,K,_,u,m),Le.baseTransform=Le.ctx.mozCurrentTransform.slice(),Le.executeOperatorList(H),Le.endDrawing(),{canvas:ve.canvas,scaleX:ge.scale,scaleY:_e.scale,offsetX:K,offsetY:_}}getSizeAndScale(L,H,F){L=Math.abs(L);const I=Math.max(E.MAX_PATTERN_SIZE,H);let p=Math.ceil(L*F);return p>=I?p=I:F=p/L,{scale:F,size:p}}clipBbox(L,H,F,I,p){L.ctx.rect(H,F,I-H,p-F),L.current.updateRectMinMax(L.ctx.mozCurrentTransform,[H,F,I,p]),L.clip(),L.endPath()}setFillAndStrokeStyleToContext(L,H,F){const I=L.ctx,p=L.current;switch(H){case 1:const g=this.ctx;I.fillStyle=g.fillStyle,I.strokeStyle=g.strokeStyle,p.fillColor=g.fillStyle,p.strokeColor=g.strokeStyle;break;case 2:const w=h.Util.makeHexColor(F[0],F[1],F[2]);I.fillStyle=w,I.strokeStyle=w,p.fillColor=w,p.strokeColor=w;break;default:throw new h.FormatError(`Unsupported paint type: ${H}`)}}getPattern(L,H,F,I){let p=F;I!==j.SHADING&&(p=h.Util.transform(p,H.baseTransform),this.matrix&&(p=h.Util.transform(p,this.matrix)));const g=this.createPatternCanvas(H);let w=new DOMMatrix(p);w=w.translate(g.offsetX,g.offsetY),w=w.scale(1/g.scaleX,1/g.scaleY);const R=L.createPattern(g.canvas,"repeat");try{R.setTransform(w)}catch(A){(0,h.warn)(`TilingPattern.getPattern: "${A?.message}".`)}return R}}v.TilingPattern=E},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.applyMaskImageData=function U({src:j,srcPos:ie=0,dest:N,destPos:O=0,width:M,height:B,inverseDecode:W=!1}){const ee=h.FeatureTest.isLittleEndian?4278190080:255,[G,ne]=W?[0,ee]:[ee,0],E=M>>3,V=7&M,L=j.length;N=new Uint32Array(N.buffer);for(let H=0;H<B;H++){for(const I=ie+E;ie<I;ie++){const p=ie<L?j[ie]:255;N[O++]=128&p?ne:G,N[O++]=64&p?ne:G,N[O++]=32&p?ne:G,N[O++]=16&p?ne:G,N[O++]=8&p?ne:G,N[O++]=4&p?ne:G,N[O++]=2&p?ne:G,N[O++]=1&p?ne:G}if(0===V)continue;const F=ie<L?j[ie++]:255;for(let I=0;I<V;I++)N[O++]=F&1<<7-I?ne:G}return{srcPos:ie,destPos:O}};var h=z(1)},(oe,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.GlobalWorkerOptions=void 0;const z=Object.create(null);v.GlobalWorkerOptions=z,z.workerPort=void 0===z.workerPort?null:z.workerPort,z.workerSrc=void 0===z.workerSrc?"":z.workerSrc},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.MessageHandler=void 0;var h=z(1);function ie(O){switch(O instanceof Error||"object"==typeof O&&null!==O||(0,h.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),O.name){case"AbortException":return new h.AbortException(O.message);case"MissingPDFException":return new h.MissingPDFException(O.message);case"PasswordException":return new h.PasswordException(O.message,O.code);case"UnexpectedResponseException":return new h.UnexpectedResponseException(O.message,O.status);case"UnknownErrorException":return new h.UnknownErrorException(O.message,O.details);default:return new h.UnknownErrorException(O.message,O.toString())}}v.MessageHandler=class N{constructor(M,B,W){this.sourceName=M,this.targetName=B,this.comObj=W,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ee=>{const G=ee.data;if(G.targetName!==this.sourceName)return;if(G.stream)return void this._processStreamMessage(G);if(G.callback){const E=G.callbackId,V=this.callbackCapabilities[E];if(!V)throw new Error(`Cannot resolve callback ${E}`);if(delete this.callbackCapabilities[E],1===G.callback)V.resolve(G.data);else{if(2!==G.callback)throw new Error("Unexpected callback case");V.reject(ie(G.reason))}return}const ne=this.actionHandler[G.action];if(!ne)throw new Error(`Unknown action from worker: ${G.action}`);if(G.callbackId){const E=this.sourceName,V=G.sourceName;new Promise(function(L){L(ne(G.data))}).then(function(L){W.postMessage({sourceName:E,targetName:V,callback:1,callbackId:G.callbackId,data:L})},function(L){W.postMessage({sourceName:E,targetName:V,callback:2,callbackId:G.callbackId,reason:ie(L)})})}else G.streamId?this._createStreamSink(G):ne(G.data)},W.addEventListener("message",this._onComObjOnMessage)}on(M,B){const W=this.actionHandler;if(W[M])throw new Error(`There is already an actionName called "${M}"`);W[M]=B}send(M,B,W){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:M,data:B},W)}sendWithPromise(M,B,W){const ee=this.callbackId++,G=(0,h.createPromiseCapability)();this.callbackCapabilities[ee]=G;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:M,callbackId:ee,data:B},W)}catch(ne){G.reject(ne)}return G.promise}sendWithStream(M,B,W,ee){const G=this.streamId++,ne=this.sourceName,E=this.targetName,V=this.comObj;return new ReadableStream({start:L=>{const H=(0,h.createPromiseCapability)();return this.streamControllers[G]={controller:L,startCall:H,pullCall:null,cancelCall:null,isClosed:!1},V.postMessage({sourceName:ne,targetName:E,action:M,streamId:G,data:B,desiredSize:L.desiredSize},ee),H.promise},pull:L=>{const H=(0,h.createPromiseCapability)();return this.streamControllers[G].pullCall=H,V.postMessage({sourceName:ne,targetName:E,stream:6,streamId:G,desiredSize:L.desiredSize}),H.promise},cancel:L=>{(0,h.assert)(L instanceof Error,"cancel must have a valid reason");const H=(0,h.createPromiseCapability)();return this.streamControllers[G].cancelCall=H,this.streamControllers[G].isClosed=!0,V.postMessage({sourceName:ne,targetName:E,stream:1,streamId:G,reason:ie(L)}),H.promise}},W)}_createStreamSink(M){const B=M.streamId,W=this.sourceName,ee=M.sourceName,G=this.comObj,ne=this,E=this.actionHandler[M.action],V={enqueue(L,H=1,F){if(this.isCancelled)return;const I=this.desiredSize;this.desiredSize-=H,I>0&&this.desiredSize<=0&&(this.sinkCapability=(0,h.createPromiseCapability)(),this.ready=this.sinkCapability.promise),G.postMessage({sourceName:W,targetName:ee,stream:4,streamId:B,chunk:L},F)},close(){this.isCancelled||(this.isCancelled=!0,G.postMessage({sourceName:W,targetName:ee,stream:3,streamId:B}),delete ne.streamSinks[B])},error(L){(0,h.assert)(L instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,G.postMessage({sourceName:W,targetName:ee,stream:5,streamId:B,reason:ie(L)}))},sinkCapability:(0,h.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:M.desiredSize,ready:null};V.sinkCapability.resolve(),V.ready=V.sinkCapability.promise,this.streamSinks[B]=V,new Promise(function(L){L(E(M.data,V))}).then(function(){G.postMessage({sourceName:W,targetName:ee,stream:8,streamId:B,success:!0})},function(L){G.postMessage({sourceName:W,targetName:ee,stream:8,streamId:B,reason:ie(L)})})}_processStreamMessage(M){const B=M.streamId,W=this.sourceName,ee=M.sourceName,G=this.comObj,ne=this.streamControllers[B],E=this.streamSinks[B];switch(M.stream){case 8:M.success?ne.startCall.resolve():ne.startCall.reject(ie(M.reason));break;case 7:M.success?ne.pullCall.resolve():ne.pullCall.reject(ie(M.reason));break;case 6:if(!E){G.postMessage({sourceName:W,targetName:ee,stream:7,streamId:B,success:!0});break}E.desiredSize<=0&&M.desiredSize>0&&E.sinkCapability.resolve(),E.desiredSize=M.desiredSize,new Promise(function(V){V(E.onPull&&E.onPull())}).then(function(){G.postMessage({sourceName:W,targetName:ee,stream:7,streamId:B,success:!0})},function(V){G.postMessage({sourceName:W,targetName:ee,stream:7,streamId:B,reason:ie(V)})});break;case 4:if((0,h.assert)(ne,"enqueue should have stream controller"),ne.isClosed)break;ne.controller.enqueue(M.chunk);break;case 3:if((0,h.assert)(ne,"close should have stream controller"),ne.isClosed)break;ne.isClosed=!0,ne.controller.close(),this._deleteStreamController(ne,B);break;case 5:(0,h.assert)(ne,"error should have stream controller"),ne.controller.error(ie(M.reason)),this._deleteStreamController(ne,B);break;case 2:M.success?ne.cancelCall.resolve():ne.cancelCall.reject(ie(M.reason)),this._deleteStreamController(ne,B);break;case 1:if(!E)break;new Promise(function(V){V(E.onCancel&&E.onCancel(ie(M.reason)))}).then(function(){G.postMessage({sourceName:W,targetName:ee,stream:2,streamId:B,success:!0})},function(V){G.postMessage({sourceName:W,targetName:ee,stream:2,streamId:B,reason:ie(V)})}),E.sinkCapability.reject(ie(M.reason)),E.isCancelled=!0,delete this.streamSinks[B];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(M,B){var W=this;return _asyncToGenerator(function*(){yield Promise.allSettled([M.startCall&&M.startCall.promise,M.pullCall&&M.pullCall.promise,M.cancelCall&&M.cancelCall.promise]),delete W.streamControllers[B]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Metadata=void 0;var h=z(1),U=new WeakMap,j=new WeakMap;v.Metadata=class ie{constructor({parsedData:O,rawData:M}){_classPrivateFieldInitSpec(this,U,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,j,{writable:!0,value:void 0}),_classPrivateFieldSet(this,U,O),_classPrivateFieldSet(this,j,M)}getRaw(){return _classPrivateFieldGet(this,j)}get(O){return _classPrivateFieldGet(this,U).get(O)??null}getAll(){return(0,h.objectFromMap)(_classPrivateFieldGet(this,U))}has(O){return _classPrivateFieldGet(this,U).has(O)}}},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.OptionalContentConfig=void 0;var h=z(1);class U{constructor(N,O){this.visible=!0,this.name=N,this.intent=O}}v.OptionalContentConfig=class j{constructor(N){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==N){this.name=N.name,this.creator=N.creator,this._order=N.order;for(const O of N.groups)this._groups.set(O.id,new U(O.name,O.intent));if("OFF"===N.baseState)for(const O of this._groups)O.visible=!1;for(const O of N.on)this._groups.get(O).visible=!0;for(const O of N.off)this._groups.get(O).visible=!1}}_evaluateVisibilityExpression(N){const O=N.length;if(O<2)return!0;const M=N[0];for(let B=1;B<O;B++){const W=N[B];let ee;if(Array.isArray(W))ee=this._evaluateVisibilityExpression(W);else{if(!this._groups.has(W))return(0,h.warn)(`Optional content group not found: ${W}`),!0;ee=this._groups.get(W).visible}switch(M){case"And":if(!ee)return!1;break;case"Or":if(ee)return!0;break;case"Not":return!ee;default:return!0}}return"And"===M}isVisible(N){if(0===this._groups.size)return!0;if(!N)return(0,h.warn)("Optional content group not defined."),!0;if("OCG"===N.type)return this._groups.has(N.id)?this._groups.get(N.id).visible:((0,h.warn)(`Optional content group not found: ${N.id}`),!0);if("OCMD"===N.type){if(N.expression)return this._evaluateVisibilityExpression(N.expression);if(!N.policy||"AnyOn"===N.policy){for(const O of N.ids){if(!this._groups.has(O))return(0,h.warn)(`Optional content group not found: ${O}`),!0;if(this._groups.get(O).visible)return!0}return!1}if("AllOn"===N.policy){for(const O of N.ids){if(!this._groups.has(O))return(0,h.warn)(`Optional content group not found: ${O}`),!0;if(!this._groups.get(O).visible)return!1}return!0}if("AnyOff"===N.policy){for(const O of N.ids){if(!this._groups.has(O))return(0,h.warn)(`Optional content group not found: ${O}`),!0;if(!this._groups.get(O).visible)return!0}return!1}if("AllOff"===N.policy){for(const O of N.ids){if(!this._groups.has(O))return(0,h.warn)(`Optional content group not found: ${O}`),!0;if(this._groups.get(O).visible)return!1}return!0}return(0,h.warn)(`Unknown optional content policy ${N.policy}.`),!0}return(0,h.warn)(`Unknown group type ${N.type}.`),!0}setVisibility(N,O=!0){this._groups.has(N)?this._groups.get(N).visible=!!O:(0,h.warn)(`Optional content group not found: ${N}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,h.objectFromMap)(this._groups):null}getGroup(N){return this._groups.get(N)||null}}},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFDataTransportStream=void 0;var h=z(1),U=z(5);v.PDFDataTransportStream=class j{constructor(M,B){(0,h.assert)(B,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=M.progressiveDone||!1,this._contentDispositionFilename=M.contentDispositionFilename||null;const W=M.initialData;if(W?.length>0){const ee=new Uint8Array(W).buffer;this._queuedChunks.push(ee)}this._pdfDataRangeTransport=B,this._isStreamingSupported=!M.disableStream,this._isRangeSupported=!M.disableRange,this._contentLength=M.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ee,G)=>{this._onReceiveData({begin:ee,chunk:G})}),this._pdfDataRangeTransport.addProgressListener((ee,G)=>{this._onProgress({loaded:ee,total:G})}),this._pdfDataRangeTransport.addProgressiveReadListener(ee=>{this._onReceiveData({chunk:ee})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(M){const B=new Uint8Array(M.chunk).buffer;if(void 0===M.begin)this._fullRequestReader?this._fullRequestReader._enqueue(B):this._queuedChunks.push(B);else{const W=this._rangeReaders.some(function(ee){return ee._begin===M.begin&&(ee._enqueue(B),!0)});(0,h.assert)(W,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(M){if(void 0===M.total){const B=this._rangeReaders[0];B?.onProgress&&B.onProgress({loaded:M.loaded})}else{const B=this._fullRequestReader;B?.onProgress&&B.onProgress({loaded:M.loaded,total:M.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(M){const B=this._rangeReaders.indexOf(M);B>=0&&this._rangeReaders.splice(B,1)}getFullReader(){(0,h.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const M=this._queuedChunks;return this._queuedChunks=null,new ie(this,M,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(M,B){if(B<=this._progressiveDataLength)return null;const W=new N(this,M,B);return this._pdfDataRangeTransport.requestDataRange(M,B),this._rangeReaders.push(W),W}cancelAllRequests(M){this._fullRequestReader&&this._fullRequestReader.cancel(M);for(const B of this._rangeReaders.slice(0))B.cancel(M);this._pdfDataRangeTransport.abort()}};class ie{constructor(M,B,W=!1,ee=null){this._stream=M,this._done=W||!1,this._filename=(0,U.isPdfFile)(ee)?ee:null,this._queuedChunks=B||[],this._loaded=0;for(const G of this._queuedChunks)this._loaded+=G.byteLength;this._requests=[],this._headersReady=Promise.resolve(),M._fullRequestReader=this,this.onProgress=null}_enqueue(M){this._done||(this._requests.length>0?this._requests.shift().resolve({value:M,done:!1}):this._queuedChunks.push(M),this._loaded+=M.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var M=this;return _asyncToGenerator(function*(){if(M._queuedChunks.length>0)return{value:M._queuedChunks.shift(),done:!1};if(M._done)return{value:void 0,done:!0};const B=(0,h.createPromiseCapability)();return M._requests.push(B),B.promise})()}cancel(M){this._done=!0;for(const B of this._requests)B.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class N{constructor(M,B,W){this._stream=M,this._begin=B,this._end=W,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(M){if(!this._done){if(0===this._requests.length)this._queuedChunk=M;else{this._requests.shift().resolve({value:M,done:!1});for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var M=this;return _asyncToGenerator(function*(){if(M._queuedChunk){const W=M._queuedChunk;return M._queuedChunk=null,{value:W,done:!1}}if(M._done)return{value:void 0,done:!0};const B=(0,h.createPromiseCapability)();return M._requests.push(B),B.promise})()}cancel(M){this._done=!0;for(const B of this._requests)B.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(oe,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.XfaText=void 0;class z{static textContent(U){const j=[],ie={items:j,styles:Object.create(null)};return function N(O){if(!O)return;let M=null;const B=O.name;if("#text"===B)M=O.value;else{if(!z.shouldBuildText(B))return;O?.attributes?.textContent?M=O.attributes.textContent:O.value&&(M=O.value)}if(null!==M&&j.push({str:M}),O.children)for(const W of O.children)N(W)}(U),ie}static shouldBuildText(U){return!("textarea"===U||"input"===U||"option"===U||"select"===U)}}v.XfaText=z},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.NodeStandardFontDataFactory=v.NodeCanvasFactory=v.NodeCMapReaderFactory=void 0;var h=z(6);const U=function(O){return new Promise((M,B)=>{__webpack_require__(172).readFile(O,(ee,G)=>{!ee&&G?M(new Uint8Array(G)):B(new Error(ee))})})};v.NodeCanvasFactory=class j extends h.BaseCanvasFactory{_createCanvas(M,B){return __webpack_require__(414).createCanvas(M,B)}},v.NodeCMapReaderFactory=class ie extends h.BaseCMapReaderFactory{_fetchData(M,B){return U(M).then(W=>({cMapData:W,compressionType:B}))}},v.NodeStandardFontDataFactory=class N extends h.BaseStandardFontDataFactory{_fetchData(M){return U(M)}}},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.AnnotationLayer=void 0;var h=z(1),U=z(5),j=z(8),ie=z(21),N=z(22);const O=1e3,M=new WeakSet;function B(_){return{width:_[2]-_[0],height:_[3]-_[1]}}class W{static create(u){switch(u.data.annotationType){case h.AnnotationType.LINK:return new G(u);case h.AnnotationType.TEXT:return new ne(u);case h.AnnotationType.WIDGET:switch(u.data.fieldType){case"Tx":return new V(u);case"Btn":return u.data.radioButton?new H(u):u.data.checkBox?new L(u):new F(u);case"Ch":return new I(u)}return new E(u);case h.AnnotationType.POPUP:return new p(u);case h.AnnotationType.FREETEXT:return new w(u);case h.AnnotationType.LINE:return new R(u);case h.AnnotationType.SQUARE:return new A(u);case h.AnnotationType.CIRCLE:return new P(u);case h.AnnotationType.POLYLINE:return new D(u);case h.AnnotationType.CARET:return new q(u);case h.AnnotationType.INK:return new Y(u);case h.AnnotationType.POLYGON:return new C(u);case h.AnnotationType.HIGHLIGHT:return new se(u);case h.AnnotationType.UNDERLINE:return new he(u);case h.AnnotationType.SQUIGGLY:return new ge(u);case h.AnnotationType.STRIKEOUT:return new _e(u);case h.AnnotationType.STAMP:return new ve(u);case h.AnnotationType.FILEATTACHMENT:return new Ne(u);default:return new ee(u)}}}class ee{constructor(u,{isRenderable:m=!1,ignoreBorder:y=!1,createQuadrilaterals:S=!1}={}){this.isRenderable=m,this.data=u.data,this.layer=u.layer,this.page=u.page,this.viewport=u.viewport,this.linkService=u.linkService,this.downloadManager=u.downloadManager,this.imageResourcesPath=u.imageResourcesPath,this.renderForms=u.renderForms,this.svgFactory=u.svgFactory,this.annotationStorage=u.annotationStorage,this.enableScripting=u.enableScripting,this.hasJSActions=u.hasJSActions,this._fieldObjects=u.fieldObjects,this._mouseState=u.mouseState,m&&(this.container=this._createContainer(y)),S&&(this.quadrilaterals=this._createQuadrilaterals(y))}_createContainer(u=!1){const m=this.data,y=this.page,S=this.viewport,T=document.createElement("section");let{width:x,height:Q}=B(m.rect);T.setAttribute("data-annotation-id",m.id);const ue=h.Util.normalizeRect([m.rect[0],y.view[3]-m.rect[1]+y.view[1],m.rect[2],y.view[3]-m.rect[3]+y.view[1]]);if(m.hasOwnCanvas){const te=S.transform.slice(),[fe,ce]=h.Util.singularValueDecompose2dScale(te);x=Math.ceil(x*fe),Q=Math.ceil(Q*ce),ue[0]*=fe,ue[1]*=ce;for(let ye=0;ye<4;ye++)te[ye]=Math.sign(te[ye]);T.style.transform=`matrix(${te.join(",")})`}else T.style.transform=`matrix(${S.transform.join(",")})`;if(T.style.transformOrigin=`${-ue[0]}px ${-ue[1]}px`,!u&&m.borderStyle.width>0){T.style.borderWidth=`${m.borderStyle.width}px`,m.borderStyle.style!==h.AnnotationBorderStyleType.UNDERLINE&&(x-=2*m.borderStyle.width,Q-=2*m.borderStyle.width);const te=m.borderStyle.horizontalCornerRadius,fe=m.borderStyle.verticalCornerRadius;switch((te>0||fe>0)&&(T.style.borderRadius=`${te}px / ${fe}px`),m.borderStyle.style){case h.AnnotationBorderStyleType.SOLID:T.style.borderStyle="solid";break;case h.AnnotationBorderStyleType.DASHED:T.style.borderStyle="dashed";break;case h.AnnotationBorderStyleType.BEVELED:(0,h.warn)("Unimplemented border style: beveled");break;case h.AnnotationBorderStyleType.INSET:(0,h.warn)("Unimplemented border style: inset");break;case h.AnnotationBorderStyleType.UNDERLINE:T.style.borderBottomStyle="solid"}m.borderColor||m.color?T.style.borderColor=h.Util.makeHexColor(0|m.color[0],0|m.color[1],0|m.color[2]):T.style.borderWidth=0}return T.style.left=`${ue[0]}px`,T.style.top=`${ue[1]}px`,m.hasOwnCanvas?T.style.width=T.style.height="auto":(T.style.width=`${x}px`,T.style.height=`${Q}px`),T}get _commonActions(){const u=(m,y,S)=>{const T=S.detail[m];S.target.style[y]=ie.ColorConverters[`${T[0]}_HTML`](T.slice(1))};return(0,h.shadow)(this,"_commonActions",{display:m=>{const y=m.detail.display%2==1;m.target.style.visibility=y?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:y,print:0===m.detail.display||3===m.detail.display})},print:m=>{this.annotationStorage.setValue(this.data.id,{print:m.detail.print})},hidden:m=>{m.target.style.visibility=m.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:m.detail.hidden})},focus:m=>{setTimeout(()=>m.target.focus({preventScroll:!1}),0)},userName:m=>{m.target.title=m.detail.userName},readonly:m=>{m.detail.readonly?m.target.setAttribute("readonly",""):m.target.removeAttribute("readonly")},required:m=>{m.detail.required?m.target.setAttribute("required",""):m.target.removeAttribute("required")},bgColor:m=>{u("bgColor","backgroundColor",m)},fillColor:m=>{u("fillColor","backgroundColor",m)},fgColor:m=>{u("fgColor","color",m)},textColor:m=>{u("textColor","color",m)},borderColor:m=>{u("borderColor","borderColor",m)},strokeColor:m=>{u("strokeColor","borderColor",m)}})}_dispatchEventFromSandbox(u,m){const y=this._commonActions;for(const S of Object.keys(m.detail)){const T=u[S]||y[S];T&&T(m)}}_setDefaultPropertiesFromJS(u){if(!this.enableScripting)return;const m=this.annotationStorage.getRawValue(this.data.id);if(!m)return;const y=this._commonActions;for(const[S,T]of Object.entries(m)){const x=y[S];x&&(x({detail:T,target:u}),delete m[S])}}_createQuadrilaterals(u=!1){if(!this.data.quadPoints)return null;const m=[],y=this.data.rect;for(const S of this.data.quadPoints)this.data.rect=[S[2].x,S[2].y,S[1].x,S[1].y],m.push(this._createContainer(u));return this.data.rect=y,m}_createPopup(u,m){let y=this.container;this.quadrilaterals&&(u=u||this.quadrilaterals,y=this.quadrilaterals[0]),u||((u=document.createElement("div")).style.height=y.style.height,u.style.width=y.style.width,y.appendChild(u));const T=new g({container:y,trigger:u,color:m.color,titleObj:m.titleObj,modificationDate:m.modificationDate,contentsObj:m.contentsObj,richText:m.richText,hideWrapper:!0}).render();T.style.left=y.style.width,y.appendChild(T)}_renderQuadrilaterals(u){for(const m of this.quadrilaterals)m.className=u;return this.quadrilaterals}render(){(0,h.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(u,m=null){const y=[];if(this._fieldObjects){const S=this._fieldObjects[u];if(S)for(const{page:T,id:x,exportValues:Q}of S){if(-1===T||x===m)continue;const ue="string"==typeof Q?Q:null,te=document.getElementById(x);!te||M.has(te)?y.push({id:x,exportValue:ue,domElement:te}):(0,h.warn)(`_getElementsByName - element not allowed: ${x}`)}return y}for(const S of document.getElementsByName(u)){const{id:T,exportValue:x}=S;T!==m&&M.has(S)&&y.push({id:T,exportValue:x,domElement:S})}return y}static get platform(){const u=typeof navigator<"u"?navigator.platform:"";return(0,h.shadow)(this,"platform",{isWin:u.includes("Win"),isMac:u.includes("Mac")})}}class G extends ee{constructor(u,m=null){super(u,{isRenderable:!!(u.data.url||u.data.dest||u.data.action||u.data.isTooltipOnly||u.data.resetForm||u.data.actions&&(u.data.actions.Action||u.data.actions["Mouse Up"]||u.data.actions["Mouse Down"])),ignoreBorder:!!m?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:u,linkService:m}=this,y=document.createElement("a");if(u.url)m.addLinkAttributes(y,u.url,u.newWindow);else if(u.action)this._bindNamedAction(y,u.action);else if(u.dest)this._bindLink(y,u.dest);else{let S=!1;u.actions&&(u.actions.Action||u.actions["Mouse Up"]||u.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(S=!0,this._bindJSAction(y,u)),u.resetForm?this._bindResetFormAction(y,u.resetForm):S||this._bindLink(y,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((S,T)=>{const x=0===T?y:y.cloneNode();return S.appendChild(x),S}):(this.container.className="linkAnnotation",this.container.appendChild(y),this.container)}_bindLink(u,m){u.href=this.linkService.getDestinationHash(m),u.onclick=()=>(m&&this.linkService.goToDestination(m),!1),(m||""===m)&&(u.className="internalLink")}_bindNamedAction(u,m){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>(this.linkService.executeNamedAction(m),!1),u.className="internalLink"}_bindJSAction(u,m){u.href=this.linkService.getAnchorUrl("");const y=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const S of Object.keys(m.actions)){const T=y.get(S);T&&(u[T]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:m.id,name:S}}),!1))}u.onclick||(u.onclick=()=>!1),u.className="internalLink"}_bindResetFormAction(u,m){const y=u.onclick;if(y||(u.href=this.linkService.getAnchorUrl("")),u.className="internalLink",!this._fieldObjects)return(0,h.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(y||(u.onclick=()=>!1));u.onclick=()=>{y&&y();const{fields:S,refs:T,include:x}=m,Q=[];if(0!==S.length||0!==T.length){const fe=new Set(T);for(const ce of S){const ye=this._fieldObjects[ce]||[];for(const{id:xe}of ye)fe.add(xe)}for(const ce of Object.values(this._fieldObjects))for(const ye of ce)fe.has(ye.id)===x&&Q.push(ye)}else for(const fe of Object.values(this._fieldObjects))Q.push(...fe);const ue=this.annotationStorage,te=[];for(const fe of Q){const{id:ce}=fe;switch(te.push(ce),fe.type){case"text":case"combobox":case"listbox":ue.setValue(ce,{value:fe.defaultValue||""});break;case"checkbox":case"radiobutton":ue.setValue(ce,{value:fe.defaultValue===fe.exportValues});break;default:continue}const ye=document.getElementById(ce);!ye||!M.has(ye)||ye.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:te,name:"ResetForm"}}),!1}}}class ne extends ee{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str)})}render(){this.container.className="textAnnotation";const u=document.createElement("img");return u.style.height=this.container.style.height,u.style.width=this.container.style.width,u.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",u.alt="[{{type}} Annotation]",u.dataset.l10nId="text_annotation_type",u.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(u,this.data),this.container.appendChild(u),this.container}}class E extends ee{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(u){const{isWin:m,isMac:y}=ee.platform;return m&&u.ctrlKey||y&&u.metaKey}_setEventListener(u,m,y,S){m.includes("mouse")?u.addEventListener(m,T=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:y,value:S(T),shift:T.shiftKey,modifier:this._getKeyModifier(T)}})}):u.addEventListener(m,T=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:y,value:S(T)}})})}_setEventListeners(u,m,y){for(const[S,T]of m)("Action"===T||this.data.actions?.[T])&&this._setEventListener(u,S,T,y)}_setBackgroundColor(u){const m=this.data.backgroundColor||null;u.style.backgroundColor=null===m?"transparent":h.Util.makeHexColor(m[0],m[1],m[2])}}class V extends E{constructor(u){super(u,{isRenderable:u.renderForms||!u.data.hasAppearance&&!!u.data.fieldValue})}setPropertyOnSiblings(u,m,y,S){const T=this.annotationStorage;for(const x of this._getElementsByName(u.name,u.id))x.domElement&&(x.domElement[m]=y),T.setValue(x.id,{[S]:y})}render(){const u=this.annotationStorage,m=this.data.id;this.container.className="textWidgetAnnotation";let y=null;if(this.renderForms){const S=u.getValue(m,{value:this.data.fieldValue}),T=S.formattedValue||S.value||"",x={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(y=document.createElement("textarea"),y.textContent=T):(y=document.createElement("input"),y.type="text",y.setAttribute("value",T)),M.add(y),y.disabled=this.data.readOnly,y.name=this.data.fieldName,y.tabIndex=O,x.userValue=T,y.setAttribute("id",m),y.addEventListener("input",ue=>{u.setValue(m,{value:ue.target.value}),this.setPropertyOnSiblings(y,"value",ue.target.value,"value")}),y.addEventListener("resetform",ue=>{y.value=x.userValue=this.data.defaultFieldValue??"",x.formattedValue=null});let Q=ue=>{const{formattedValue:te}=x;null!=te&&(ue.target.value=te),ue.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){y.addEventListener("focus",te=>{x.userValue&&(te.target.value=x.userValue),x.valueOnFocus=te.target.value}),y.addEventListener("updatefromsandbox",te=>{this._dispatchEventFromSandbox({value(ce){x.userValue=ce.detail.value??"",u.setValue(m,{value:x.userValue.toString()}),ce.target.value=x.userValue},formattedValue(ce){const{formattedValue:ye}=ce.detail;x.formattedValue=ye,null!=ye&&ce.target!==document.activeElement&&(ce.target.value=ye),u.setValue(m,{formattedValue:ye})},selRange(ce){ce.target.setSelectionRange(...ce.detail.selRange)}},te)}),y.addEventListener("keydown",te=>{let fe=-1;if("Escape"===te.key?fe=0:"Enter"===te.key?fe=2:"Tab"===te.key&&(fe=3),-1===fe)return;const{value:ce}=te.target;x.valueOnFocus!==ce&&(x.userValue=ce,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:m,name:"Keystroke",value:ce,willCommit:!0,commitKey:fe,selStart:te.target.selectionStart,selEnd:te.target.selectionEnd}}))});const ue=Q;Q=null,y.addEventListener("blur",te=>{const{value:fe}=te.target;x.userValue=fe,this._mouseState.isDown&&x.valueOnFocus!==fe&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:m,name:"Keystroke",value:fe,willCommit:!0,commitKey:1,selStart:te.target.selectionStart,selEnd:te.target.selectionEnd}}),ue(te)}),this.data.actions?.Keystroke&&y.addEventListener("beforeinput",te=>{const{data:fe,target:ce}=te,{value:ye,selectionStart:xe,selectionEnd:Ve}=ce;let Ye=xe,tt=Ve;switch(te.inputType){case"deleteWordBackward":{const qe=ye.substring(0,xe).match(/\w*[^\w]*$/);qe&&(Ye-=qe[0].length);break}case"deleteWordForward":{const qe=ye.substring(xe).match(/^[^\w]*\w*/);qe&&(tt+=qe[0].length);break}case"deleteContentBackward":xe===Ve&&(Ye-=1);break;case"deleteContentForward":xe===Ve&&(tt+=1)}te.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:m,name:"Keystroke",value:ye,change:fe||"",willCommit:!1,selStart:Ye,selEnd:tt}})}),this._setEventListeners(y,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],te=>te.target.value)}if(Q&&y.addEventListener("blur",Q),null!==this.data.maxLen&&(y.maxLength=this.data.maxLen),this.data.comb){const te=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;y.classList.add("comb"),y.style.letterSpacing=`calc(${te}px - 1ch)`}}else y=document.createElement("div"),y.textContent=this.data.fieldValue,y.style.verticalAlign="middle",y.style.display="table-cell";return this._setTextStyle(y),this._setBackgroundColor(y),this._setDefaultPropertiesFromJS(y),this.container.appendChild(y),this.container}_setTextStyle(u){const{fontSize:y,fontColor:S}=this.data.defaultAppearanceData,T=u.style;y&&(T.fontSize=`${y}px`),T.color=h.Util.makeHexColor(S[0],S[1],S[2]),null!==this.data.textAlignment&&(T.textAlign=["left","center","right"][this.data.textAlignment])}}class L extends E{constructor(u){super(u,{isRenderable:u.renderForms})}render(){const u=this.annotationStorage,m=this.data,y=m.id;let S=u.getValue(y,{value:m.exportValue===m.fieldValue}).value;"string"==typeof S&&(S="Off"!==S,u.setValue(y,{value:S})),this.container.className="buttonWidgetAnnotation checkBox";const T=document.createElement("input");return M.add(T),T.disabled=m.readOnly,T.type="checkbox",T.name=m.fieldName,S&&T.setAttribute("checked",!0),T.setAttribute("id",y),T.setAttribute("exportValue",m.exportValue),T.tabIndex=O,T.addEventListener("change",x=>{const{name:Q,checked:ue}=x.target;for(const te of this._getElementsByName(Q,y)){const fe=ue&&te.exportValue===m.exportValue;te.domElement&&(te.domElement.checked=fe),u.setValue(te.id,{value:fe})}u.setValue(y,{value:ue})}),T.addEventListener("resetform",x=>{x.target.checked=(m.defaultFieldValue||"Off")===m.exportValue}),this.enableScripting&&this.hasJSActions&&(T.addEventListener("updatefromsandbox",x=>{this._dispatchEventFromSandbox({value(ue){ue.target.checked="Off"!==ue.detail.value,u.setValue(y,{value:ue.target.checked})}},x)}),this._setEventListeners(T,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.checked)),this._setBackgroundColor(T),this._setDefaultPropertiesFromJS(T),this.container.appendChild(T),this.container}}class H extends E{constructor(u){super(u,{isRenderable:u.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const u=this.annotationStorage,m=this.data,y=m.id;let S=u.getValue(y,{value:m.fieldValue===m.buttonValue}).value;"string"==typeof S&&(S=S!==m.buttonValue,u.setValue(y,{value:S}));const T=document.createElement("input");if(M.add(T),T.disabled=m.readOnly,T.type="radio",T.name=m.fieldName,S&&T.setAttribute("checked",!0),T.setAttribute("id",y),T.tabIndex=O,T.addEventListener("change",x=>{const{name:Q,checked:ue}=x.target;for(const te of this._getElementsByName(Q,y))u.setValue(te.id,{value:!1});u.setValue(y,{value:ue})}),T.addEventListener("resetform",x=>{const Q=m.defaultFieldValue;x.target.checked=null!=Q&&Q===m.buttonValue}),this.enableScripting&&this.hasJSActions){const x=m.buttonValue;T.addEventListener("updatefromsandbox",Q=>{this._dispatchEventFromSandbox({value:te=>{const fe=x===te.detail.value;for(const ce of this._getElementsByName(te.target.name)){const ye=fe&&ce.id===y;ce.domElement&&(ce.domElement.checked=ye),u.setValue(ce.id,{value:ye})}}},Q)}),this._setEventListeners(T,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.checked)}return this._setBackgroundColor(T),this._setDefaultPropertiesFromJS(T),this.container.appendChild(T),this.container}}class F extends G{constructor(u){super(u,{ignoreBorder:u.data.hasAppearance})}render(){const u=super.render();return u.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(u.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(u),u}}class I extends E{constructor(u){super(u,{isRenderable:u.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const u=this.annotationStorage,m=this.data.id,y=u.getValue(m,{value:this.data.fieldValue});let{fontSize:S}=this.data.defaultAppearanceData;S||(S=9);const T=`calc(${S}px * var(--zoom-factor))`,x=document.createElement("select");M.add(x),x.disabled=this.data.readOnly,x.name=this.data.fieldName,x.setAttribute("id",m),x.tabIndex=O,x.style.fontSize=`${S}px`,this.data.combo||(x.size=this.data.options.length,this.data.multiSelect&&(x.multiple=!0)),x.addEventListener("resetform",te=>{const fe=this.data.defaultFieldValue;for(const ce of x.options)ce.selected=ce.value===fe});for(const te of this.data.options){const fe=document.createElement("option");fe.textContent=te.displayValue,fe.value=te.exportValue,this.data.combo&&(fe.style.fontSize=T),y.value.includes(te.exportValue)&&fe.setAttribute("selected",!0),x.appendChild(fe)}const Q=(te,fe)=>{const ce=fe?"value":"textContent",ye=te.target.options;return te.target.multiple?Array.prototype.filter.call(ye,xe=>xe.selected).map(xe=>xe[ce]):-1===ye.selectedIndex?null:ye[ye.selectedIndex][ce]},ue=te=>Array.prototype.map.call(te.target.options,ce=>({displayValue:ce.textContent,exportValue:ce.value}));return this.enableScripting&&this.hasJSActions?(x.addEventListener("updatefromsandbox",te=>{this._dispatchEventFromSandbox({value(ce){const ye=ce.detail.value,xe=new Set(Array.isArray(ye)?ye:[ye]);for(const Ve of x.options)Ve.selected=xe.has(Ve.value);u.setValue(m,{value:Q(ce,!0)})},multipleSelection(ce){x.multiple=!0},remove(ce){const ye=x.options,xe=ce.detail.remove;ye[xe].selected=!1,x.remove(xe),ye.length>0&&-1===Array.prototype.findIndex.call(ye,Ye=>Ye.selected)&&(ye[0].selected=!0),u.setValue(m,{value:Q(ce,!0),items:ue(ce)})},clear(ce){for(;0!==x.length;)x.remove(0);u.setValue(m,{value:null,items:[]})},insert(ce){const{index:ye,displayValue:xe,exportValue:Ve}=ce.detail.insert,Ye=document.createElement("option");Ye.textContent=xe,Ye.value=Ve,x.insertBefore(Ye,x.children[ye]),u.setValue(m,{value:Q(ce,!0),items:ue(ce)})},items(ce){const{items:ye}=ce.detail;for(;0!==x.length;)x.remove(0);for(const xe of ye){const{displayValue:Ve,exportValue:Ye}=xe,tt=document.createElement("option");tt.textContent=Ve,tt.value=Ye,x.appendChild(tt)}x.options.length>0&&(x.options[0].selected=!0),u.setValue(m,{value:Q(ce,!0),items:ue(ce)})},indices(ce){const ye=new Set(ce.detail.indices);for(const xe of ce.target.options)xe.selected=ye.has(xe.index);u.setValue(m,{value:Q(ce,!0)})},editable(ce){ce.target.disabled=!ce.detail.editable}},te)}),x.addEventListener("input",te=>{const fe=Q(te,!0),ce=Q(te,!1);u.setValue(m,{value:fe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:m,name:"Keystroke",value:ce,changeEx:fe,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(x,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],te=>te.target.checked)):x.addEventListener("input",function(te){u.setValue(m,{value:Q(te,!0)})}),this._setBackgroundColor(x),this._setDefaultPropertiesFromJS(x),this.container.appendChild(x),this.container}}class p extends ee{constructor(u){super(u,{isRenderable:!!(u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const y=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===y.length)return this.container;const S=new g({container:this.container,trigger:Array.from(y),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),T=this.page,x=h.Util.normalizeRect([this.data.parentRect[0],T.view[3]-this.data.parentRect[1]+T.view[1],this.data.parentRect[2],T.view[3]-this.data.parentRect[3]+T.view[1]]),Q=x[0]+this.data.parentRect[2]-this.data.parentRect[0],ue=x[1];return this.container.style.transformOrigin=`${-Q}px ${-ue}px`,this.container.style.left=`${Q}px`,this.container.style.top=`${ue}px`,this.container.appendChild(S.render()),this.container}}class g{constructor(u){this.container=u.container,this.trigger=u.trigger,this.color=u.color,this.titleObj=u.titleObj,this.modificationDate=u.modificationDate,this.contentsObj=u.contentsObj,this.richText=u.richText,this.hideWrapper=u.hideWrapper||!1,this.pinned=!1}render(){const m=document.createElement("div");m.className="popupWrapper",this.hideElement=this.hideWrapper?m:this.container,this.hideElement.hidden=!0;const y=document.createElement("div");y.className="popup";const S=this.color;S&&(y.style.backgroundColor=h.Util.makeHexColor(0|.7*(255-S[0])+S[0],0|.7*(255-S[1])+S[1],0|.7*(255-S[2])+S[2]));const T=document.createElement("h1");T.dir=this.titleObj.dir,T.textContent=this.titleObj.str,y.appendChild(T);const x=U.PDFDateString.toDateObject(this.modificationDate);if(x){const Q=document.createElement("span");Q.className="popupDate",Q.textContent="{{date}}, {{time}}",Q.dataset.l10nId="annotation_date_string",Q.dataset.l10nArgs=JSON.stringify({date:x.toLocaleDateString(),time:x.toLocaleTimeString()}),y.appendChild(Q)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const Q=this._formatContents(this.contentsObj);y.appendChild(Q)}else N.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:y}),y.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Q of this.trigger)Q.addEventListener("click",this._toggle.bind(this)),Q.addEventListener("mouseover",this._show.bind(this,!1)),Q.addEventListener("mouseout",this._hide.bind(this,!1));return y.addEventListener("click",this._hide.bind(this,!0)),m.appendChild(y),m}_formatContents({str:u,dir:m}){const y=document.createElement("p");y.className="popupContent",y.dir=m;const S=u.split(/(?:\r\n?|\n)/);for(let T=0,x=S.length;T<x;++T)y.appendChild(document.createTextNode(S[T])),T<x-1&&y.appendChild(document.createElement("br"));return y}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(u=!1){u&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(u=!0){u&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class w extends ee{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class R extends ee{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const u=this.data,{width:m,height:y}=B(u.rect),S=this.svgFactory.create(m,y),T=this.svgFactory.createElement("svg:line");return T.setAttribute("x1",u.rect[2]-u.lineCoordinates[0]),T.setAttribute("y1",u.rect[3]-u.lineCoordinates[1]),T.setAttribute("x2",u.rect[2]-u.lineCoordinates[2]),T.setAttribute("y2",u.rect[3]-u.lineCoordinates[3]),T.setAttribute("stroke-width",u.borderStyle.width||1),T.setAttribute("stroke","transparent"),T.setAttribute("fill","transparent"),S.appendChild(T),this.container.append(S),this._createPopup(T,u),this.container}}class A extends ee{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const u=this.data,{width:m,height:y}=B(u.rect),S=this.svgFactory.create(m,y),T=u.borderStyle.width,x=this.svgFactory.createElement("svg:rect");return x.setAttribute("x",T/2),x.setAttribute("y",T/2),x.setAttribute("width",m-T),x.setAttribute("height",y-T),x.setAttribute("stroke-width",T||1),x.setAttribute("stroke","transparent"),x.setAttribute("fill","transparent"),S.appendChild(x),this.container.append(S),this._createPopup(x,u),this.container}}class P extends ee{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const u=this.data,{width:m,height:y}=B(u.rect),S=this.svgFactory.create(m,y),T=u.borderStyle.width,x=this.svgFactory.createElement("svg:ellipse");return x.setAttribute("cx",m/2),x.setAttribute("cy",y/2),x.setAttribute("rx",m/2-T/2),x.setAttribute("ry",y/2-T/2),x.setAttribute("stroke-width",T||1),x.setAttribute("stroke","transparent"),x.setAttribute("fill","transparent"),S.appendChild(x),this.container.append(S),this._createPopup(x,u),this.container}}class D extends ee{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const u=this.data,{width:m,height:y}=B(u.rect),S=this.svgFactory.create(m,y);let T=[];for(const Q of u.vertices)T.push(Q.x-u.rect[0]+","+(u.rect[3]-Q.y));T=T.join(" ");const x=this.svgFactory.createElement(this.svgElementName);return x.setAttribute("points",T),x.setAttribute("stroke-width",u.borderStyle.width||1),x.setAttribute("stroke","transparent"),x.setAttribute("fill","transparent"),S.appendChild(x),this.container.append(S),this._createPopup(x,u),this.container}}class C extends D{constructor(u){super(u),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class q extends ee{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Y extends ee{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const u=this.data,{width:m,height:y}=B(u.rect),S=this.svgFactory.create(m,y);for(const T of u.inkLists){let x=[];for(const ue of T)x.push(`${ue.x-u.rect[0]},${u.rect[3]-ue.y}`);x=x.join(" ");const Q=this.svgFactory.createElement(this.svgElementName);Q.setAttribute("points",x),Q.setAttribute("stroke-width",u.borderStyle.width||1),Q.setAttribute("stroke","transparent"),Q.setAttribute("fill","transparent"),this._createPopup(Q,u),S.appendChild(Q)}return this.container.append(S),this.container}}class se extends ee{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class he extends ee{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ge extends ee{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class _e extends ee{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class ve extends ee{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ne extends ee{constructor(u){super(u,{isRenderable:!0});const{filename:m,content:y}=this.data.file;this.filename=(0,U.getFilenameFromUrl)(m),this.content=y,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:m,content:y})}render(){this.container.className="fileAttachmentAnnotation";const u=document.createElement("div");return u.style.height=this.container.style.height,u.style.width=this.container.style.width,u.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(u,this.data),this.container.appendChild(u),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class Le{static render(u){const m=[],y=[];for(const T of u.annotations){if(!T)continue;const{width:x,height:Q}=B(T.rect);if(!(x<=0||Q<=0)){if(T.annotationType===h.AnnotationType.POPUP){y.push(T);continue}m.push(T)}}y.length&&m.push(...y);const S=u.div;for(const T of m){const x=W.create({data:T,layer:S,page:u.page,viewport:u.viewport,linkService:u.linkService,downloadManager:u.downloadManager,imageResourcesPath:u.imageResourcesPath||"",renderForms:!1!==u.renderForms,svgFactory:new U.DOMSVGFactory,annotationStorage:u.annotationStorage||new j.AnnotationStorage,enableScripting:u.enableScripting,hasJSActions:u.hasJSActions,fieldObjects:u.fieldObjects,mouseState:u.mouseState||{isDown:!1}});if(x.isRenderable){const Q=x.render();if(T.hidden&&(Q.style.visibility="hidden"),Array.isArray(Q))for(const ue of Q)S.appendChild(ue);else x instanceof p?S.prepend(Q):S.appendChild(Q)}}_classStaticPrivateMethodGet(this,Le,K).call(this,S,u.annotationCanvasMap)}static update(u){const{page:m,viewport:y,annotations:S,annotationCanvasMap:T,div:x}=u,Q=y.transform,ue=`matrix(${Q.join(",")})`;let te,fe;for(const ce of S){const ye=x.querySelectorAll(`[data-annotation-id="${ce.id}"]`);if(ye)for(const xe of ye)if(ce.hasOwnCanvas){const Ve=h.Util.normalizeRect([ce.rect[0],m.view[3]-ce.rect[1]+m.view[1],ce.rect[2],m.view[3]-ce.rect[3]+m.view[1]]);if(!fe){te=Math.abs(Q[0]||Q[1]);const qe=Q.slice();for(let Pe=0;Pe<4;Pe++)qe[Pe]=Math.sign(qe[Pe]);fe=`matrix(${qe.join(",")})`}const Ye=Ve[0]*te,tt=Ve[1]*te;xe.style.left=`${Ye}px`,xe.style.top=`${tt}px`,xe.style.transformOrigin=`${-Ye}px ${-tt}px`,xe.style.transform=fe}else xe.style.transform=ue}_classStaticPrivateMethodGet(this,Le,K).call(this,x,T),x.hidden=!1}}function K(_,u){if(u){for(const[m,y]of u){const S=_.querySelector(`[data-annotation-id="${m}"]`);if(!S)continue;const{firstChild:T}=S;"CANVAS"===T.nodeName?S.replaceChild(y,T):S.insertBefore(y,T)}u.clear()}}v.AnnotationLayer=Le},(oe,v)=>{function z(U){return Math.floor(255*Math.max(0,Math.min(1,U))).toString(16).padStart(2,"0")}Object.defineProperty(v,"__esModule",{value:!0}),v.ColorConverters=void 0,v.ColorConverters=class h{static CMYK_G([j,ie,N,O]){return["G",1-Math.min(1,.3*j+.59*N+.11*ie+O)]}static G_CMYK([j]){return["CMYK",0,0,0,1-j]}static G_RGB([j]){return["RGB",j,j,j]}static G_HTML([j]){const ie=z(j);return`#${ie}${ie}${ie}`}static RGB_G([j,ie,N]){return["G",.3*j+.59*ie+.11*N]}static RGB_HTML([j,ie,N]){return`#${z(j)}${z(ie)}${z(N)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([j,ie,N,O]){return["RGB",1-Math.min(1,j+O),1-Math.min(1,N+O),1-Math.min(1,ie+O)]}static CMYK_HTML(j){return this.RGB_HTML(this.CMYK_RGB(j))}static RGB_CMYK([j,ie,N]){const O=1-j,M=1-ie,B=1-N;return["CMYK",O,M,B,Math.min(O,M,B)]}}},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.XfaLayer=void 0;var h=z(18);v.XfaLayer=class U{static setupStorage(ie,N,O,M,B){const W=M.getValue(N,{value:null});switch(O.name){case"textarea":if(null!==W.value&&(ie.textContent=W.value),"print"===B)break;ie.addEventListener("input",ee=>{M.setValue(N,{value:ee.target.value})});break;case"input":if("radio"===O.attributes.type||"checkbox"===O.attributes.type){if(W.value===O.attributes.xfaOn?ie.setAttribute("checked",!0):W.value===O.attributes.xfaOff&&ie.removeAttribute("checked"),"print"===B)break;ie.addEventListener("change",ee=>{M.setValue(N,{value:ee.target.getAttribute(ee.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==W.value&&ie.setAttribute("value",W.value),"print"===B)break;ie.addEventListener("input",ee=>{M.setValue(N,{value:ee.target.value})})}break;case"select":if(null!==W.value)for(const ee of O.children)ee.attributes.value===W.value&&(ee.attributes.selected=!0);ie.addEventListener("input",ee=>{const G=ee.target.options;M.setValue(N,{value:-1===G.selectedIndex?"":G[G.selectedIndex].value})})}}static setAttributes({html:ie,element:N,storage:O=null,intent:M,linkService:B}){const{attributes:W}=N,ee=ie instanceof HTMLAnchorElement;"radio"===W.type&&(W.name=`${W.name}-${M}`);for(const[G,ne]of Object.entries(W))if(null!=ne&&"dataId"!==G)if("style"!==G)if("textContent"===G)ie.textContent=ne;else if("class"===G)ne.length&&ie.setAttribute(G,ne.join(" "));else{if(ee&&("href"===G||"newWindow"===G))continue;ie.setAttribute(G,ne)}else Object.assign(ie.style,ne);ee&&B.addLinkAttributes(ie,W.href,W.newWindow),O&&W.dataId&&this.setupStorage(ie,W.dataId,N,O)}static render(ie){const N=ie.annotationStorage,O=ie.linkService,M=ie.xfaHtml,B=ie.intent||"display",W=document.createElement(M.name);M.attributes&&this.setAttributes({html:W,element:M,intent:B,linkService:O});const ee=[[M,-1,W]],G=ie.div;if(G.appendChild(W),ie.viewport){const E=`matrix(${ie.viewport.transform.join(",")})`;G.style.transform=E}"richText"!==B&&G.setAttribute("class","xfaLayer xfaFont");const ne=[];for(;ee.length>0;){const[E,V,L]=ee[ee.length-1];if(V+1===E.children.length){ee.pop();continue}const H=E.children[++ee[ee.length-1][1]];if(null===H)continue;const{name:F}=H;if("#text"===F){const p=document.createTextNode(H.value);ne.push(p),L.appendChild(p);continue}let I;if(I=H?.attributes?.xmlns?document.createElementNS(H.attributes.xmlns,F):document.createElement(F),L.appendChild(I),H.attributes&&this.setAttributes({html:I,element:H,storage:N,intent:B,linkService:O}),H.children&&H.children.length>0)ee.push([H,-1,I]);else if(H.value){const p=document.createTextNode(H.value);h.XfaText.shouldBuildText(F)&&ne.push(p),I.appendChild(p)}}for(const E of G.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))E.setAttribute("readOnly",!0);return{textDivs:ne}}static update(ie){const N=`matrix(${ie.viewport.transform.join(",")})`;ie.div.style.transform=N,ie.div.hidden=!1}}},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.renderTextLayer=function L(H){const F=new V({textContent:H.textContent,textContentStream:H.textContentStream,container:H.container,viewport:H.viewport,textDivs:H.textDivs,textContentItemsStr:H.textContentItemsStr,enhanceTextSelection:H.enhanceTextSelection});return F._render(H.timeout),F};var h=z(1);const j=30,N=new Map,O=/^\s+$/g;function B(H,F,I,p){const g=document.createElement("span"),w=H._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==F.str,hasEOL:F.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==F.str,hasEOL:F.hasEOL};H._textDivs.push(g);const R=h.Util.transform(H._viewport.transform,F.transform);let A=Math.atan2(R[1],R[0]);const P=I[F.fontName];P.vertical&&(A+=Math.PI/2);const D=Math.hypot(R[2],R[3]),C=D*function M(H,F){const I=N.get(H);if(I)return I;F.save(),F.font=`30px ${H}`;const p=F.measureText("");let g=p.fontBoundingBoxAscent,w=Math.abs(p.fontBoundingBoxDescent);if(g){F.restore();const A=g/(g+w);return N.set(H,A),A}F.strokeStyle="red",F.clearRect(0,0,j,j),F.strokeText("g",0,0);let R=F.getImageData(0,0,j,j).data;w=0;for(let A=R.length-1-3;A>=0;A-=4)if(R[A]>0){w=Math.ceil(A/4/j);break}F.clearRect(0,0,j,j),F.strokeText("A",0,j),R=F.getImageData(0,0,j,j).data,g=0;for(let A=0,P=R.length;A<P;A+=4)if(R[A]>0){g=j-Math.floor(A/4/j);break}if(F.restore(),g){const A=g/(g+w);return N.set(H,A),A}return N.set(H,.8),.8}(P.fontFamily,p);let q,Y;0===A?(q=R[4],Y=R[5]-C):(q=R[4]+C*Math.sin(A),Y=R[5]-C*Math.cos(A)),g.style.left=`${q}px`,g.style.top=`${Y}px`,g.style.fontSize=`${D}px`,g.style.fontFamily=P.fontFamily,g.setAttribute("role","presentation"),g.textContent=F.str,g.dir=F.dir,H._fontInspectorEnabled&&(g.dataset.fontName=F.fontName),0!==A&&(w.angle=A*(180/Math.PI));let se=!1;if(F.str.length>1||H._enhanceTextSelection&&O.test(F.str))se=!0;else if(" "!==F.str&&F.transform[0]!==F.transform[3]){const he=Math.abs(F.transform[0]),ge=Math.abs(F.transform[3]);he!==ge&&Math.max(he,ge)/Math.min(he,ge)>1.5&&(se=!0)}if(se&&(w.canvasWidth=P.vertical?F.height*H._viewport.scale:F.width*H._viewport.scale),H._textDivProperties.set(g,w),H._textContentStream&&H._layoutText(g),H._enhanceTextSelection&&w.hasText){let he=1,ge=0;0!==A&&(he=Math.cos(A),ge=Math.sin(A));const _e=(P.vertical?F.height:F.width)*H._viewport.scale,ve=D;let Ne,Le;0!==A?(Ne=[he,ge,-ge,he,q,Y],Le=h.Util.getAxialAlignedBoundingBox([0,0,_e,ve],Ne)):Le=[q,Y,q+_e,Y+ve],H._bounds.push({left:Le[0],top:Le[1],right:Le[2],bottom:Le[3],div:g,size:[_e,ve],m:Ne})}}function W(H){if(H._canceled)return;const F=H._textDivs,I=H._capability,p=F.length;if(p>1e5)return H._renderingDone=!0,void I.resolve();if(!H._textContentStream)for(let g=0;g<p;g++)H._layoutText(F[g]);H._renderingDone=!0,I.resolve()}function ee(H,F,I){let p=0;for(let g=0;g<I;g++){const w=H[F++];w>0&&(p=p?Math.min(w,p):w)}return p}function E(H,F){F.sort(function(g,w){return g.x1-w.x1||g.index-w.index});const p=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const g of F){let w=0;for(;w<p.length&&p[w].end<=g.y1;)w++;let R=p.length-1;for(;R>=0&&p[R].start>=g.y2;)R--;let A,P,D,C,q=-1/0;for(D=w;D<=R;D++){let he;A=p[D],P=A.boundary,he=P.x2>g.x1?P.index>g.index?P.x1New:g.x1:void 0===P.x2New?(P.x2+g.x1)/2:P.x2New,he>q&&(q=he)}for(g.x1New=q,D=w;D<=R;D++)A=p[D],P=A.boundary,void 0===P.x2New?P.x2>g.x1?P.index>g.index&&(P.x2New=P.x2):P.x2New=q:P.x2New>q&&(P.x2New=Math.max(q,P.x2));const Y=[];let se=null;for(D=w;D<=R;D++){A=p[D],P=A.boundary;const he=P.x2>g.x2?P:g;se===he?Y[Y.length-1].end=A.end:(Y.push({start:A.start,end:A.end,boundary:he}),se=he)}for(p[w].start<g.y1&&(Y[0].start=g.y1,Y.unshift({start:p[w].start,end:g.y1,boundary:p[w].boundary})),g.y2<p[R].end&&(Y[Y.length-1].end=g.y2,Y.push({start:g.y2,end:p[R].end,boundary:p[R].boundary})),D=w;D<=R;D++){if(A=p[D],P=A.boundary,void 0!==P.x2New)continue;let he=!1;for(C=w-1;!he&&C>=0&&p[C].start>=P.y1;C--)he=p[C].boundary===P;for(C=R+1;!he&&C<p.length&&p[C].end<=P.y2;C++)he=p[C].boundary===P;for(C=0;!he&&C<Y.length;C++)he=Y[C].boundary===P;he||(P.x2New=q)}Array.prototype.splice.apply(p,[w,R-w+1].concat(Y))}for(const g of p){const w=g.boundary;void 0===w.x2New&&(w.x2New=Math.max(H,w.x2))}}class V{constructor({textContent:F,textContentStream:I,container:p,viewport:g,textDivs:w,textContentItemsStr:R,enhanceTextSelection:A}){this._textContent=F,this._textContentStream=I,this._container=p,this._document=p.ownerDocument,this._viewport=g,this._textDivs=w||[],this._textContentItemsStr=R||[],this._enhanceTextSelection=!!A,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,h.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new h.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(F,I){for(let p=0,g=F.length;p<g;p++)if(void 0!==F[p].str)this._textContentItemsStr.push(F[p].str),B(this,F[p],I,this._layoutTextCtx);else if("beginMarkedContentProps"===F[p].type||"beginMarkedContent"===F[p].type){const w=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==F[p].id&&this._container.setAttribute("id",`${F[p].id}`),w.appendChild(this._container)}else"endMarkedContent"===F[p].type&&(this._container=this._container.parentNode)}_layoutText(F){const I=this._textDivProperties.get(F);let p="";if(0!==I.canvasWidth&&I.hasText){const{fontSize:g,fontFamily:w}=F.style;(g!==this._layoutTextLastFontSize||w!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${g} ${w}`,this._layoutTextLastFontSize=g,this._layoutTextLastFontFamily=w);const{width:R}=this._layoutTextCtx.measureText(F.textContent);if(R>0){const A=I.canvasWidth/R;this._enhanceTextSelection&&(I.scale=A),p=`scaleX(${A})`}}if(0!==I.angle&&(p=`rotate(${I.angle}deg) ${p}`),p.length>0&&(this._enhanceTextSelection&&(I.originalTransform=p),F.style.transform=p),I.hasText&&this._container.appendChild(F),I.hasEOL){const g=document.createElement("br");g.setAttribute("role","presentation"),this._container.appendChild(g)}}_render(F=0){const I=(0,h.createPromiseCapability)();let p=Object.create(null);const g=this._document.createElement("canvas");if(g.height=g.width=j,this._layoutTextCtx=g.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),I.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const w=()=>{this._reader.read().then(({value:R,done:A})=>{A?I.resolve():(Object.assign(p,R.styles),this._processItems(R.items,p),w())},I.reject)};this._reader=this._textContentStream.getReader(),w()}}I.promise.then(()=>{p=null,F?this._renderTimer=setTimeout(()=>{W(this),this._renderTimer=null},F):W(this)},this._capability.reject)}expandTextDivs(F=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function G(H){const F=H._bounds,I=H._viewport,p=function ne(H,F,I){const p=I.map(function(w,R){return{x1:w.left,y1:w.top,x2:w.right,y2:w.bottom,index:R,x1New:void 0,x2New:void 0}});E(H,p);const g=new Array(I.length);for(const w of p)g[w.index]={left:w.x1New,top:0,right:w.x2New,bottom:0};I.map(function(w,R){const A=g[R],P=p[R];P.x1=w.top,P.y1=H-A.right,P.x2=w.bottom,P.y2=H-A.left,P.index=R,P.x1New=void 0,P.x2New=void 0}),E(F,p);for(const w of p){const R=w.index;g[R].top=w.x1New,g[R].bottom=w.x2New}return g}(I.width,I.height,F);for(let g=0;g<p.length;g++){const w=F[g].div,R=H._textDivProperties.get(w);if(0===R.angle){R.paddingLeft=F[g].left-p[g].left,R.paddingTop=F[g].top-p[g].top,R.paddingRight=p[g].right-F[g].right,R.paddingBottom=p[g].bottom-F[g].bottom,H._textDivProperties.set(w,R);continue}const A=p[g],P=F[g],D=P.m,C=D[0],q=D[1],Y=[[0,0],[0,P.size[1]],[P.size[0],0],P.size],se=new Float64Array(64);for(let ge=0,_e=Y.length;ge<_e;ge++){const ve=h.Util.applyTransform(Y[ge],D);se[ge+0]=C&&(A.left-ve[0])/C,se[ge+4]=q&&(A.top-ve[1])/q,se[ge+8]=C&&(A.right-ve[0])/C,se[ge+12]=q&&(A.bottom-ve[1])/q,se[ge+16]=q&&(A.left-ve[0])/-q,se[ge+20]=C&&(A.top-ve[1])/C,se[ge+24]=q&&(A.right-ve[0])/-q,se[ge+28]=C&&(A.bottom-ve[1])/C,se[ge+32]=C&&(A.left-ve[0])/-C,se[ge+36]=q&&(A.top-ve[1])/-q,se[ge+40]=C&&(A.right-ve[0])/-C,se[ge+44]=q&&(A.bottom-ve[1])/-q,se[ge+48]=q&&(A.left-ve[0])/q,se[ge+52]=C&&(A.top-ve[1])/-C,se[ge+56]=q&&(A.right-ve[0])/q,se[ge+60]=C&&(A.bottom-ve[1])/-C}const he=1+Math.min(Math.abs(C),Math.abs(q));R.paddingLeft=ee(se,32,16)/he,R.paddingTop=ee(se,48,16)/he,R.paddingRight=ee(se,0,16)/he,R.paddingBottom=ee(se,16,16)/he,H._textDivProperties.set(w,R)}}(this),this._bounds=null);const I=[],p=[];for(let g=0,w=this._textDivs.length;g<w;g++){const R=this._textDivs[g],A=this._textDivProperties.get(R);A.hasText&&(F?(I.length=0,p.length=0,A.originalTransform&&I.push(A.originalTransform),A.paddingTop>0?(p.push(`${A.paddingTop}px`),I.push(`translateY(${-A.paddingTop}px)`)):p.push(0),p.push(A.paddingRight>0?A.paddingRight/A.scale+"px":0),p.push(A.paddingBottom>0?`${A.paddingBottom}px`:0),A.paddingLeft>0?(p.push(A.paddingLeft/A.scale+"px"),I.push(`translateX(${-A.paddingLeft/A.scale}px)`)):p.push(0),R.style.padding=p.join(" "),I.length&&(R.style.transform=I.join(" "))):(R.style.padding=null,R.style.transform=A.originalTransform))}}}},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.SVGGraphics=void 0;var h=z(1),U=z(5),j=z(3);let ie=class{constructor(){(0,h.unreachable)("Not implemented: SVGGraphics")}};v.SVGGraphics=ie;{let E=function(p){let g=[];const w=[];for(const R of p)"save"!==R.fn?"restore"===R.fn?g=w.pop():g.push(R):(g.push({fnId:92,fn:"group",items:[]}),w.push(g),g=g[g.length-1].items);return g},V=function(p){if(Number.isInteger(p))return p.toString();const g=p.toFixed(10);let w=g.length-1;if("0"!==g[w])return g;do{w--}while("0"===g[w]);return g.substring(0,"."===g[w]?w:w+1)},L=function(p){if(0===p[4]&&0===p[5]){if(0===p[1]&&0===p[2])return 1===p[0]&&1===p[3]?"":`scale(${V(p[0])} ${V(p[3])})`;if(p[0]===p[3]&&p[1]===-p[2]){const g=180*Math.acos(p[0])/Math.PI;return`rotate(${V(g)})`}}else if(1===p[0]&&0===p[1]&&0===p[2]&&1===p[3])return`translate(${V(p[4])} ${V(p[5])})`;return`matrix(${V(p[0])} ${V(p[1])} ${V(p[2])} ${V(p[3])} ${V(p[4])} ${V(p[5])})`};const N={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},O="http://www.w3.org/XML/1998/namespace",M="http://www.w3.org/1999/xlink",B=["butt","round","square"],W=["miter","round","bevel"],ee=function(p,g="",w=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!w)return URL.createObjectURL(new Blob([p],{type:g}));const R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let A=`data:${g};base64,`;for(let P=0,D=p.length;P<D;P+=3){const C=255&p[P],q=255&p[P+1],Y=255&p[P+2];A+=R[C>>2]+R[(3&C)<<4|q>>4]+R[P+1<D?(15&q)<<2|Y>>6:64]+R[P+2<D?63&Y:64]}return A},G=function(){const p=new Uint8Array([137,80,78,71,13,10,26,10]),w=new Int32Array(256);for(let Y=0;Y<256;Y++){let se=Y;for(let he=0;he<8;he++)se=1&se?3988292384^se>>1&2147483647:se>>1&2147483647;w[Y]=se}function A(Y,se,he,ge){let _e=ge;const ve=se.length;he[_e]=ve>>24&255,he[_e+1]=ve>>16&255,he[_e+2]=ve>>8&255,he[_e+3]=255&ve,_e+=4,he[_e]=255&Y.charCodeAt(0),he[_e+1]=255&Y.charCodeAt(1),he[_e+2]=255&Y.charCodeAt(2),he[_e+3]=255&Y.charCodeAt(3),_e+=4,he.set(se,_e),_e+=se.length;const Ne=function R(Y,se,he){let ge=-1;for(let _e=se;_e<he;_e++)ge=ge>>>8^w[255&(ge^Y[_e])];return-1^ge}(he,ge+4,_e);he[_e]=Ne>>24&255,he[_e+1]=Ne>>16&255,he[_e+2]=Ne>>8&255,he[_e+3]=255&Ne}function C(Y){let se=Y.length;const he=65535,ge=Math.ceil(se/he),_e=new Uint8Array(2+se+5*ge+4);let ve=0;_e[ve++]=120,_e[ve++]=156;let Ne=0;for(;se>he;)_e[ve++]=0,_e[ve++]=255,_e[ve++]=255,_e[ve++]=0,_e[ve++]=0,_e.set(Y.subarray(Ne,Ne+he),ve),ve+=he,Ne+=he,se-=he;_e[ve++]=1,_e[ve++]=255&se,_e[ve++]=se>>8&255,_e[ve++]=255&~se,_e[ve++]=(65535&~se)>>8&255,_e.set(Y.subarray(Ne),ve),ve+=Y.length-Ne;const Le=function P(Y,se,he){let ge=1,_e=0;for(let ve=se;ve<he;++ve)ge=(ge+(255&Y[ve]))%65521,_e=(_e+ge)%65521;return _e<<16|ge}(Y,0,Y.length);return _e[ve++]=Le>>24&255,_e[ve++]=Le>>16&255,_e[ve++]=Le>>8&255,_e[ve++]=255&Le,_e}return function(se,he,ge){return function q(Y,se,he,ge){const _e=Y.width,ve=Y.height;let Ne,Le,K;const _=Y.data;switch(se){case h.ImageKind.GRAYSCALE_1BPP:Le=0,Ne=1,K=_e+7>>3;break;case h.ImageKind.RGB_24BPP:Le=2,Ne=8,K=3*_e;break;case h.ImageKind.RGBA_32BPP:Le=6,Ne=8,K=4*_e;break;default:throw new Error("invalid format")}const u=new Uint8Array((1+K)*ve);let m=0,y=0;for(let te=0;te<ve;++te)u[m++]=0,u.set(_.subarray(y,y+K),m),y+=K,m+=K;if(se===h.ImageKind.GRAYSCALE_1BPP&&ge){m=0;for(let te=0;te<ve;te++){m++;for(let fe=0;fe<K;fe++)u[m++]^=255}}const S=new Uint8Array([_e>>24&255,_e>>16&255,_e>>8&255,255&_e,ve>>24&255,ve>>16&255,ve>>8&255,255&ve,Ne,Le,0,0,0]),T=function D(Y){if(!j.isNodeJS)return C(Y);try{let se;se=parseInt(process.versions.node)>=8?Y:Buffer.from(Y);const he=__webpack_require__(258).deflateSync(se,{level:9});return he instanceof Uint8Array?he:new Uint8Array(he)}catch(se){(0,h.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+se)}return C(Y)}(u),Q=new Uint8Array(p.length+36+S.length+T.length);let ue=0;return Q.set(p,ue),ue+=p.length,A("IHDR",S,Q,ue),ue+=12+S.length,A("IDATA",T,Q,ue),ue+=12+T.length,A("IEND",new Uint8Array(0),Q,ue),ee(Q,"image/png",he)}(se,void 0===se.kind?h.ImageKind.GRAYSCALE_1BPP:se.kind,he,ge)}}();class ne{constructor(){this.fontSizeScale=1,this.fontWeight=N.fontWeight,this.fontSize=0,this.textMatrix=h.IDENTITY_MATRIX,this.fontMatrix=h.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=h.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=N.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(g,w){this.x=g,this.y=w}}let H=0,F=0,I=0;v.SVGGraphics=ie=class{constructor(p,g,w=!1){this.svgFactory=new U.DOMSVGFactory,this.current=new ne,this.transformMatrix=h.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=p,this.objs=g,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!w,this._operatorIdMapping=[];for(const R in h.OPS)this._operatorIdMapping[h.OPS[R]]=R}save(){this.transformStack.push(this.transformMatrix);const p=this.current;this.extraStack.push(p),this.current=p.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(p){this.save(),this.executeOpTree(p),this.restore()}loadDependencies(p){const g=p.fnArray,w=p.argsArray;for(let R=0,A=g.length;R<A;R++)if(g[R]===h.OPS.dependency)for(const P of w[R]){const D=P.startsWith("g_")?this.commonObjs:this.objs,C=new Promise(q=>{D.get(P,q)});this.current.dependencies.push(C)}return Promise.all(this.current.dependencies)}transform(p,g,w,R,A,P){this.transformMatrix=h.Util.transform(this.transformMatrix,[p,g,w,R,A,P]),this.tgrp=null}getSVG(p,g){this.viewport=g;const w=this._initialize(g);return this.loadDependencies(p).then(()=>(this.transformMatrix=h.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(p)),w))}convertOpList(p){const g=this._operatorIdMapping,w=p.argsArray,R=p.fnArray,A=[];for(let P=0,D=R.length;P<D;P++){const C=R[P];A.push({fnId:C,fn:g[C],args:w[P]})}return E(A)}executeOpTree(p){for(const g of p){const w=g.fn,A=g.args;switch(0|g.fnId){case h.OPS.beginText:this.beginText();break;case h.OPS.dependency:break;case h.OPS.setLeading:this.setLeading(A);break;case h.OPS.setLeadingMoveText:this.setLeadingMoveText(A[0],A[1]);break;case h.OPS.setFont:this.setFont(A);break;case h.OPS.showText:case h.OPS.showSpacedText:this.showText(A[0]);break;case h.OPS.endText:this.endText();break;case h.OPS.moveText:this.moveText(A[0],A[1]);break;case h.OPS.setCharSpacing:this.setCharSpacing(A[0]);break;case h.OPS.setWordSpacing:this.setWordSpacing(A[0]);break;case h.OPS.setHScale:this.setHScale(A[0]);break;case h.OPS.setTextMatrix:this.setTextMatrix(A[0],A[1],A[2],A[3],A[4],A[5]);break;case h.OPS.setTextRise:this.setTextRise(A[0]);break;case h.OPS.setTextRenderingMode:this.setTextRenderingMode(A[0]);break;case h.OPS.setLineWidth:this.setLineWidth(A[0]);break;case h.OPS.setLineJoin:this.setLineJoin(A[0]);break;case h.OPS.setLineCap:this.setLineCap(A[0]);break;case h.OPS.setMiterLimit:this.setMiterLimit(A[0]);break;case h.OPS.setFillRGBColor:this.setFillRGBColor(A[0],A[1],A[2]);break;case h.OPS.setStrokeRGBColor:this.setStrokeRGBColor(A[0],A[1],A[2]);break;case h.OPS.setStrokeColorN:this.setStrokeColorN(A);break;case h.OPS.setFillColorN:this.setFillColorN(A);break;case h.OPS.shadingFill:this.shadingFill(A[0]);break;case h.OPS.setDash:this.setDash(A[0],A[1]);break;case h.OPS.setRenderingIntent:this.setRenderingIntent(A[0]);break;case h.OPS.setFlatness:this.setFlatness(A[0]);break;case h.OPS.setGState:this.setGState(A[0]);break;case h.OPS.fill:this.fill();break;case h.OPS.eoFill:this.eoFill();break;case h.OPS.stroke:this.stroke();break;case h.OPS.fillStroke:this.fillStroke();break;case h.OPS.eoFillStroke:this.eoFillStroke();break;case h.OPS.clip:this.clip("nonzero");break;case h.OPS.eoClip:this.clip("evenodd");break;case h.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case h.OPS.paintImageXObject:this.paintImageXObject(A[0]);break;case h.OPS.paintInlineImageXObject:this.paintInlineImageXObject(A[0]);break;case h.OPS.paintImageMaskXObject:this.paintImageMaskXObject(A[0]);break;case h.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(A[0],A[1]);break;case h.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case h.OPS.closePath:this.closePath();break;case h.OPS.closeStroke:this.closeStroke();break;case h.OPS.closeFillStroke:this.closeFillStroke();break;case h.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case h.OPS.nextLine:this.nextLine();break;case h.OPS.transform:this.transform(A[0],A[1],A[2],A[3],A[4],A[5]);break;case h.OPS.constructPath:this.constructPath(A[0],A[1]);break;case h.OPS.endPath:this.endPath();break;case 92:this.group(g.items);break;default:(0,h.warn)(`Unimplemented operator ${w}`)}}}setWordSpacing(p){this.current.wordSpacing=p}setCharSpacing(p){this.current.charSpacing=p}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(p,g,w,R,A,P){const D=this.current;D.textMatrix=D.lineMatrix=[p,g,w,R,A,P],D.textMatrixScale=Math.hypot(p,g),D.x=D.lineX=0,D.y=D.lineY=0,D.xcoords=[],D.ycoords=[],D.tspan=this.svgFactory.createElement("svg:tspan"),D.tspan.setAttributeNS(null,"font-family",D.fontFamily),D.tspan.setAttributeNS(null,"font-size",`${V(D.fontSize)}px`),D.tspan.setAttributeNS(null,"y",V(-D.y)),D.txtElement=this.svgFactory.createElement("svg:text"),D.txtElement.appendChild(D.tspan)}beginText(){const p=this.current;p.x=p.lineX=0,p.y=p.lineY=0,p.textMatrix=h.IDENTITY_MATRIX,p.lineMatrix=h.IDENTITY_MATRIX,p.textMatrixScale=1,p.tspan=this.svgFactory.createElement("svg:tspan"),p.txtElement=this.svgFactory.createElement("svg:text"),p.txtgrp=this.svgFactory.createElement("svg:g"),p.xcoords=[],p.ycoords=[]}moveText(p,g){const w=this.current;w.x=w.lineX+=p,w.y=w.lineY+=g,w.xcoords=[],w.ycoords=[],w.tspan=this.svgFactory.createElement("svg:tspan"),w.tspan.setAttributeNS(null,"font-family",w.fontFamily),w.tspan.setAttributeNS(null,"font-size",`${V(w.fontSize)}px`),w.tspan.setAttributeNS(null,"y",V(-w.y))}showText(p){const g=this.current,w=g.font,R=g.fontSize;if(0===R)return;const A=g.fontSizeScale,P=g.charSpacing,D=g.wordSpacing,C=g.fontDirection,q=g.textHScale*C,Y=w.vertical,se=Y?1:-1,he=w.defaultVMetrics,ge=R*g.fontMatrix[0];let _e=0;for(const Le of p){if(null===Le){_e+=C*D;continue}if("number"==typeof Le){_e+=se*Le*R/1e3;continue}const K=(Le.isSpace?D:0)+P,_=Le.fontChar;let u,m,S,y=Le.width;if(Y){let T;const x=Le.vmetric||he;T=Le.vmetric?x[1]:.5*y,T=-T*ge,y=x?-x[0]:y,u=T/A,m=(_e+x[2]*ge)/A}else u=_e/A,m=0;(Le.isInFont||w.missingFile)&&(g.xcoords.push(g.x+u),Y&&g.ycoords.push(-g.y+m),g.tspan.textContent+=_),S=Y?y*ge-K*C:y*ge+K*C,_e+=S}g.tspan.setAttributeNS(null,"x",g.xcoords.map(V).join(" ")),g.tspan.setAttributeNS(null,"y",Y?g.ycoords.map(V).join(" "):V(-g.y)),Y?g.y-=_e:g.x+=_e*q,g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size",`${V(g.fontSize)}px`),g.fontStyle!==N.fontStyle&&g.tspan.setAttributeNS(null,"font-style",g.fontStyle),g.fontWeight!==N.fontWeight&&g.tspan.setAttributeNS(null,"font-weight",g.fontWeight);const ve=g.textRenderingMode&h.TextRenderingMode.FILL_STROKE_MASK;ve===h.TextRenderingMode.FILL||ve===h.TextRenderingMode.FILL_STROKE?(g.fillColor!==N.fillColor&&g.tspan.setAttributeNS(null,"fill",g.fillColor),g.fillAlpha<1&&g.tspan.setAttributeNS(null,"fill-opacity",g.fillAlpha)):g.tspan.setAttributeNS(null,"fill",g.textRenderingMode===h.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(ve===h.TextRenderingMode.STROKE||ve===h.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(g.tspan,1/(g.textMatrixScale||1));let Ne=g.textMatrix;0!==g.textRise&&(Ne=Ne.slice(),Ne[5]+=g.textRise),g.txtElement.setAttributeNS(null,"transform",`${L(Ne)} scale(${V(q)}, -1)`),g.txtElement.setAttributeNS(O,"xml:space","preserve"),g.txtElement.appendChild(g.tspan),g.txtgrp.appendChild(g.txtElement),this._ensureTransformGroup().appendChild(g.txtElement)}setLeadingMoveText(p,g){this.setLeading(-g),this.moveText(p,g)}addFontStyle(p){if(!p.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const g=ee(p.data,p.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${p.loadedName}"; src: url(${g}); }\n`}setFont(p){const g=this.current,w=this.commonObjs.get(p[0]);let R=p[1];g.font=w,this.embedFonts&&!w.missingFile&&!this.embeddedFonts[w.loadedName]&&(this.addFontStyle(w),this.embeddedFonts[w.loadedName]=w),g.fontMatrix=w.fontMatrix||h.FONT_IDENTITY_MATRIX;let A="normal";w.black?A="900":w.bold&&(A="bold");const P=w.italic?"italic":"normal";R<0?(R=-R,g.fontDirection=-1):g.fontDirection=1,g.fontSize=R,g.fontFamily=w.loadedName,g.fontWeight=A,g.fontStyle=P,g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"y",V(-g.y)),g.xcoords=[],g.ycoords=[]}endText(){const p=this.current;p.textRenderingMode&h.TextRenderingMode.ADD_TO_PATH_FLAG&&p.txtElement?.hasChildNodes()&&(p.element=p.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(p){p>0&&(this.current.lineWidth=p)}setLineCap(p){this.current.lineCap=B[p]}setLineJoin(p){this.current.lineJoin=W[p]}setMiterLimit(p){this.current.miterLimit=p}setStrokeAlpha(p){this.current.strokeAlpha=p}setStrokeRGBColor(p,g,w){this.current.strokeColor=h.Util.makeHexColor(p,g,w)}setFillAlpha(p){this.current.fillAlpha=p}setFillRGBColor(p,g,w){this.current.fillColor=h.Util.makeHexColor(p,g,w),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(p){this.current.strokeColor=this._makeColorN_Pattern(p)}setFillColorN(p){this.current.fillColor=this._makeColorN_Pattern(p)}shadingFill(p){const g=this.viewport.width,w=this.viewport.height,R=h.Util.inverseTransform(this.transformMatrix),A=h.Util.applyTransform([0,0],R),P=h.Util.applyTransform([0,w],R),D=h.Util.applyTransform([g,0],R),C=h.Util.applyTransform([g,w],R),q=Math.min(A[0],P[0],D[0],C[0]),Y=Math.min(A[1],P[1],D[1],C[1]),se=Math.max(A[0],P[0],D[0],C[0]),he=Math.max(A[1],P[1],D[1],C[1]),ge=this.svgFactory.createElement("svg:rect");ge.setAttributeNS(null,"x",q),ge.setAttributeNS(null,"y",Y),ge.setAttributeNS(null,"width",se-q),ge.setAttributeNS(null,"height",he-Y),ge.setAttributeNS(null,"fill",this._makeShadingPattern(p)),this.current.fillAlpha<1&&ge.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(ge)}_makeColorN_Pattern(p){return"TilingPattern"===p[0]?this._makeTilingPattern(p):this._makeShadingPattern(p)}_makeTilingPattern(p){const g=p[1],w=p[2],R=p[3]||h.IDENTITY_MATRIX,[A,P,D,C]=p[4],q=p[5],Y=p[6],se=p[7],he="shading"+I++,[ge,_e,ve,Ne]=h.Util.normalizeRect([...h.Util.applyTransform([A,P],R),...h.Util.applyTransform([D,C],R)]),[Le,K]=h.Util.singularValueDecompose2dScale(R),_=q*Le,u=Y*K,m=this.svgFactory.createElement("svg:pattern");m.setAttributeNS(null,"id",he),m.setAttributeNS(null,"patternUnits","userSpaceOnUse"),m.setAttributeNS(null,"width",_),m.setAttributeNS(null,"height",u),m.setAttributeNS(null,"x",`${ge}`),m.setAttributeNS(null,"y",`${_e}`);const y=this.svg,S=this.transformMatrix,T=this.current.fillColor,x=this.current.strokeColor,Q=this.svgFactory.create(ve-ge,Ne-_e);if(this.svg=Q,this.transformMatrix=R,2===se){const ue=h.Util.makeHexColor(...g);this.current.fillColor=ue,this.current.strokeColor=ue}return this.executeOpTree(this.convertOpList(w)),this.svg=y,this.transformMatrix=S,this.current.fillColor=T,this.current.strokeColor=x,m.appendChild(Q.childNodes[0]),this.defs.appendChild(m),`url(#${he})`}_makeShadingPattern(p){switch("string"==typeof p&&(p=this.objs.get(p)),p[0]){case"RadialAxial":const g="shading"+I++,w=p[3];let R;switch(p[1]){case"axial":const A=p[4],P=p[5];R=this.svgFactory.createElement("svg:linearGradient"),R.setAttributeNS(null,"id",g),R.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),R.setAttributeNS(null,"x1",A[0]),R.setAttributeNS(null,"y1",A[1]),R.setAttributeNS(null,"x2",P[0]),R.setAttributeNS(null,"y2",P[1]);break;case"radial":const D=p[4],C=p[5],q=p[6],Y=p[7];R=this.svgFactory.createElement("svg:radialGradient"),R.setAttributeNS(null,"id",g),R.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),R.setAttributeNS(null,"cx",C[0]),R.setAttributeNS(null,"cy",C[1]),R.setAttributeNS(null,"r",Y),R.setAttributeNS(null,"fx",D[0]),R.setAttributeNS(null,"fy",D[1]),R.setAttributeNS(null,"fr",q);break;default:throw new Error(`Unknown RadialAxial type: ${p[1]}`)}for(const A of w){const P=this.svgFactory.createElement("svg:stop");P.setAttributeNS(null,"offset",A[0]),P.setAttributeNS(null,"stop-color",A[1]),R.appendChild(P)}return this.defs.appendChild(R),`url(#${g})`;case"Mesh":return(0,h.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${p[0]}`)}}setDash(p,g){this.current.dashArray=p,this.current.dashPhase=g}constructPath(p,g){const w=this.current;let R=w.x,A=w.y,P=[],D=0;for(const C of p)switch(0|C){case h.OPS.rectangle:R=g[D++],A=g[D++];const se=R+g[D++],he=A+g[D++];P.push("M",V(R),V(A),"L",V(se),V(A),"L",V(se),V(he),"L",V(R),V(he),"Z");break;case h.OPS.moveTo:R=g[D++],A=g[D++],P.push("M",V(R),V(A));break;case h.OPS.lineTo:R=g[D++],A=g[D++],P.push("L",V(R),V(A));break;case h.OPS.curveTo:R=g[D+4],A=g[D+5],P.push("C",V(g[D]),V(g[D+1]),V(g[D+2]),V(g[D+3]),V(R),V(A)),D+=6;break;case h.OPS.curveTo2:P.push("C",V(R),V(A),V(g[D]),V(g[D+1]),V(g[D+2]),V(g[D+3])),R=g[D+2],A=g[D+3],D+=4;break;case h.OPS.curveTo3:R=g[D+2],A=g[D+3],P.push("C",V(g[D]),V(g[D+1]),V(R),V(A),V(R),V(A)),D+=4;break;case h.OPS.closePath:P.push("Z")}P=P.join(" "),w.path&&p.length>0&&p[0]!==h.OPS.rectangle&&p[0]!==h.OPS.moveTo?P=w.path.getAttributeNS(null,"d")+P:(w.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(w.path)),w.path.setAttributeNS(null,"d",P),w.path.setAttributeNS(null,"fill","none"),w.element=w.path,w.setCurrentPoint(R,A)}endPath(){const p=this.current;if(p.path=null,!this.pendingClip)return;if(!p.element)return void(this.pendingClip=null);const g="clippath"+H++,w=this.svgFactory.createElement("svg:clipPath");w.setAttributeNS(null,"id",g),w.setAttributeNS(null,"transform",L(this.transformMatrix));const R=p.element.cloneNode(!0);if(R.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,w.appendChild(R),this.defs.appendChild(w),p.activeClipUrl){p.clipGroup=null;for(const A of this.extraStack)A.clipGroup=null;w.setAttributeNS(null,"clip-path",p.activeClipUrl)}p.activeClipUrl=`url(#${g})`,this.tgrp=null}clip(p){this.pendingClip=p}closePath(){const p=this.current;if(p.path){const g=`${p.path.getAttributeNS(null,"d")}Z`;p.path.setAttributeNS(null,"d",g)}}setLeading(p){this.current.leading=-p}setTextRise(p){this.current.textRise=p}setTextRenderingMode(p){this.current.textRenderingMode=p}setHScale(p){this.current.textHScale=p/100}setRenderingIntent(p){}setFlatness(p){}setGState(p){for(const[g,w]of p)switch(g){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w);break;case"CA":this.setStrokeAlpha(w);break;case"ca":this.setFillAlpha(w);break;default:(0,h.warn)(`Unimplemented graphic state operator ${g}`)}}fill(){const p=this.current;p.element&&(p.element.setAttributeNS(null,"fill",p.fillColor),p.element.setAttributeNS(null,"fill-opacity",p.fillAlpha),this.endPath())}stroke(){const p=this.current;p.element&&(this._setStrokeAttributes(p.element),p.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(p,g=1){const w=this.current;let R=w.dashArray;1!==g&&R.length>0&&(R=R.map(function(A){return g*A})),p.setAttributeNS(null,"stroke",w.strokeColor),p.setAttributeNS(null,"stroke-opacity",w.strokeAlpha),p.setAttributeNS(null,"stroke-miterlimit",V(w.miterLimit)),p.setAttributeNS(null,"stroke-linecap",w.lineCap),p.setAttributeNS(null,"stroke-linejoin",w.lineJoin),p.setAttributeNS(null,"stroke-width",V(g*w.lineWidth)+"px"),p.setAttributeNS(null,"stroke-dasharray",R.map(V).join(" ")),p.setAttributeNS(null,"stroke-dashoffset",V(g*w.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x","0"),p.setAttributeNS(null,"y","0"),p.setAttributeNS(null,"width","1px"),p.setAttributeNS(null,"height","1px"),p.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(p)}paintImageXObject(p){const g=p.startsWith("g_")?this.commonObjs.get(p):this.objs.get(p);g?this.paintInlineImageXObject(g):(0,h.warn)(`Dependent image with object ID ${p} is not ready yet`)}paintInlineImageXObject(p,g){const w=p.width,R=p.height,A=G(p,this.forceDataSchema,!!g),P=this.svgFactory.createElement("svg:rect");P.setAttributeNS(null,"x","0"),P.setAttributeNS(null,"y","0"),P.setAttributeNS(null,"width",V(w)),P.setAttributeNS(null,"height",V(R)),this.current.element=P,this.clip("nonzero");const D=this.svgFactory.createElement("svg:image");D.setAttributeNS(M,"xlink:href",A),D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y",V(-R)),D.setAttributeNS(null,"width",V(w)+"px"),D.setAttributeNS(null,"height",V(R)+"px"),D.setAttributeNS(null,"transform",`scale(${V(1/w)} ${V(-1/R)})`),g?g.appendChild(D):this._ensureTransformGroup().appendChild(D)}paintImageMaskXObject(p){const g=this.current,w=p.width,R=p.height,A=g.fillColor;g.maskId="mask"+F++;const P=this.svgFactory.createElement("svg:mask");P.setAttributeNS(null,"id",g.maskId);const D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y","0"),D.setAttributeNS(null,"width",V(w)),D.setAttributeNS(null,"height",V(R)),D.setAttributeNS(null,"fill",A),D.setAttributeNS(null,"mask",`url(#${g.maskId})`),this.defs.appendChild(P),this._ensureTransformGroup().appendChild(D),this.paintInlineImageXObject(p,P)}paintFormXObjectBegin(p,g){if(Array.isArray(p)&&6===p.length&&this.transform(p[0],p[1],p[2],p[3],p[4],p[5]),g){const w=g[2]-g[0],R=g[3]-g[1],A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x",g[0]),A.setAttributeNS(null,"y",g[1]),A.setAttributeNS(null,"width",V(w)),A.setAttributeNS(null,"height",V(R)),this.current.element=A,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(p){const g=this.svgFactory.create(p.width,p.height),w=this.svgFactory.createElement("svg:defs");g.appendChild(w),this.defs=w;const R=this.svgFactory.createElement("svg:g");return R.setAttributeNS(null,"transform",L(p.transform)),g.appendChild(R),this.svg=R,g}_ensureClipGroup(){if(!this.current.clipGroup){const p=this.svgFactory.createElement("svg:g");p.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(p),this.current.clipGroup=p}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",L(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFNodeStream=void 0;var h=z(1),U=z(26);const j=__webpack_require__(172),ie=__webpack_require__(1),N=__webpack_require__(779),O=__webpack_require__(558),M=/^file:\/\/\/[a-zA-Z]:\//;v.PDFNodeStream=class W{constructor(I){this.source=I,this.url=function B(F){const I=O.parse(F);return"file:"===I.protocol||I.host?I:/^[a-z]:[/\\]/i.test(F)?O.parse(`file:///${F}`):(I.host||(I.protocol="file:"),I)}(I.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&I.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new L(this):new E(this),this._fullRequestReader}getRangeReader(I,p){if(p<=this._progressiveDataLength)return null;const g=this.isFsUrl?new H(this,I,p):new V(this,I,p);return this._rangeRequestReaders.push(g),g}cancelAllRequests(I){this._fullRequestReader&&this._fullRequestReader.cancel(I);for(const p of this._rangeRequestReaders.slice(0))p.cancel(I)}};class ee{constructor(I){this._url=I.url,this._done=!1,this._storedError=null,this.onProgress=null;const p=I.source;this._contentLength=p.length,this._loaded=0,this._filename=null,this._disableRange=p.disableRange||!1,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!p.disableStream,this._isRangeSupported=!p.disableRange,this._readableStream=null,this._readCapability=(0,h.createPromiseCapability)(),this._headersCapability=(0,h.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var I=this;return _asyncToGenerator(function*(){if(yield I._readCapability.promise,I._done)return{value:void 0,done:!0};if(I._storedError)throw I._storedError;const p=I._readableStream.read();return null===p?(I._readCapability=(0,h.createPromiseCapability)(),I.read()):(I._loaded+=p.length,I.onProgress&&I.onProgress({loaded:I._loaded,total:I._contentLength}),{value:new Uint8Array(p).buffer,done:!1})})()}cancel(I){this._readableStream?this._readableStream.destroy(I):this._error(I)}_error(I){this._storedError=I,this._readCapability.resolve()}_setReadableStream(I){this._readableStream=I,I.on("readable",()=>{this._readCapability.resolve()}),I.on("end",()=>{I.destroy(),this._done=!0,this._readCapability.resolve()}),I.on("error",p=>{this._error(p)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new h.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class G{constructor(I){this._url=I.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,h.createPromiseCapability)(),this._isStreamingSupported=!I.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var I=this;return _asyncToGenerator(function*(){if(yield I._readCapability.promise,I._done)return{value:void 0,done:!0};if(I._storedError)throw I._storedError;const p=I._readableStream.read();return null===p?(I._readCapability=(0,h.createPromiseCapability)(),I.read()):(I._loaded+=p.length,I.onProgress&&I.onProgress({loaded:I._loaded}),{value:new Uint8Array(p).buffer,done:!1})})()}cancel(I){this._readableStream?this._readableStream.destroy(I):this._error(I)}_error(I){this._storedError=I,this._readCapability.resolve()}_setReadableStream(I){this._readableStream=I,I.on("readable",()=>{this._readCapability.resolve()}),I.on("end",()=>{I.destroy(),this._done=!0,this._readCapability.resolve()}),I.on("error",p=>{this._error(p)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function ne(F,I){return{protocol:F.protocol,auth:F.auth,host:F.hostname,port:F.port,path:F.path,method:"GET",headers:I}}class E extends ee{constructor(I){super(I);const p=g=>{if(404===g.statusCode){const P=new h.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=P,void this._headersCapability.reject(P)}this._headersCapability.resolve(),this._setReadableStream(g);const w=P=>this._readableStream.headers[P.toLowerCase()],{allowRangeRequests:R,suggestedLength:A}=(0,U.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:I.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=R,this._contentLength=A||this._contentLength,this._filename=(0,U.extractFilenameFromHeader)(w)};this._request=null,this._request="http:"===this._url.protocol?ie.request(ne(this._url,I.httpHeaders),p):N.request(ne(this._url,I.httpHeaders),p),this._request.on("error",g=>{this._storedError=g,this._headersCapability.reject(g)}),this._request.end()}}class V extends G{constructor(I,p,g){super(I),this._httpHeaders={};for(const R in I.httpHeaders){const A=I.httpHeaders[R];typeof A>"u"||(this._httpHeaders[R]=A)}this._httpHeaders.Range=`bytes=${p}-${g-1}`;const w=R=>{if(404!==R.statusCode)this._setReadableStream(R);else{const A=new h.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=A}};this._request=null,this._request="http:"===this._url.protocol?ie.request(ne(this._url,this._httpHeaders),w):N.request(ne(this._url,this._httpHeaders),w),this._request.on("error",R=>{this._storedError=R}),this._request.end()}}class L extends ee{constructor(I){super(I);let p=decodeURIComponent(this._url.path);M.test(this._url.href)&&(p=p.replace(/^\//,"")),j.lstat(p,(g,w)=>{if(g)return"ENOENT"===g.code&&(g=new h.MissingPDFException(`Missing PDF "${p}".`)),this._storedError=g,void this._headersCapability.reject(g);this._contentLength=w.size,this._setReadableStream(j.createReadStream(p)),this._headersCapability.resolve()})}}class H extends G{constructor(I,p,g){super(I);let w=decodeURIComponent(this._url.path);M.test(this._url.href)&&(w=w.replace(/^\//,"")),this._setReadableStream(j.createReadStream(w,{start:p,end:g-1}))}}},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.createResponseStatusError=function O(B,W){return 404===B||0===B&&W.startsWith("file:")?new h.MissingPDFException('Missing PDF "'+W+'".'):new h.UnexpectedResponseException(`Unexpected server response (${B}) while retrieving PDF "${W}".`,B)},v.extractFilenameFromHeader=function N(B){const W=B("Content-Disposition");if(W){let ee=(0,U.getFilenameFromContentDispositionHeader)(W);if(ee.includes("%"))try{ee=decodeURIComponent(ee)}catch{}if((0,j.isPdfFile)(ee))return ee}return null},v.validateRangeRequestCapabilities=function ie({getResponseHeader:B,isHttp:W,rangeChunkSize:ee,disableRange:G}){const ne={allowRangeRequests:!1,suggestedLength:void 0},E=parseInt(B("Content-Length"),10);return!Number.isInteger(E)||(ne.suggestedLength=E,E<=2*ee)||G||!W||"bytes"!==B("Accept-Ranges")||"identity"!==(B("Content-Encoding")||"identity")||(ne.allowRangeRequests=!0),ne},v.validateResponseStatus=function M(B){return 200===B||206===B};var h=z(1),U=z(27),j=z(5)},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.getFilenameFromContentDispositionHeader=function U(j){let ie=!0,N=O("filename\\*","i").exec(j);if(N){N=N[1];let E=ee(N);return E=unescape(E),E=G(E),E=ne(E),B(E)}if(N=function W(E){const V=[];let L;const H=O("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(L=H.exec(E));){let[,I,p,g]=L;if(I=parseInt(I,10),I in V){if(0===I)break}else V[I]=[p,g]}const F=[];for(let I=0;I<V.length&&I in V;++I){let[p,g]=V[I];g=ee(g),p&&(g=unescape(g),0===I&&(g=G(g))),F.push(g)}return F.join("")}(j),N)return B(ne(N));if(N=O("filename","i").exec(j),N){N=N[1];let E=ee(N);return E=ne(E),B(E)}function O(E,V){return new RegExp("(?:^|;)\\s*"+E+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',V)}function M(E,V){if(E){if(!/^[\x00-\xFF]+$/.test(V))return V;try{const L=new TextDecoder(E,{fatal:!0}),H=(0,h.stringToBytes)(V);V=L.decode(H),ie=!1}catch{}}return V}function B(E){return ie&&/[\x80-\xff]/.test(E)&&(E=M("utf-8",E),ie&&(E=M("iso-8859-1",E))),E}function ee(E){if(E.startsWith('"')){const V=E.slice(1).split('\\"');for(let L=0;L<V.length;++L){const H=V[L].indexOf('"');-1!==H&&(V[L]=V[L].slice(0,H),V.length=L+1),V[L]=V[L].replace(/\\(.)/g,"$1")}E=V.join('"')}return E}function G(E){const V=E.indexOf("'");return-1===V?E:M(E.slice(0,V),E.slice(V+1).replace(/^[^']*'/,""))}function ne(E){return!E.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(E)?E:E.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(V,L,H,F){if("q"===H||"Q"===H)return M(L,F=(F=F.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(I,p){return String.fromCharCode(parseInt(p,16))}));try{F=atob(F)}catch{}return M(L,F)})}return""};var h=z(1)},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFNetworkStream=void 0;var h=z(1),U=z(26);class O{constructor(G,ne={}){this.url=G,this.isHttp=/^https?:/i.test(G),this.httpHeaders=this.isHttp&&ne.httpHeaders||Object.create(null),this.withCredentials=ne.withCredentials||!1,this.getXhr=ne.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(G,ne,E){const V={begin:G,end:ne};for(const L in E)V[L]=E[L];return this.request(V)}requestFull(G){return this.request(G)}request(G){const ne=this.getXhr(),E=this.currXhrId++,V=this.pendingRequests[E]={xhr:ne};ne.open("GET",this.url),ne.withCredentials=this.withCredentials;for(const L in this.httpHeaders){const H=this.httpHeaders[L];typeof H>"u"||ne.setRequestHeader(L,H)}return this.isHttp&&"begin"in G&&"end"in G?(ne.setRequestHeader("Range",`bytes=${G.begin}-${G.end-1}`),V.expectedStatus=206):V.expectedStatus=200,ne.responseType="arraybuffer",G.onError&&(ne.onerror=function(L){G.onError(ne.status)}),ne.onreadystatechange=this.onStateChange.bind(this,E),ne.onprogress=this.onProgress.bind(this,E),V.onHeadersReceived=G.onHeadersReceived,V.onDone=G.onDone,V.onError=G.onError,V.onProgress=G.onProgress,ne.send(null),E}onProgress(G,ne){const E=this.pendingRequests[G];E&&E.onProgress?.(ne)}onStateChange(G,ne){const E=this.pendingRequests[G];if(!E)return;const V=E.xhr;if(V.readyState>=2&&E.onHeadersReceived&&(E.onHeadersReceived(),delete E.onHeadersReceived),4!==V.readyState||!(G in this.pendingRequests))return;if(delete this.pendingRequests[G],0===V.status&&this.isHttp)return void E.onError?.(V.status);const L=V.status||200;if((200!==L||206!==E.expectedStatus)&&L!==E.expectedStatus)return void E.onError?.(V.status);const F=function N(ee){const G=ee.response;return"string"!=typeof G?G:(0,h.stringToBytes)(G).buffer}(V);if(206===L){const I=V.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(I);E.onDone({begin:parseInt(p[1],10),chunk:F})}else F?E.onDone({begin:0,chunk:F}):E.onError?.(V.status)}getRequestXhr(G){return this.pendingRequests[G].xhr}isPendingRequest(G){return G in this.pendingRequests}abortRequest(G){const ne=this.pendingRequests[G].xhr;delete this.pendingRequests[G],ne.abort()}}v.PDFNetworkStream=class M{constructor(G){this._source=G,this._manager=new O(G.url,{httpHeaders:G.httpHeaders,withCredentials:G.withCredentials}),this._rangeChunkSize=G.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(G){const ne=this._rangeRequestReaders.indexOf(G);ne>=0&&this._rangeRequestReaders.splice(ne,1)}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new B(this._manager,this._source),this._fullRequestReader}getRangeReader(G,ne){const E=new W(this._manager,G,ne);return E.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(E),E}cancelAllRequests(G){this._fullRequestReader?.cancel(G);for(const ne of this._rangeRequestReaders.slice(0))ne.cancel(G)}};class B{constructor(G,ne){this._manager=G;const E={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ne.url,this._fullRequestId=G.requestFull(E),this._headersReceivedCapability=(0,h.createPromiseCapability)(),this._disableRange=ne.disableRange||!1,this._contentLength=ne.length,this._rangeChunkSize=ne.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const G=this._fullRequestId,ne=this._manager.getRequestXhr(G),E=H=>ne.getResponseHeader(H),{allowRangeRequests:V,suggestedLength:L}=(0,U.validateRangeRequestCapabilities)({getResponseHeader:E,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});V&&(this._isRangeSupported=!0),this._contentLength=L||this._contentLength,this._filename=(0,U.extractFilenameFromHeader)(E),this._isRangeSupported&&this._manager.abortRequest(G),this._headersReceivedCapability.resolve()}_onDone(G){if(G&&(this._requests.length>0?this._requests.shift().resolve({value:G.chunk,done:!1}):this._cachedChunks.push(G.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(G){this._storedError=(0,U.createResponseStatusError)(G,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ne of this._requests)ne.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(G){this.onProgress?.({loaded:G.loaded,total:G.lengthComputable?G.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var G=this;return _asyncToGenerator(function*(){if(G._storedError)throw G._storedError;if(G._cachedChunks.length>0)return{value:G._cachedChunks.shift(),done:!1};if(G._done)return{value:void 0,done:!0};const ne=(0,h.createPromiseCapability)();return G._requests.push(ne),ne.promise})()}cancel(G){this._done=!0,this._headersReceivedCapability.reject(G);for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class W{constructor(G,ne,E){this._manager=G;const V={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=G.url,this._requestId=G.requestRange(ne,E,V),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(G){const ne=G.chunk;this._requests.length>0?this._requests.shift().resolve({value:ne,done:!1}):this._queuedChunk=ne,this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(G){this._storedError=(0,U.createResponseStatusError)(G,this._url);for(const ne of this._requests)ne.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(G){this.isStreamingSupported||this.onProgress?.({loaded:G.loaded})}get isStreamingSupported(){return!1}read(){var G=this;return _asyncToGenerator(function*(){if(G._storedError)throw G._storedError;if(null!==G._queuedChunk){const E=G._queuedChunk;return G._queuedChunk=null,{value:E,done:!1}}if(G._done)return{value:void 0,done:!0};const ne=(0,h.createPromiseCapability)();return G._requests.push(ne),ne.promise})()}cancel(G){this._done=!0;for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(oe,v,z)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PDFFetchStream=void 0;var h=z(1),U=z(26);function j(B,W,ee){return{method:"GET",headers:B,signal:ee?.signal,mode:"cors",credentials:W?"include":"same-origin",redirect:"follow"}}function ie(B){const W=new Headers;for(const ee in B){const G=B[ee];typeof G>"u"||W.append(ee,G)}return W}v.PDFFetchStream=class N{constructor(W){this.source=W,this.isHttp=/^https?:/i.test(W.url),this.httpHeaders=this.isHttp&&W.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new O(this),this._fullRequestReader}getRangeReader(W,ee){if(ee<=this._progressiveDataLength)return null;const G=new M(this,W,ee);return this._rangeRequestReaders.push(G),G}cancelAllRequests(W){this._fullRequestReader&&this._fullRequestReader.cancel(W);for(const ee of this._rangeRequestReaders.slice(0))ee.cancel(W)}};class O{constructor(W){this._stream=W,this._reader=null,this._loaded=0,this._filename=null;const ee=W.source;this._withCredentials=ee.withCredentials||!1,this._contentLength=ee.length,this._headersCapability=(0,h.createPromiseCapability)(),this._disableRange=ee.disableRange||!1,this._rangeChunkSize=ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!ee.disableStream,this._isRangeSupported=!ee.disableRange,this._headers=ie(this._stream.httpHeaders);const G=ee.url;fetch(G,j(this._headers,this._withCredentials,this._abortController)).then(ne=>{if(!(0,U.validateResponseStatus)(ne.status))throw(0,U.createResponseStatusError)(ne.status,G);this._reader=ne.body.getReader(),this._headersCapability.resolve();const E=H=>ne.headers.get(H),{allowRangeRequests:V,suggestedLength:L}=(0,U.validateRangeRequestCapabilities)({getResponseHeader:E,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=V,this._contentLength=L||this._contentLength,this._filename=(0,U.extractFilenameFromHeader)(E),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new h.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var W=this;return _asyncToGenerator(function*(){yield W._headersCapability.promise;const{value:ee,done:G}=yield W._reader.read();return G?{value:ee,done:G}:(W._loaded+=ee.byteLength,W.onProgress&&W.onProgress({loaded:W._loaded,total:W._contentLength}),{value:new Uint8Array(ee).buffer,done:!1})})()}cancel(W){this._reader&&this._reader.cancel(W),this._abortController&&this._abortController.abort()}}class M{constructor(W,ee,G){this._stream=W,this._reader=null,this._loaded=0;const ne=W.source;this._withCredentials=ne.withCredentials||!1,this._readCapability=(0,h.createPromiseCapability)(),this._isStreamingSupported=!ne.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=ie(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ee}-${G-1}`);const E=ne.url;fetch(E,j(this._headers,this._withCredentials,this._abortController)).then(V=>{if(!(0,U.validateResponseStatus)(V.status))throw(0,U.createResponseStatusError)(V.status,E);this._readCapability.resolve(),this._reader=V.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var W=this;return _asyncToGenerator(function*(){yield W._readCapability.promise;const{value:ee,done:G}=yield W._reader.read();return G?{value:ee,done:G}:(W._loaded+=ee.byteLength,W.onProgress&&W.onProgress({loaded:W._loaded}),{value:new Uint8Array(ee).buffer,done:!1})})()}cancel(W){this._reader&&this._reader.cancel(W),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(oe){var v=__webpack_module_cache__[oe];if(void 0!==v)return v.exports;var z=__webpack_module_cache__[oe]={exports:{}};return __webpack_modules__[oe](z,z.exports,__w_pdfjs_require__),z.exports}var __nested_webpack_exports__={};return(()=>{var oe=__nested_webpack_exports__;Object.defineProperty(oe,"__esModule",{value:!0}),Object.defineProperty(oe,"AnnotationLayer",{enumerable:!0,get:function(){return U.AnnotationLayer}}),Object.defineProperty(oe,"AnnotationMode",{enumerable:!0,get:function(){return v.AnnotationMode}}),Object.defineProperty(oe,"CMapCompressionType",{enumerable:!0,get:function(){return v.CMapCompressionType}}),Object.defineProperty(oe,"GlobalWorkerOptions",{enumerable:!0,get:function(){return j.GlobalWorkerOptions}}),Object.defineProperty(oe,"InvalidPDFException",{enumerable:!0,get:function(){return v.InvalidPDFException}}),Object.defineProperty(oe,"LoopbackPort",{enumerable:!0,get:function(){return z.LoopbackPort}}),Object.defineProperty(oe,"MissingPDFException",{enumerable:!0,get:function(){return v.MissingPDFException}}),Object.defineProperty(oe,"OPS",{enumerable:!0,get:function(){return v.OPS}}),Object.defineProperty(oe,"PDFDataRangeTransport",{enumerable:!0,get:function(){return z.PDFDataRangeTransport}}),Object.defineProperty(oe,"PDFDateString",{enumerable:!0,get:function(){return h.PDFDateString}}),Object.defineProperty(oe,"PDFWorker",{enumerable:!0,get:function(){return z.PDFWorker}}),Object.defineProperty(oe,"PasswordResponses",{enumerable:!0,get:function(){return v.PasswordResponses}}),Object.defineProperty(oe,"PermissionFlag",{enumerable:!0,get:function(){return v.PermissionFlag}}),Object.defineProperty(oe,"PixelsPerInch",{enumerable:!0,get:function(){return h.PixelsPerInch}}),Object.defineProperty(oe,"RenderingCancelledException",{enumerable:!0,get:function(){return h.RenderingCancelledException}}),Object.defineProperty(oe,"SVGGraphics",{enumerable:!0,get:function(){return O.SVGGraphics}}),Object.defineProperty(oe,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return v.UNSUPPORTED_FEATURES}}),Object.defineProperty(oe,"UnexpectedResponseException",{enumerable:!0,get:function(){return v.UnexpectedResponseException}}),Object.defineProperty(oe,"Util",{enumerable:!0,get:function(){return v.Util}}),Object.defineProperty(oe,"VerbosityLevel",{enumerable:!0,get:function(){return v.VerbosityLevel}}),Object.defineProperty(oe,"XfaLayer",{enumerable:!0,get:function(){return M.XfaLayer}}),Object.defineProperty(oe,"build",{enumerable:!0,get:function(){return z.build}}),Object.defineProperty(oe,"createPromiseCapability",{enumerable:!0,get:function(){return v.createPromiseCapability}}),Object.defineProperty(oe,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return v.createValidAbsoluteUrl}}),Object.defineProperty(oe,"getDocument",{enumerable:!0,get:function(){return z.getDocument}}),Object.defineProperty(oe,"getFilenameFromUrl",{enumerable:!0,get:function(){return h.getFilenameFromUrl}}),Object.defineProperty(oe,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return h.getPdfFilenameFromUrl}}),Object.defineProperty(oe,"getXfaPageViewport",{enumerable:!0,get:function(){return h.getXfaPageViewport}}),Object.defineProperty(oe,"isPdfFile",{enumerable:!0,get:function(){return h.isPdfFile}}),Object.defineProperty(oe,"loadScript",{enumerable:!0,get:function(){return h.loadScript}}),Object.defineProperty(oe,"renderTextLayer",{enumerable:!0,get:function(){return N.renderTextLayer}}),Object.defineProperty(oe,"shadow",{enumerable:!0,get:function(){return v.shadow}}),Object.defineProperty(oe,"version",{enumerable:!0,get:function(){return z.version}});var v=__w_pdfjs_require__(1),z=__w_pdfjs_require__(4),h=__w_pdfjs_require__(5),U=__w_pdfjs_require__(20),j=__w_pdfjs_require__(13),ie=__w_pdfjs_require__(3),N=__w_pdfjs_require__(23),O=__w_pdfjs_require__(24),M=__w_pdfjs_require__(22);if(ie.isNodeJS){const{PDFNodeStream:ee}=__w_pdfjs_require__(25);(0,z.setPDFNetworkStreamFactory)(G=>new ee(G))}else{const{PDFNetworkStream:ee}=__w_pdfjs_require__(28),{PDFFetchStream:G}=__w_pdfjs_require__(29);(0,z.setPDFNetworkStreamFactory)(ne=>(0,h.isValidFetchUrl)(ne.url)?new G(ne):new ee(ne))}})(),__nested_webpack_exports__})(),module.exports=z()},16:function(oe,v,z){var ee,h=z(661).default,U=z(860).default,j=z(159).default,ie=z(764).default,N=z(467).default,O=z(468).default,M=z(156).default;ee=()=>(()=>{"use strict";var B=[,(ne,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.DefaultXfaLayerFactory=E.DefaultTextLayerFactory=E.DefaultStructTreeLayerFactory=E.DefaultAnnotationLayerFactory=void 0;var L=V(2),H=V(4),F=V(5),I=V(7),p=V(8),g=V(9);E.DefaultAnnotationLayerFactory=class w{createAnnotationLayerBuilder(C,q,Y=null,se="",he=!0,ge=H.NullL10n,_e=!1,ve=null,Ne=null,Le=null,K=null){return new L.AnnotationLayerBuilder({pageDiv:C,pdfPage:q,imageResourcesPath:se,renderForms:he,linkService:new F.SimpleLinkService,l10n:ge,annotationStorage:Y,enableScripting:_e,hasJSActionsPromise:ve,fieldObjectsPromise:Le,mouseState:Ne,annotationCanvasMap:K})}},E.DefaultStructTreeLayerFactory=class R{createStructTreeLayerBuilder(C){return new I.StructTreeLayerBuilder({pdfPage:C})}},E.DefaultTextLayerFactory=class A{createTextLayerBuilder(C,q,Y,se=!1,he,ge){return new p.TextLayerBuilder({textLayerDiv:C,pageIndex:q,viewport:Y,enhanceTextSelection:se,eventBus:he,highlighter:ge})}},E.DefaultXfaLayerFactory=class P{createXfaLayerBuilder(C,q,Y=null,se=null){return new g.XfaLayerBuilder({pageDiv:C,pdfPage:q,annotationStorage:Y,linkService:new F.SimpleLinkService,xfaHtml:se})}}},(ne,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.AnnotationLayerBuilder=void 0;var L=V(3),H=V(4);E.AnnotationLayerBuilder=class F{constructor({pageDiv:p,pdfPage:g,linkService:w,downloadManager:R,annotationStorage:A=null,imageResourcesPath:P="",renderForms:D=!0,l10n:C=H.NullL10n,enableScripting:q=!1,hasJSActionsPromise:Y=null,fieldObjectsPromise:se=null,mouseState:he=null,annotationCanvasMap:ge=null}){this.pageDiv=p,this.pdfPage=g,this.linkService=w,this.downloadManager=R,this.imageResourcesPath=P,this.renderForms=D,this.l10n=C,this.annotationStorage=A,this.enableScripting=q,this._hasJSActionsPromise=Y,this._fieldObjectsPromise=se,this._mouseState=he,this._annotationCanvasMap=ge,this.div=null,this._cancelled=!1}render(p,g="display"){var w=this;return M(function*(){const[R,A=!1,P=null]=yield Promise.all([w.pdfPage.getAnnotations({intent:g}),w._hasJSActionsPromise,w._fieldObjectsPromise]);if(w._cancelled||0===R.length)return;const D={viewport:p.clone({dontFlip:!0}),div:w.div,annotations:R,page:w.pdfPage,imageResourcesPath:w.imageResourcesPath,renderForms:w.renderForms,linkService:w.linkService,downloadManager:w.downloadManager,annotationStorage:w.annotationStorage,enableScripting:w.enableScripting,hasJSActions:A,fieldObjects:P,mouseState:w._mouseState,annotationCanvasMap:w._annotationCanvasMap};w.div?L.AnnotationLayer.update(D):(w.div=document.createElement("div"),w.div.className="annotationLayer",w.pageDiv.appendChild(w.div),D.div=w.div,L.AnnotationLayer.render(D),w.l10n.translate(w.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},ne=>{let E;E=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:z(627),ne.exports=E},(ne,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.NullL10n=void 0,E.fixupLangCode=function F(g){return H[g?.toLowerCase()]||g},E.getL10nFallback=L;const V={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function L(g,w){switch(g){case"find_match_count":g=`find_match_count[${1===w.total?"one":"other"}]`;break;case"find_match_count_limit":g=`find_match_count_limit[${1===w.limit?"one":"other"}]`}return V[g]||""}const H={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};E.NullL10n={getLanguage:()=>M(function*(){return"en-us"})(),getDirection:()=>M(function*(){return"ltr"})(),get:(g,w=null,R=L(g,w))=>M(function*(){return function I(g,w){return w?g.replace(/\{\{\s*(\w+)\s*\}\}/g,(R,A)=>A in w?w[A]:"{{"+A+"}}"):g}(R,w)})(),translate:g=>M(function*(){})()}},(ne,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.SimpleLinkService=E.PDFLinkService=E.LinkTarget=void 0;var L=V(6);const F={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function I(D,{url:C,target:q,rel:Y,enabled:se=!0}={}){if(!C||"string"!=typeof C)throw new Error('A valid "url" parameter must provided.');const he=(0,L.removeNullCharacters)(C);se?D.href=D.title=he:(D.href="",D.title=`Disabled: ${he}`,D.onclick=()=>!1);let ge="";switch(q){case F.NONE:break;case F.SELF:ge="_self";break;case F.BLANK:ge="_blank";break;case F.PARENT:ge="_parent";break;case F.TOP:ge="_top"}D.target=ge,D.rel="string"==typeof Y?Y:"noopener noreferrer nofollow"}E.LinkTarget=F;var p=new WeakMap,g=new WeakSet;class w{constructor({eventBus:C,externalLinkTarget:q=null,externalLinkRel:Y=null,ignoreDestinationZoom:se=!1}={}){U(this,g),j(this,p,{writable:!0,value:new Map}),this.eventBus=C,this.externalLinkTarget=q,this.externalLinkRel=Y,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=se,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(C,q=null){this.baseUrl=q,this.pdfDocument=C,O(this,p).clear()}setViewer(C){this.pdfViewer=C}setHistory(C){this.pdfHistory=C}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(C){this.pdfViewer.currentPageNumber=C}get rotation(){return this.pdfViewer.pagesRotation}set rotation(C){this.pdfViewer.pagesRotation=C}goToDestination(C){var q=this;return M(function*(){if(!q.pdfDocument)return;let Y,se;"string"==typeof C?(Y=C,se=yield q.pdfDocument.getDestination(C)):(Y=null,se=yield C),Array.isArray(se)?N(q,g,R).call(q,C,Y,se):console.error(`PDFLinkService.goToDestination: "${se}" is not a valid destination array, for dest="${C}".`)})()}goToPage(C){if(!this.pdfDocument)return;const q="string"==typeof C&&this.pdfViewer.pageLabelToPageNumber(C)||0|C;Number.isInteger(q)&&q>0&&q<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(q)),this.pdfViewer.scrollPageIntoView({pageNumber:q})):console.error(`PDFLinkService.goToPage: "${C}" is not a valid page.`)}addLinkAttributes(C,q,Y=!1){I(C,{url:q,target:Y?F.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(C){if("string"==typeof C){if(C.length>0)return this.getAnchorUrl("#"+escape(C))}else if(Array.isArray(C)){const q=JSON.stringify(C);if(q.length>0)return this.getAnchorUrl("#"+escape(q))}return this.getAnchorUrl("")}getAnchorUrl(C){return(this.baseUrl||"")+C}setHash(C){if(!this.pdfDocument)return;let q,Y;if(C.includes("=")){const se=(0,L.parseQueryString)(C);if(se.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:se.get("search").replace(/"/g,""),phraseSearch:"true"===se.get("phrase")}),se.has("page")&&(q=0|se.get("page")||1),se.has("zoom")){const he=se.get("zoom").split(","),ge=he[0],_e=parseFloat(ge);ge.includes("Fit")?"Fit"===ge||"FitB"===ge?Y=[null,{name:ge}]:"FitH"===ge||"FitBH"===ge||"FitV"===ge||"FitBV"===ge?Y=[null,{name:ge},he.length>1?0|he[1]:null]:"FitR"===ge?5!==he.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):Y=[null,{name:ge},0|he[1],0|he[2],0|he[3],0|he[4]]:console.error(`PDFLinkService.setHash: "${ge}" is not a valid zoom value.`):Y=[null,{name:"XYZ"},he.length>1?0|he[1]:null,he.length>2?0|he[2]:null,_e?_e/100:ge]}Y?this.pdfViewer.scrollPageIntoView({pageNumber:q||this.page,destArray:Y,allowNegativeOffset:!0}):q&&(this.page=q),se.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:se.get("pagemode")}),se.has("nameddest")&&this.goToDestination(se.get("nameddest"))}else{Y=unescape(C);try{Y=JSON.parse(Y),Array.isArray(Y)||(Y=Y.toString())}catch{}if("string"==typeof Y||ie(w,w,A).call(w,Y))return void this.goToDestination(Y);console.error(`PDFLinkService.setHash: "${unescape(C)}" is not a valid destination.`)}}executeNamedAction(C){switch(C){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:C})}cachePageRef(C,q){if(!q)return;const Y=0===q.gen?`${q.num}R`:`${q.num}R${q.gen}`;O(this,p).set(Y,C)}_cachedPageNumber(C){if(!C)return null;const q=0===C.gen?`${C.num}R`:`${C.num}R${C.gen}`;return O(this,p).get(q)||null}isPageVisible(C){return this.pdfViewer.isPageVisible(C)}isPageCached(C){return this.pdfViewer.isPageCached(C)}}function R(D,C=null,q){const Y=q[0];let se;if("object"==typeof Y&&null!==Y){if(se=this._cachedPageNumber(Y),!se)return void this.pdfDocument.getPageIndex(Y).then(he=>{this.cachePageRef(he+1,Y),N(this,g,R).call(this,D,C,q)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${Y}" is not a valid page reference, for dest="${D}".`)})}else{if(!Number.isInteger(Y))return void console.error(`PDFLinkService.#goToDestinationHelper: "${Y}" is not a valid destination reference, for dest="${D}".`);se=Y+1}!se||se<1||se>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${se}" is not a valid page number, for dest="${D}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:C,explicitDest:q,pageNumber:se})),this.pdfViewer.scrollPageIntoView({pageNumber:se,destArray:q,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function A(D){if(!Array.isArray(D))return!1;const C=D.length;if(C<2)return!1;const q=D[0];if(!("object"==typeof q&&Number.isInteger(q.num)&&Number.isInteger(q.gen)||Number.isInteger(q)&&q>=0))return!1;const Y=D[1];if("object"!=typeof Y||"string"!=typeof Y.name)return!1;let se=!0;switch(Y.name){case"XYZ":if(5!==C)return!1;break;case"Fit":case"FitB":return 2===C;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==C)return!1;break;case"FitR":if(6!==C)return!1;se=!1;break;default:return!1}for(let he=2;he<C;he++){const ge=D[he];if(!("number"==typeof ge||se&&null===ge))return!1}return!0}E.PDFLinkService=w,E.SimpleLinkService=class P{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(C){}get rotation(){return 0}set rotation(C){}goToDestination(C){return M(function*(){})()}goToPage(C){}addLinkAttributes(C,q,Y=!1){I(C,{url:q,enabled:this.externalLinkEnabled})}getDestinationHash(C){return"#"}getAnchorUrl(C){return"#"}setHash(C){}executeNamedAction(C){}cachePageRef(C,q){}isPageVisible(C){return!0}isPageCached(C){return!0}}},(ne,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.animationStarted=E.VERTICAL_PADDING=E.UNKNOWN_SCALE=E.TextLayerMode=E.SpreadMode=E.SidebarView=E.ScrollMode=E.SCROLLBAR_PADDING=E.RenderingStates=E.RendererType=E.ProgressBar=E.PresentationModeState=E.OutputScale=E.MIN_SCALE=E.MAX_SCALE=E.MAX_AUTO_SCALE=E.DEFAULT_SCALE_VALUE=E.DEFAULT_SCALE_DELTA=E.DEFAULT_SCALE=E.AutoPrintRegExp=void 0,E.apiPageLayoutToViewerModes=function lt(Ae){let He=Y.VERTICAL,Ze=se.NONE;switch(Ae){case"SinglePage":He=Y.PAGE;break;case"OneColumn":break;case"TwoPageLeft":He=Y.PAGE;case"TwoColumnLeft":Ze=se.ODD;break;case"TwoPageRight":He=Y.PAGE;case"TwoColumnRight":Ze=se.EVEN}return{scrollMode:He,spreadMode:Ze}},E.apiPageModeToSidebarView=function Xe(Ae){switch(Ae){case"UseNone":return D.NONE;case"UseThumbs":return D.THUMBS;case"UseOutlines":return D.OUTLINE;case"UseAttachments":return D.ATTACHMENTS;case"UseOC":return D.LAYERS}return D.NONE},E.approximateFraction=function m(Ae){if(Math.floor(Ae)===Ae)return[Ae,1];const He=1/Ae;if(He>8)return[1,8];if(Math.floor(He)===He)return[1,He];const Ce=Ae>1?He:Ae;let le,X=0,pe=1,Fe=1,je=1;for(;;){const Z=X+Fe,re=pe+je;if(re>8)break;Ce<=Z/re?(Fe=Z,je=re):(X=Z,pe=re)}return le=Ce-X/pe<Fe/je-Ce?Ce===Ae?[X,pe]:[pe,X]:Ce===Ae?[Fe,je]:[je,Fe],le},E.backtrackBeforeAllVisibleElements=T,E.binarySearchFirstItem=u,E.getActiveOrFocusedElement=function pt(){let Ae=document,He=Ae.activeElement||Ae.querySelector(":focus");for(;He?.shadowRoot;)Ae=He.shadowRoot,He=Ae.activeElement||Ae.querySelector(":focus");return He},E.getPageSizeInches=function S({view:Ae,userUnit:He,rotate:Ze}){const[Ce,X,pe,Fe]=Ae,je=Ze%180!=0,le=(pe-Ce)/72*He,Z=(Fe-X)/72*He;return{width:je?Z:le,height:je?le:Z}},E.getVisibleElements=function x({scrollEl:Ae,views:He,sortByVisibility:Ze=!1,horizontal:Ce=!1,rtl:X=!1}){const pe=Ae.scrollTop,Fe=pe+Ae.clientHeight,je=Ae.scrollLeft,le=je+Ae.clientWidth,Te=[],et=new Set,xt=He.length;let De=u(He,Ce?function re(Ge){const gt=Ge.div,it=gt.offsetLeft+gt.clientLeft;return X?it<le:it+gt.clientWidth>je}:function Z(Ge){const gt=Ge.div;return gt.offsetTop+gt.clientTop+gt.clientHeight>pe});De>0&&De<xt&&!Ce&&(De=T(De,He,pe));let Oe=Ce?le:-1;for(let Ge=De;Ge<xt;Ge++){const gt=He[Ge],it=gt.div,yt=it.offsetLeft+it.clientLeft,Lt=it.offsetTop+it.clientTop,Xt=it.clientWidth,pn=it.clientHeight,Ei=yt+Xt,Fn=Lt+pn;if(-1===Oe)Fn>=Fe&&(Oe=Fn);else if((Ce?yt:Lt)>Oe)break;if(Fn<=pe||Lt>=Fe||Ei<=je||yt>=le)continue;const gi=Math.max(0,pe-Lt)+Math.max(0,Fn-Fe),ai=(Xt-(Math.max(0,je-yt)+Math.max(0,Ei-le)))/Xt;Te.push({id:gt.id,x:yt,y:Lt,view:gt,percent:(pn-gi)/pn*ai*100|0,widthPercent:100*ai|0}),et.add(gt.id)}const st=Te[0],at=Te[Te.length-1];return Ze&&Te.sort(function(Ge,gt){const it=Ge.percent-gt.percent;return Math.abs(it)>.001?-it:Ge.id-gt.id}),{first:st,last:at,views:Te,ids:et}},E.isPortraitOrientation=function xe(Ae){return Ae.width<=Ae.height},E.isValidRotation=function fe(Ae){return Number.isInteger(Ae)&&Ae%90==0},E.isValidScrollMode=function ce(Ae){return Number.isInteger(Ae)&&Object.values(Y).includes(Ae)&&Ae!==Y.UNKNOWN},E.isValidSpreadMode=function ye(Ae){return Number.isInteger(Ae)&&Object.values(se).includes(Ae)&&Ae!==se.UNKNOWN},E.noContextMenuHandler=function Q(Ae){Ae.preventDefault()},E.normalizeWheelEventDelta=function te(Ae){let He=ue(Ae);return 0===Ae.deltaMode?He/=900:1===Ae.deltaMode&&(He/=30),He},E.normalizeWheelEventDirection=ue,E.parseQueryString=function Ne(Ae){const He=new Map;for(const[Ze,Ce]of new URLSearchParams(Ae))He.set(Ze.toLowerCase(),Ce);return He},E.removeNullCharacters=function _(Ae,He=!1){return"string"!=typeof Ae?(console.error("The argument must be a string."),Ae):(He&&(Ae=Ae.replace(K," ")),Ae.replace(Le,""))},E.roundToDivide=function y(Ae,He){const Ze=Ae%He;return 0===Ze?Ae:Math.round(Ae-Ze+He)},E.scrollIntoView=function _e(Ae,He,Ze=!1){let Ce=Ae.offsetParent;if(!Ce)return void console.error("offsetParent is not set -- cannot scroll");let X=Ae.offsetTop+Ae.clientTop,pe=Ae.offsetLeft+Ae.clientLeft;for(;Ce.clientHeight===Ce.scrollHeight&&Ce.clientWidth===Ce.scrollWidth||Ze&&(Ce.classList.contains("markedContent")||"hidden"===getComputedStyle(Ce).overflow);)if(X+=Ce.offsetTop,pe+=Ce.offsetLeft,Ce=Ce.offsetParent,!Ce)return;He&&(void 0!==He.top&&(X+=He.top),void 0!==He.left&&(pe+=He.left,Ce.scrollLeft=pe)),Ce.scrollTop=X},E.watchScroll=function ve(Ae,He){const Ze=function(pe){X||(X=window.requestAnimationFrame(function(){X=null;const je=Ae.scrollLeft,le=Ce.lastX;je!==le&&(Ce.right=je>le),Ce.lastX=je;const Z=Ae.scrollTop,re=Ce.lastY;Z!==re&&(Ce.down=Z>re),Ce.lastY=Z,He(Ce)}))},Ce={right:!0,down:!0,lastX:Ae.scrollLeft,lastY:Ae.scrollTop,_eventHandler:Ze};let X=null;return Ae.addEventListener("scroll",Ze,!0),Ce},E.DEFAULT_SCALE_VALUE="auto",E.DEFAULT_SCALE=1,E.DEFAULT_SCALE_DELTA=1.1,E.MIN_SCALE=.1,E.MAX_SCALE=10,E.UNKNOWN_SCALE=0,E.MAX_AUTO_SCALE=1.25,E.SCROLLBAR_PADDING=40,E.VERTICAL_PADDING=5,E.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},E.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const D={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};E.SidebarView=D,E.RendererType={CANVAS:"canvas",SVG:"svg"},E.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const Y={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};E.ScrollMode=Y;const se={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};E.SpreadMode=se,E.AutoPrintRegExp=/\bprint\s*\(/,E.OutputScale=class ge{constructor(){const He=window.devicePixelRatio||1;this.sx=He,this.sy=He}get scaled(){return 1!==this.sx||1!==this.sy}};const Le=/\x00/g,K=/[\x01-\x1F]/g;function u(Ae,He,Ze=0){let Ce=Ze,X=Ae.length-1;if(X<0||!He(Ae[X]))return Ae.length;if(He(Ae[Ce]))return Ce;for(;Ce<X;){const pe=Ce+X>>1;He(Ae[pe])?X=pe:Ce=pe+1}return Ce}function T(Ae,He,Ze){if(Ae<2)return Ae;let Ce=He[Ae].div,X=Ce.offsetTop+Ce.clientTop;X>=Ze&&(Ce=He[Ae-1].div,X=Ce.offsetTop+Ce.clientTop);for(let pe=Ae-2;pe>=0&&(Ce=He[pe].div,!(Ce.offsetTop+Ce.clientTop+Ce.clientHeight<=X));--pe)Ae=pe;return Ae}function ue(Ae){let He=Math.hypot(Ae.deltaX,Ae.deltaY);const Ze=Math.atan2(Ae.deltaY,Ae.deltaX);return-.25*Math.PI<Ze&&Ze<.75*Math.PI&&(He=-He),He}const Ve=new Promise(function(Ae){window.requestAnimationFrame(Ae)});E.animationStarted=Ve;var tt=new WeakSet;function Pe(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}E.ProgressBar=class qe{constructor(He){if(U(this,tt),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(He+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(He){this._indeterminate=isNaN(He),this._percent=function Ye(Ae,He,Ze){return Math.min(Math.max(Ae,He),Ze)}(He,0,100),N(this,tt,Pe).call(this)}setWidth(He){if(!He)return;const Ce=He.parentNode.offsetWidth-He.offsetWidth;Ce>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${Ce}px`)}hide(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(ne,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.StructTreeLayerBuilder=void 0;const V={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},L=/^H(\d+)$/;E.StructTreeLayerBuilder=class H{constructor({pdfPage:I}){this.pdfPage=I}render(I){return this._walk(I)}_setAttributes(I,p){void 0!==I.alt&&p.setAttribute("aria-label",I.alt),void 0!==I.id&&p.setAttribute("aria-owns",I.id),void 0!==I.lang&&p.setAttribute("lang",I.lang)}_walk(I){if(!I)return null;const p=document.createElement("span");if("role"in I){const{role:g}=I,w=g.match(L);w?(p.setAttribute("role","heading"),p.setAttribute("aria-level",w[1])):V[g]&&p.setAttribute("role",V[g])}if(this._setAttributes(I,p),I.children)if(1===I.children.length&&"id"in I.children[0])this._setAttributes(I.children[0],p);else for(const g of I.children)p.appendChild(this._walk(g));return p}}},(ne,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.TextLayerBuilder=void 0;var L=V(3);E.TextLayerBuilder=class F{constructor({textLayerDiv:p,eventBus:g,pageIndex:w,viewport:R,highlighter:A=null,enhanceTextSelection:P=!1}){this.textLayerDiv=p,this.eventBus=g,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=w+1,this.viewport=R,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=A,this.enhanceTextSelection=P,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const p=document.createElement("div");p.className="endOfContent",this.textLayerDiv.appendChild(p)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(p=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const g=document.createDocumentFragment();this.textLayerRenderTask=(0,L.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:g,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:p,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(g),this._finishRendering(),this.highlighter?.enable()},function(w){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(p){this.cancel(),this.textContentStream=p}setTextContent(p){this.cancel(),this.textContent=p}_bindMouse(){const p=this.textLayerDiv;let g=null;p.addEventListener("mousedown",w=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(g&&(clearTimeout(g),g=null));const R=p.querySelector(".endOfContent");if(!R)return;let A=w.target!==p;if(A=A&&"none"!==window.getComputedStyle(R).getPropertyValue("-moz-user-select"),A){const P=p.getBoundingClientRect(),D=Math.max(0,(w.pageY-P.top)/P.height);R.style.top=(100*D).toFixed(2)+"%"}R.classList.add("active")}),p.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(g=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),g=null},300));const w=p.querySelector(".endOfContent");w&&(w.style.top="",w.classList.remove("active"))})}}},(ne,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.XfaLayerBuilder=void 0;var L=V(3);E.XfaLayerBuilder=class H{constructor({pageDiv:I,pdfPage:p,annotationStorage:g=null,linkService:w,xfaHtml:R=null}){this.pageDiv=I,this.pdfPage=p,this.annotationStorage=g,this.linkService=w,this.xfaHtml=R,this.div=null,this._cancelled=!1}render(I,p="display"){if("print"===p){const g={viewport:I.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:p},w=document.createElement("div");this.pageDiv.appendChild(w),g.div=w;const R=L.XfaLayer.render(g);return Promise.resolve(R)}return this.pdfPage.getXfa().then(g=>{if(this._cancelled||!g)return{textDivs:[]};const w={viewport:I.clone({dontFlip:!0}),div:this.div,xfaHtml:g,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:p};return this.div?L.XfaLayer.update(w):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),w.div=this.div,L.XfaLayer.render(w))}).catch(g=>{console.error(g)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(ne,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFViewer=E.PDFSinglePageViewer=void 0;var L=V(6),H=V(11);E.PDFViewer=class F extends H.BaseViewer{},E.PDFSinglePageViewer=class I extends H.BaseViewer{_resetView(){super._resetView(),this._scrollMode=L.ScrollMode.PAGE,this._spreadMode=L.SpreadMode.NONE}set scrollMode(g){}_updateScrollMode(){}set spreadMode(g){}_updateSpreadMode(){}}},(ne,E,V)=>{let L;Object.defineProperty(E,"__esModule",{value:!0}),E.PagesCountLimit=E.PDFPageViewBuffer=E.BaseViewer=void 0;var H=V(3),F=V(6),I=V(2),p=V(4),g=V(12),w=V(14),R=V(5),A=V(7),P=V(15),D=V(8),C=V(9);const Y="enablePermissions",se={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};E.PagesCountLimit=se;var he=new WeakMap,ge=new WeakMap,_e=new WeakSet;L=Symbol.iterator;class ve{constructor(X){U(this,_e),j(this,he,{writable:!0,value:new Set}),j(this,ge,{writable:!0,value:0}),h(this,ge,X)}push(X){const pe=O(this,he);pe.has(X)&&pe.delete(X),pe.add(X),pe.size>O(this,ge)&&N(this,_e,Ne).call(this)}resize(X,pe=null){h(this,ge,X);const Fe=O(this,he);if(pe){const je=Fe.size;let le=1;for(const Z of Fe)if(pe.has(Z.id)&&(Fe.delete(Z),Fe.add(Z)),++le>je)break}for(;Fe.size>O(this,ge);)N(this,_e,Ne).call(this)}has(X){return O(this,he).has(X)}[L](){return O(this,he).keys()}}function Ne(){const Ce=O(this,he).keys().next().value;Ce?.destroy(),O(this,he).delete(Ce)}E.PDFPageViewBuffer=ve;var Le=new WeakMap,K=new WeakMap,_=new WeakMap,u=new WeakMap,m=new WeakMap,y=new WeakMap,S=new WeakMap,T=new WeakSet,x=new WeakSet,Q=new WeakSet,ue=new WeakSet,te=new WeakSet,fe=new WeakSet,ce=new WeakSet,ye=new WeakSet,xe=new WeakSet;class Ve{constructor(X){if(U(this,xe),U(this,ye),U(this,ce),U(this,fe),U(this,te),U(this,ue),U(this,Q),U(this,x),U(this,T),j(this,Le,{writable:!0,value:null}),j(this,K,{writable:!0,value:H.AnnotationMode.ENABLE_FORMS}),j(this,_,{writable:!0,value:null}),j(this,u,{writable:!0,value:!1}),j(this,m,{writable:!0,value:0}),j(this,y,{writable:!0,value:null}),j(this,S,{writable:!0,value:null}),this.constructor===Ve)throw new Error("Cannot initialize BaseViewer.");const pe="2.14.305";if(H.version!==pe)throw new Error(`The API version "${H.version}" does not match the Viewer version "${pe}".`);if(this.container=X.container,this.viewer=X.viewer||X.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=X.eventBus,this.linkService=X.linkService||new R.SimpleLinkService,this.downloadManager=X.downloadManager||null,this.findController=X.findController||null,this._scriptingManager=X.scriptingManager||null,this.removePageBorders=X.removePageBorders||!1,this.textLayerMode=X.textLayerMode??F.TextLayerMode.ENABLE,h(this,K,X.annotationMode??H.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=X.imageResourcesPath||"",this.enablePrintAutoRotate=X.enablePrintAutoRotate||!1,this.renderer=X.renderer||F.RendererType.CANVAS,this.useOnlyCssZoom=X.useOnlyCssZoom||!1,this.maxCanvasPixels=X.maxCanvasPixels,this.l10n=X.l10n||p.NullL10n,h(this,u,X.enablePermissions||!1),this.pageColors=X.pageColors||null,X.pageColors&&(!CSS.supports("color",X.pageColors.background)||!CSS.supports("color",X.pageColors.foreground))&&((X.pageColors.background||X.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!X.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new w.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=X.renderingQueue,this._doc=document.documentElement,this.scroll=(0,F.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=F.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(X){return this._pages[X]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(X){return X?.pdfPage})}get renderForms(){return O(this,K)===H.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(X){if(!Number.isInteger(X))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(X,!0)||console.error(`currentPageNumber: "${X}" is not a valid page.`))}_setCurrentPageNumber(X,pe=!1){if(this._currentPageNumber===X)return pe&&N(this,fe,lt).call(this),!0;if(!(0<X&&X<=this.pagesCount))return!1;const Fe=this._currentPageNumber;return this._currentPageNumber=X,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:X,pageLabel:this._pageLabels?.[X-1]??null,previous:Fe}),pe&&N(this,fe,lt).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(X){if(!this.pdfDocument)return;let pe=0|X;if(this._pageLabels){const Fe=this._pageLabels.indexOf(X);Fe>=0&&(pe=Fe+1)}this._setCurrentPageNumber(pe,!0)||console.error(`currentPageLabel: "${X}" is not a valid page.`)}get currentScale(){return this._currentScale!==F.UNKNOWN_SCALE?this._currentScale:F.DEFAULT_SCALE}set currentScale(X){if(isNaN(X))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(X,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(X){this.pdfDocument&&this._setScale(X,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(X){if(!(0,F.isValidRotation)(X))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((X%=360)<0&&(X+=360),this._pagesRotation===X))return;this._pagesRotation=X;const pe=this._currentPageNumber,Fe={rotation:X};for(const je of this._pages)je.update(Fe);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:X,pageNumber:pe}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(X){var pe=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=X,!X)return;const Fe=X.isPureXfa,je=X.numPages,le=X.getPage(1),Z=X.getOptionalContentConfig(),re=O(this,u)?X.getPermissions():Promise.resolve();if(je>se.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Te=this._scrollMode=F.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Te})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:je})},()=>{}),this._onBeforeDraw=Te=>{const et=this._pages[Te.pageNumber-1];et&&O(this,Le).push(et)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Te=>{Te.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Te.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,O(this,S)&&(document.removeEventListener("visibilitychange",O(this,S)),h(this,S,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([le,re]).then(([Te,et])=>{if(X!==this.pdfDocument)return;this._firstPageCapability.resolve(Te),this._optionalContentConfigPromise=Z,N(this,T,Ye).call(this,et);const xt=this._scrollMode===F.ScrollMode.PAGE?null:this.viewer,De=this.currentScale,Oe=Te.getViewport({scale:De*H.PixelsPerInch.PDF_TO_CSS_UNITS}),st=this.textLayerMode===F.TextLayerMode.DISABLE||Fe?null:this,at=O(this,K)!==H.AnnotationMode.DISABLE?this:null,Ge=Fe?this:null;for(let it=1;it<=je;++it){const yt=new g.PDFPageView({container:xt,eventBus:this.eventBus,id:it,scale:De,defaultViewport:Oe.clone(),optionalContentConfigPromise:Z,renderingQueue:this.renderingQueue,textLayerFactory:st,textLayerMode:this.textLayerMode,annotationLayerFactory:at,annotationMode:O(this,K),xfaLayerFactory:Ge,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(yt)}const gt=this._pages[0];gt&&(gt.setPdfPage(Te),this.linkService.cachePageRef(1,Te.ref)),this._scrollMode===F.ScrollMode.PAGE?N(this,Q,qe).call(this):this._spreadMode!==F.SpreadMode.NONE&&this._updateSpreadMode(),N(this,x,tt).call(this).then(M(function*(){if(pe.findController&&pe.findController.setDocument(X),pe._scriptingManager&&pe._scriptingManager.setDocument(X),X.loadingParams.disableAutoFetch||je>se.FORCE_LAZY_PAGE_INIT)return void pe._pagesCapability.resolve();let it=je-1;if(it<=0)pe._pagesCapability.resolve();else for(let yt=2;yt<=je;++yt){const Lt=X.getPage(yt).then(Xt=>{const pn=pe._pages[yt-1];pn.pdfPage||pn.setPdfPage(Xt),pe.linkService.cachePageRef(yt,Xt.ref),0==--it&&pe._pagesCapability.resolve()},Xt=>{console.error(`Unable to get page ${yt} to initialize viewer`,Xt),0==--it&&pe._pagesCapability.resolve()});yt%se.PAUSE_EAGER_PAGE_INIT==0&&(yield Lt)}})),this.eventBus.dispatch("pagesinit",{source:this}),X.getMetadata().then(({info:it})=>{X===this.pdfDocument&&it.Language&&(this.viewer.lang=it.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Te=>{console.error("Unable to initialize viewer",Te),this._pagesCapability.reject(Te)})}setPageLabels(X){if(this.pdfDocument){X?Array.isArray(X)&&this.pdfDocument.numPages===X.length?this._pageLabels=X:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let pe=0,Fe=this._pages.length;pe<Fe;pe++)this._pages[pe].setPageLabel(this._pageLabels?.[pe]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=F.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,h(this,Le,new ve(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,H.createPromiseCapability)(),this._onePageRenderedCapability=(0,H.createPromiseCapability)(),this._pagesCapability=(0,H.createPromiseCapability)(),this._scrollMode=F.ScrollMode.VERTICAL,this._previousScrollMode=F.ScrollMode.UNKNOWN,this._spreadMode=F.SpreadMode.NONE,h(this,y,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),O(this,S)&&(document.removeEventListener("visibilitychange",O(this,S)),h(this,S,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(Y),null!==O(this,_)&&(h(this,K,O(this,_)),h(this,_,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(X,pe,Fe=!1,je=!1){if(this._currentScaleValue=pe.toString(),N(this,te,pt).call(this,X))return void(je&&this.eventBus.dispatch("scalechanging",{source:this,scale:X,presetValue:pe}));this._doc.style.setProperty("--zoom-factor",X);const le={scale:X};for(const Z of this._pages)Z.update(le);if(this._currentScale=X,!Fe){let re,Z=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Z=this._location.pageNumber,re=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Z,destArray:re,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:X,presetValue:je?pe:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==F.SpreadMode.NONE&&this._scrollMode!==F.ScrollMode.HORIZONTAL?2:1}_setScale(X,pe=!1){let Fe=parseFloat(X);if(Fe>0)this._setScaleUpdatePages(Fe,X,pe,!1);else{const je=this._pages[this._currentPageNumber-1];if(!je)return;let le=F.SCROLLBAR_PADDING,Z=F.VERTICAL_PADDING;this.isInPresentationMode?le=Z=4:this.removePageBorders?le=Z=0:this._scrollMode===F.ScrollMode.HORIZONTAL&&([le,Z]=[Z,le]);const re=(this.container.clientWidth-le)/je.width*je.scale/this._pageWidthScaleFactor,Te=(this.container.clientHeight-Z)/je.height*je.scale;switch(X){case"page-actual":Fe=1;break;case"page-width":Fe=re;break;case"page-height":Fe=Te;break;case"page-fit":Fe=Math.min(re,Te);break;case"auto":const et=(0,F.isPortraitOrientation)(je)?re:Math.min(Te,re);Fe=Math.min(F.MAX_AUTO_SCALE,et);break;default:return void console.error(`_setScale: "${X}" is an unknown zoom value.`)}this._setScaleUpdatePages(Fe,X,pe,!0)}}pageLabelToPageNumber(X){if(!this._pageLabels)return null;const pe=this._pageLabels.indexOf(X);return pe<0?null:pe+1}scrollPageIntoView({pageNumber:X,destArray:pe=null,allowNegativeOffset:Fe=!1,ignoreDestinationZoom:je=!1}){if(!this.pdfDocument)return;const le=Number.isInteger(X)&&this._pages[X-1];if(!le)return void console.error(`scrollPageIntoView: "${X}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!pe)return void this._setCurrentPageNumber(X,!0);let xt,De,Z=0,re=0,Te=0,et=0;const Oe=le.rotation%180!=0,st=(Oe?le.height:le.width)/le.scale/H.PixelsPerInch.PDF_TO_CSS_UNITS,at=(Oe?le.width:le.height)/le.scale/H.PixelsPerInch.PDF_TO_CSS_UNITS;let Ge=0;switch(pe[1].name){case"XYZ":Z=pe[2],re=pe[3],Ge=pe[4],Z=null!==Z?Z:0,re=null!==re?re:at;break;case"Fit":case"FitB":Ge="page-fit";break;case"FitH":case"FitBH":re=pe[2],Ge="page-width",null===re&&this._location?(Z=this._location.left,re=this._location.top):("number"!=typeof re||re<0)&&(re=at);break;case"FitV":case"FitBV":Z=pe[2],Te=st,et=at,Ge="page-height";break;case"FitR":Z=pe[2],re=pe[3],Te=pe[4]-Z,et=pe[5]-re,xt=(this.container.clientWidth-(this.removePageBorders?0:F.SCROLLBAR_PADDING))/Te/H.PixelsPerInch.PDF_TO_CSS_UNITS,De=(this.container.clientHeight-(this.removePageBorders?0:F.VERTICAL_PADDING))/et/H.PixelsPerInch.PDF_TO_CSS_UNITS,Ge=Math.min(Math.abs(xt),Math.abs(De));break;default:return void console.error(`scrollPageIntoView: "${pe[1].name}" is not a valid destination type.`)}if(je||(Ge&&Ge!==this._currentScale?this.currentScaleValue=Ge:this._currentScale===F.UNKNOWN_SCALE&&(this.currentScaleValue=F.DEFAULT_SCALE_VALUE)),"page-fit"===Ge&&!pe[4])return void N(this,ue,Pe).call(this,le);const gt=[le.viewport.convertToViewportPoint(Z,re),le.viewport.convertToViewportPoint(Z+Te,re+et)];let it=Math.min(gt[0][0],gt[1][0]),yt=Math.min(gt[0][1],gt[1][1]);Fe||(it=Math.max(it,0),yt=Math.max(yt,0)),N(this,ue,Pe).call(this,le,{left:it,top:yt})}_updateLocation(X){const pe=this._currentScale,Fe=this._currentScaleValue,je=parseFloat(Fe)===pe?Math.round(1e4*pe)/100:Fe,le=X.id,re=this.container,Te=this._pages[le-1].getPagePoint(re.scrollLeft-X.x,re.scrollTop-X.y),et=Math.round(Te[0]),xt=Math.round(Te[1]);let De=`#page=${le}`;this.isInPresentationMode||(De+=`&zoom=${je},${et},${xt}`),this._location={pageNumber:le,scale:je,top:xt,left:et,rotation:this._pagesRotation,pdfOpenParams:De}}update(){const X=this._getVisiblePages(),pe=X.views,Fe=pe.length;if(0===Fe)return;const je=Math.max(10,2*Fe+1);O(this,Le).resize(je,X.ids),this.renderingQueue.renderHighestPriority(X);const le=this._spreadMode===F.SpreadMode.NONE&&(this._scrollMode===F.ScrollMode.PAGE||this._scrollMode===F.ScrollMode.VERTICAL),Z=this._currentPageNumber;let re=!1;for(const Te of pe){if(Te.percent<100)break;if(Te.id===Z&&le){re=!0;break}}this._setCurrentPageNumber(re?Z:pe[0].id),this._updateLocation(X.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(X){return this.container.contains(X)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===F.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===F.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const X=this._scrollMode===F.ScrollMode.PAGE?O(this,y).pages:this._pages,pe=this._scrollMode===F.ScrollMode.HORIZONTAL;return(0,F.getVisibleElements)({scrollEl:this.container,views:X,sortByVisibility:!0,horizontal:pe,rtl:pe&&this._isContainerRtl})}isPageVisible(X){return!!this.pdfDocument&&(Number.isInteger(X)&&X>0&&X<=this.pagesCount?this._getVisiblePages().ids.has(X):(console.error(`isPageVisible: "${X}" is not a valid page.`),!1))}isPageCached(X){if(!this.pdfDocument)return!1;if(!(Number.isInteger(X)&&X>0&&X<=this.pagesCount))return console.error(`isPageCached: "${X}" is not a valid page.`),!1;const pe=this._pages[X-1];return O(this,Le).has(pe)}cleanup(){for(const X of this._pages)X.renderingState!==F.RenderingStates.FINISHED&&X.reset()}_cancelRendering(){for(const X of this._pages)X.cancelRendering()}forceRendering(X){const pe=X||this._getVisiblePages(),Fe=N(this,ye,He).call(this,pe),le=this.renderingQueue.getHighestPriority(pe,this._pages,Fe,this._spreadMode!==F.SpreadMode.NONE&&this._scrollMode!==F.ScrollMode.HORIZONTAL);return N(this,xe,Ze).call(this,pe.ids),!!le&&(N(this,ce,Xe).call(this,le).then(()=>{this.renderingQueue.renderView(le)}),!0)}createTextLayerBuilder(X,pe,Fe,je=!1,le,Z){return new D.TextLayerBuilder({textLayerDiv:X,eventBus:le,pageIndex:pe,viewport:Fe,enhanceTextSelection:!this.isInPresentationMode&&je,highlighter:Z})}createTextHighlighter(X,pe){return new P.TextHighlighter({eventBus:pe,pageIndex:X,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(X,pe,Fe=null,je="",le=!0,Z=p.NullL10n,re=null,Te=null,et=null,xt=null,De=null){return new I.AnnotationLayerBuilder({pageDiv:X,pdfPage:pe,annotationStorage:Fe||this.pdfDocument?.annotationStorage,imageResourcesPath:je,renderForms:le,linkService:this.linkService,downloadManager:this.downloadManager,l10n:Z,enableScripting:re??this.enableScripting,hasJSActionsPromise:Te||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:xt||this.pdfDocument?.getFieldObjects(),mouseState:et||this._scriptingManager?.mouseState,annotationCanvasMap:De})}createXfaLayerBuilder(X,pe,Fe=null){return new C.XfaLayerBuilder({pageDiv:X,pdfPage:pe,annotationStorage:Fe||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(X){return new A.StructTreeLayerBuilder({pdfPage:X})}get hasEqualPageSizes(){const X=this._pages[0];for(let pe=1,Fe=this._pages.length;pe<Fe;++pe){const je=this._pages[pe];if(je.width!==X.width||je.height!==X.height)return!1}return!0}getPagesOverview(){return this._pages.map(X=>{const pe=X.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,F.isPortraitOrientation)(pe)?{width:pe.width,height:pe.height,rotation:pe.rotation}:{width:pe.height,height:pe.width,rotation:(pe.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(X){if(!(X instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${X}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=X;const pe={optionalContentConfigPromise:X};for(const Fe of this._pages)Fe.update(pe);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:X})}get scrollMode(){return this._scrollMode}set scrollMode(X){if(this._scrollMode!==X){if(!(0,F.isValidScrollMode)(X))throw new Error(`Invalid scroll mode: ${X}`);this.pagesCount>se.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=X,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:X}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(X=null){const pe=this._scrollMode,Fe=this.viewer;Fe.classList.toggle("scrollHorizontal",pe===F.ScrollMode.HORIZONTAL),Fe.classList.toggle("scrollWrapped",pe===F.ScrollMode.WRAPPED),this.pdfDocument&&X&&(pe===F.ScrollMode.PAGE?N(this,Q,qe).call(this):this._previousScrollMode===F.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(X,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(X){if(this._spreadMode!==X){if(!(0,F.isValidSpreadMode)(X))throw new Error(`Invalid spread mode: ${X}`);this._spreadMode=X,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:X}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(X=null){if(!this.pdfDocument)return;const pe=this.viewer,Fe=this._pages;if(this._scrollMode===F.ScrollMode.PAGE)N(this,Q,qe).call(this);else if(pe.textContent="",this._spreadMode===F.SpreadMode.NONE)for(const je of this._pages)pe.appendChild(je.div);else{const je=this._spreadMode-1;let le=null;for(let Z=0,re=Fe.length;Z<re;++Z)null===le?(le=document.createElement("div"),le.className="spread",pe.appendChild(le)):Z%2===je&&(le=le.cloneNode(!1),pe.appendChild(le)),le.appendChild(Fe[Z].div)}X&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(X,!0),this.update())}_getPageAdvance(X,pe=!1){switch(this._scrollMode){case F.ScrollMode.WRAPPED:{const{views:Fe}=this._getVisiblePages(),je=new Map;for(const{id:le,y:Z,percent:re,widthPercent:Te}of Fe){if(0===re||Te<100)continue;let et=je.get(Z);et||je.set(Z,et||=[]),et.push(le)}for(const le of je.values()){const Z=le.indexOf(X);if(-1===Z)continue;const re=le.length;if(1===re)break;if(pe)for(let Te=Z-1,et=0;Te>=et;Te--){const De=le[Te+1]-1;if(le[Te]<De)return X-De}else for(let Te=Z+1,et=re;Te<et;Te++){const De=le[Te-1]+1;if(le[Te]>De)return De-X}if(pe){const Te=le[0];if(Te<X)return X-Te+1}else{const Te=le[re-1];if(Te>X)return Te-X+1}break}break}case F.ScrollMode.HORIZONTAL:break;case F.ScrollMode.PAGE:case F.ScrollMode.VERTICAL:{if(this._spreadMode===F.SpreadMode.NONE)break;const Fe=this._spreadMode-1;if(pe&&X%2!==Fe)break;if(!pe&&X%2===Fe)break;const{views:je}=this._getVisiblePages(),le=pe?X-1:X+1;for(const{id:Z,percent:re,widthPercent:Te}of je)if(Z===le){if(re>0&&100===Te)return 2;break}break}}return 1}nextPage(){const X=this._currentPageNumber,pe=this.pagesCount;if(X>=pe)return!1;const Fe=this._getPageAdvance(X,!1)||1;return this.currentPageNumber=Math.min(X+Fe,pe),!0}previousPage(){const X=this._currentPageNumber;if(X<=1)return!1;const pe=this._getPageAdvance(X,!0)||1;return this.currentPageNumber=Math.max(X-pe,1),!0}increaseScale(X=1){let pe=this._currentScale;do{pe=(pe*F.DEFAULT_SCALE_DELTA).toFixed(2),pe=Math.ceil(10*pe)/10,pe=Math.min(F.MAX_SCALE,pe)}while(--X>0&&pe<F.MAX_SCALE);this.currentScaleValue=pe}decreaseScale(X=1){let pe=this._currentScale;do{pe=(pe/F.DEFAULT_SCALE_DELTA).toFixed(2),pe=Math.floor(10*pe)/10,pe=Math.max(F.MIN_SCALE,pe)}while(--X>0&&pe>F.MIN_SCALE);this.currentScaleValue=pe}updateContainerHeightCss(){const X=this.container.clientHeight;X!==O(this,m)&&(h(this,m,X),this._doc.style.setProperty("--viewer-container-height",`${X}px`))}}function Ye(Ce){Ce&&(Ce.includes(H.PermissionFlag.COPY)||this.viewer.classList.add(Y),!Ce.includes(H.PermissionFlag.MODIFY_ANNOTATIONS)&&!Ce.includes(H.PermissionFlag.FILL_INTERACTIVE_FORMS)&&O(this,K)===H.AnnotationMode.ENABLE_FORMS&&(h(this,_,O(this,K)),h(this,K,H.AnnotationMode.ENABLE)))}function tt(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const Ce=new Promise(X=>{h(this,S,()=>{"hidden"===document.visibilityState&&(X(),document.removeEventListener("visibilitychange",O(this,S)),h(this,S,null))}),document.addEventListener("visibilitychange",O(this,S))});return Promise.race([this._onePageRenderedCapability.promise,Ce])}function qe(){if(this._scrollMode!==F.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const Ce=this._currentPageNumber,X=O(this,y),pe=this.viewer;if(pe.textContent="",X.pages.length=0,this._spreadMode!==F.SpreadMode.NONE||this.isInPresentationMode){const Fe=new Set,je=this._spreadMode-1;-1===je?Fe.add(Ce-1):Ce%2!==je?(Fe.add(Ce-1),Fe.add(Ce)):(Fe.add(Ce-2),Fe.add(Ce-1));const le=document.createElement("div");if(le.className="spread",this.isInPresentationMode){const Z=document.createElement("div");Z.className="dummyPage",le.appendChild(Z)}for(const Z of Fe){const re=this._pages[Z];re&&(le.appendChild(re.div),X.pages.push(re))}pe.appendChild(le)}else{const Fe=this._pages[Ce-1];pe.appendChild(Fe.div),X.pages.push(Fe)}X.scrollDown=Ce>=X.previousPageNumber,X.previousPageNumber=Ce}function Pe(Ce,X=null){const{div:pe,id:Fe}=Ce;if(this._scrollMode===F.ScrollMode.PAGE&&(this._setCurrentPageNumber(Fe),N(this,Q,qe).call(this),this.update()),!X&&!this.isInPresentationMode){const je=pe.offsetLeft+pe.clientLeft,le=je+pe.clientWidth,{scrollLeft:Z,clientWidth:re}=this.container;(this._scrollMode===F.ScrollMode.HORIZONTAL||je<Z||le>Z+re)&&(X={left:0,top:0})}(0,F.scrollIntoView)(pe,X)}function pt(Ce){return Ce===this._currentScale||Math.abs(Ce-this._currentScale)<1e-15}function lt(){const Ce=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),N(this,ue,Pe).call(this,Ce)}function Xe(Ce){return Ae.apply(this,arguments)}function Ae(){return(Ae=M(function*(Ce){if(Ce.pdfPage)return Ce.pdfPage;try{const X=yield this.pdfDocument.getPage(Ce.id);return Ce.pdfPage||Ce.setPdfPage(X),this.linkService._cachedPageNumber?.(X.ref)||this.linkService.cachePageRef(Ce.id,X.ref),X}catch(X){return console.error("Unable to get page for page view",X),null}})).apply(this,arguments)}function He(Ce){if(1===Ce.first?.id)return!0;if(Ce.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case F.ScrollMode.PAGE:return O(this,y).scrollDown;case F.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function Ze(Ce){for(const X of Ce)this._pages[X-1]?.toggleLoadingIconSpinner(!0);for(const X of O(this,Le))Ce.has(X.id)||X.toggleLoadingIconSpinner(!1)}E.BaseViewer=Ve},(ne,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFPageView=void 0;var L=V(3),H=V(6),F=V(13),I=V(4);const p=F.compatibilityParams.maxCanvasPixels||16777216;var g=new WeakMap;E.PDFPageView=class w{constructor(A){j(this,g,{writable:!0,value:L.AnnotationMode.ENABLE_FORMS});const P=A.container,D=A.defaultViewport;this.id=A.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=A.scale||H.DEFAULT_SCALE,this.viewport=D,this.pdfPageRotate=D.rotation,this._optionalContentConfigPromise=A.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=A.textLayerMode??H.TextLayerMode.ENABLE,h(this,g,A.annotationMode??L.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=A.imageResourcesPath||"",this.useOnlyCssZoom=A.useOnlyCssZoom||!1,this.maxCanvasPixels=A.maxCanvasPixels||p,this.pageColors=A.pageColors||null,this.eventBus=A.eventBus,this.renderingQueue=A.renderingQueue,this.textLayerFactory=A.textLayerFactory,this.annotationLayerFactory=A.annotationLayerFactory,this.xfaLayerFactory=A.xfaLayerFactory,this.textHighlighter=A.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=A.structTreeLayerFactory,this.renderer=A.renderer||H.RendererType.CANVAS,this.l10n=A.l10n||I.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=H.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const C=document.createElement("div");C.className="page",C.style.width=Math.floor(this.viewport.width)+"px",C.style.height=Math.floor(this.viewport.height)+"px",C.setAttribute("data-page-number",this.id),C.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(q=>{C.setAttribute("aria-label",q)}),this.div=C,P?.appendChild(C)}setPdfPage(A){this.pdfPage=A,this.pdfPageRotate=A.rotate,this.viewport=A.getViewport({scale:this.scale*L.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var A=this;return M(function*(){let P=null;try{yield A.annotationLayer.render(A.viewport,"display")}catch(D){P=D}finally{A.eventBus.dispatch("annotationlayerrendered",{source:A,pageNumber:A.id,error:P})}})()}_renderXfaLayer(){var A=this;return M(function*(){let P=null;try{const D=yield A.xfaLayer.render(A.viewport,"display");A.textHighlighter&&A._buildXfaTextContentItems(D.textDivs)}catch(D){P=D}finally{A.eventBus.dispatch("xfalayerrendered",{source:A,pageNumber:A.id,error:P})}})()}_buildXfaTextContentItems(A){var P=this;return M(function*(){const D=yield P.pdfPage.getTextContent(),C=[];for(const q of D.items)C.push(q.str);P.textHighlighter.setTextMapping(A,C),P.textHighlighter.enable()})()}_resetZoomLayer(A=!1){if(!this.zoomLayer)return;const P=this.zoomLayer.firstChild;this.paintedViewportMap.delete(P),P.width=0,P.height=0,A&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:A=!1,keepAnnotationLayer:P=!1,keepXfaLayer:D=!1}={}){this.cancelRendering({keepAnnotationLayer:P,keepXfaLayer:D}),this.renderingState=H.RenderingStates.INITIAL;const C=this.div;C.style.width=Math.floor(this.viewport.width)+"px",C.style.height=Math.floor(this.viewport.height)+"px";const q=C.childNodes,Y=A&&this.zoomLayer||null,se=P&&this.annotationLayer?.div||null,he=D&&this.xfaLayer?.div||null;for(let ge=q.length-1;ge>=0;ge--){const _e=q[ge];switch(_e){case Y:case se:case he:continue}_e.remove()}C.removeAttribute("data-loaded"),se&&this.annotationLayer.hide(),he&&this.xfaLayer.hide(),Y||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(ge=>{this.loadingIconDiv?.setAttribute("aria-label",ge)}),C.appendChild(this.loadingIconDiv)}update({scale:A=0,rotation:P=null,optionalContentConfigPromise:D=null}){if(this.scale=A||this.scale,"number"==typeof P&&(this.rotation=P),D instanceof Promise&&(this._optionalContentConfigPromise=D),this.viewport=this.viewport.clone({scale:this.scale*L.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:Y}=document.documentElement;Y.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let q=!1;if(this.canvas&&this.maxCanvasPixels>0){const Y=this.outputScale;(Math.floor(this.viewport.width)*Y.sx|0)*(Math.floor(this.viewport.height)*Y.sy|0)>this.maxCanvasPixels&&(q=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&q)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:A=!1,keepXfaLayer:P=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!A||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!P||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:A,redrawAnnotationLayer:P=!1,redrawXfaLayer:D=!1}){const C=this.viewport.width,q=this.viewport.height,Y=this.div;A.style.width=A.parentNode.style.width=Y.style.width=Math.floor(C)+"px",A.style.height=A.parentNode.style.height=Y.style.height=Math.floor(q)+"px";const se=this.viewport.rotation-this.paintedViewportMap.get(A).rotation,he=Math.abs(se);let ge=1,_e=1;if((90===he||270===he)&&(ge=q/C,_e=C/q),A.style.transform=`rotate(${se}deg) scale(${ge}, ${_e})`,this.textLayer){const ve=this.textLayer.viewport,Le=Math.abs(this.viewport.rotation-ve.rotation);let K=C/ve.width;(90===Le||270===Le)&&(K=C/ve.height);const _=this.textLayer.textLayerDiv;let u,m;switch(Le){case 0:u=m=0;break;case 90:u=0,m="-"+_.style.height;break;case 180:u="-"+_.style.width,m="-"+_.style.height;break;case 270:u="-"+_.style.width,m=0;break;default:console.error("Bad rotation value.")}_.style.transform=`rotate(${Le}deg) scale(${K}) translate(${u}, ${m})`,_.style.transformOrigin="0% 0%"}P&&this.annotationLayer&&this._renderAnnotationLayer(),D&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(A,P){return this.viewport.convertToPdfPoint(A,P)}toggleLoadingIconSpinner(A=!1){this.loadingIconDiv?.classList.toggle("notVisible",!A)}draw(){var A=this;this.renderingState!==H.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:P,pdfPage:D}=this;if(!D)return this.renderingState=H.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=H.RenderingStates.RUNNING;const C=document.createElement("div");C.style.width=P.style.width,C.style.height=P.style.height,C.classList.add("canvasWrapper"),this.annotationLayer?.div?P.insertBefore(C,this.annotationLayer.div):P.appendChild(C);let q=null;if(this.textLayerMode!==H.TextLayerMode.DISABLE&&this.textLayerFactory){const _e=document.createElement("div");_e.className="textLayer",_e.style.width=C.style.width,_e.style.height=C.style.height,this.annotationLayer?.div?P.insertBefore(_e,this.annotationLayer.div):P.appendChild(_e),q=this.textLayerFactory.createTextLayerBuilder(_e,this.id-1,this.viewport,this.textLayerMode===H.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=q,O(this,g)!==L.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder(P,D,null,this.imageResourcesPath,O(this,g)===L.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap)),this.xfaLayer?.div&&P.appendChild(this.xfaLayer.div);let Y=null;this.renderingQueue&&(Y=_e=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=H.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=H.RenderingStates.RUNNING,_e()});_e()});const se=function(){var _e=M(function*(ve=null){if(he===A.paintTask&&(A.paintTask=null),ve instanceof L.RenderingCancelledException)A._renderError=null;else if(A._renderError=ve,A.renderingState=H.RenderingStates.FINISHED,A.loadingIconDiv&&(A.loadingIconDiv.remove(),delete A.loadingIconDiv),A._resetZoomLayer(!0),A.eventBus.dispatch("pagerendered",{source:A,pageNumber:A.id,cssTransform:!1,timestamp:performance.now(),error:A._renderError}),ve)throw ve});return function(){return _e.apply(this,arguments)}}(),he=this.renderer===H.RendererType.SVG?this.paintOnSvg(C):this.paintOnCanvas(C);he.onRenderContinue=Y,this.paintTask=he;const ge=he.promise.then(()=>se(null).then(()=>{if(q){const _e=D.streamTextContent({includeMarkedContent:!0});q.setTextContentStream(_e),q.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(_e){return se(_e)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(P,D,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=_e=>{_e.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(ve=>{if(!ve||!this.canvas)return;const Ne=this.structTreeLayer.render(ve);Ne.classList.add("structTree"),this.canvas.appendChild(Ne)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(D)),P.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),ge}paintOnCanvas(A){const P=(0,L.createPromiseCapability)(),D={promise:P.promise,onRenderContinue(_){_()},cancel(){K.cancel()}},C=this.viewport,q=document.createElement("canvas");q.hidden=!0;let Y=!0;const se=function(){Y&&(q.hidden=!1,Y=!1)};A.appendChild(q),this.canvas=q;const he=q.getContext("2d",{alpha:!1}),ge=this.outputScale=new H.OutputScale;if(this.useOnlyCssZoom){const _=C.clone({scale:L.PixelsPerInch.PDF_TO_CSS_UNITS});ge.sx*=_.width/C.width,ge.sy*=_.height/C.height}if(this.maxCanvasPixels>0){const u=Math.sqrt(this.maxCanvasPixels/(C.width*C.height));ge.sx>u||ge.sy>u?(ge.sx=u,ge.sy=u,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const _e=(0,H.approximateFraction)(ge.sx),ve=(0,H.approximateFraction)(ge.sy);q.width=(0,H.roundToDivide)(C.width*ge.sx,_e[0]),q.height=(0,H.roundToDivide)(C.height*ge.sy,ve[0]),q.style.width=(0,H.roundToDivide)(C.width,_e[1])+"px",q.style.height=(0,H.roundToDivide)(C.height,ve[1])+"px",this.paintedViewportMap.set(q,C);const Le={canvasContext:he,transform:ge.scaled?[ge.sx,0,0,ge.sy,0,0]:null,viewport:this.viewport,annotationMode:O(this,g),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},K=this.pdfPage.render(Le);return K.onContinue=function(_){se(),D.onRenderContinue?D.onRenderContinue(_):_()},K.promise.then(function(){se(),P.resolve()},function(_){se(),P.reject(_)}),D}paintOnSvg(A){let P=!1;const D=()=>{if(P)throw new L.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},C=this.pdfPage,q=this.viewport.clone({scale:L.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:C.getOperatorList({annotationMode:O(this,g)}).then(se=>(D(),new L.SVGGraphics(C.commonObjs,C.objs).getSVG(se,q).then(ge=>{D(),this.svg=ge,this.paintedViewportMap.set(ge,q),ge.style.width=A.style.width,ge.style.height=A.style.height,this.renderingState=H.RenderingStates.FINISHED,A.appendChild(ge)}))),onRenderContinue(se){se()},cancel(){P=!0}}}setPageLabel(A){this.pageLabel="string"==typeof A?A:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(ne,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.compatibilityParams=E.OptionKind=E.AppOptions=void 0;const V=Object.create(null);E.compatibilityParams=V;{const p=navigator.userAgent||"",g=navigator.platform||"",w=navigator.maxTouchPoints||1,R=/Android/.test(p);(/\b(iPad|iPhone|iPod)(?=;)/.test(p)||"MacIntel"===g&&w>1||R)&&(V.maxCanvasPixels=5242880)}const L={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};E.OptionKind=L;const H={annotationMode:{value:2,kind:L.VIEWER+L.PREFERENCE},cursorToolOnLoad:{value:0,kind:L.VIEWER+L.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:L.VIEWER},defaultZoomValue:{value:"",kind:L.VIEWER+L.PREFERENCE},disableHistory:{value:!1,kind:L.VIEWER},disablePageLabels:{value:!1,kind:L.VIEWER+L.PREFERENCE},enablePermissions:{value:!1,kind:L.VIEWER+L.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:L.VIEWER+L.PREFERENCE},enableScripting:{value:!0,kind:L.VIEWER+L.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:L.VIEWER},externalLinkTarget:{value:0,kind:L.VIEWER+L.PREFERENCE},historyUpdateUrl:{value:!1,kind:L.VIEWER+L.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:L.VIEWER+L.PREFERENCE},imageResourcesPath:{value:"./images/",kind:L.VIEWER},maxCanvasPixels:{value:16777216,compatibility:V.maxCanvasPixels,kind:L.VIEWER},pageColorsBackground:{value:"Canvas",kind:L.VIEWER+L.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:L.VIEWER+L.PREFERENCE},pdfBugEnabled:{value:!1,kind:L.VIEWER+L.PREFERENCE},printResolution:{value:150,kind:L.VIEWER},renderer:{value:"canvas",kind:L.VIEWER},sidebarViewOnLoad:{value:-1,kind:L.VIEWER+L.PREFERENCE},scrollModeOnLoad:{value:-1,kind:L.VIEWER+L.PREFERENCE},spreadModeOnLoad:{value:-1,kind:L.VIEWER+L.PREFERENCE},textLayerMode:{value:1,kind:L.VIEWER+L.PREFERENCE},useOnlyCssZoom:{value:!1,kind:L.VIEWER+L.PREFERENCE},viewerCssTheme:{value:0,kind:L.VIEWER+L.PREFERENCE},viewOnLoad:{value:0,kind:L.VIEWER+L.PREFERENCE},cMapPacked:{value:!0,kind:L.API},cMapUrl:{value:"../web/cmaps/",kind:L.API},disableAutoFetch:{value:!1,kind:L.API+L.PREFERENCE},disableFontFace:{value:!1,kind:L.API+L.PREFERENCE},disableRange:{value:!1,kind:L.API+L.PREFERENCE},disableStream:{value:!1,kind:L.API+L.PREFERENCE},docBaseUrl:{value:"",kind:L.API},enableXfa:{value:!0,kind:L.API+L.PREFERENCE},fontExtraProperties:{value:!1,kind:L.API},isEvalSupported:{value:!0,kind:L.API},maxImageSize:{value:-1,kind:L.API},pdfBug:{value:!1,kind:L.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:L.API},verbosity:{value:1,kind:L.API},workerPort:{value:null,kind:L.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:L.WORKER}};H.disablePreferences={value:!1,kind:L.VIEWER},H.locale={value:navigator.language||"en-US",kind:L.VIEWER},H.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:L.VIEWER},H.renderer.kind+=L.PREFERENCE;const F=Object.create(null);E.AppOptions=class I{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(g){const w=F[g];if(void 0!==w)return w;const R=H[g];return void 0!==R?R.compatibility??R.value:void 0}static getAll(g=null){const w=Object.create(null);for(const R in H){const A=H[R];if(g){if(!(g&A.kind))continue;if(g===L.PREFERENCE){const D=A.value,C=typeof D;if("boolean"===C||"string"===C||"number"===C&&Number.isInteger(D)){w[R]=D;continue}throw new Error(`Invalid type for preference: ${R}`)}}const P=F[R];w[R]=void 0!==P?P:A.compatibility??A.value}return w}static set(g,w){F[g]=w}static setAll(g){for(const w in g)F[w]=g[w]}static remove(g){delete F[g]}static _hasUserOptions(){return Object.keys(F).length>0}}},(ne,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFRenderingQueue=void 0;var L=V(3),H=V(6);E.PDFRenderingQueue=class I{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(g){this.pdfViewer=g}setThumbnailViewer(g){this.pdfThumbnailViewer=g}isHighestPriority(g){return this.highestPriorityPage===g.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(g){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(g)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(g,w,R,A=!1){const P=g.views,D=P.length;if(0===D)return null;for(let he=0;he<D;he++){const ge=P[he].view;if(!this.isViewFinished(ge))return ge}const C=g.first.id,q=g.last.id;if(q-C+1>D){const he=g.ids;for(let ge=1,_e=q-C;ge<_e;ge++){const ve=R?C+ge:q-ge;if(he.has(ve))continue;const Ne=w[ve-1];if(!this.isViewFinished(Ne))return Ne}}let Y=R?q:C-2,se=w[Y];return se&&!this.isViewFinished(se)||A&&(Y+=R?1:-1,se=w[Y],se&&!this.isViewFinished(se))?se:null}isViewFinished(g){return g.renderingState===H.RenderingStates.FINISHED}renderView(g){switch(g.renderingState){case H.RenderingStates.FINISHED:return!1;case H.RenderingStates.PAUSED:this.highestPriorityPage=g.renderingId,g.resume();break;case H.RenderingStates.RUNNING:this.highestPriorityPage=g.renderingId;break;case H.RenderingStates.INITIAL:this.highestPriorityPage=g.renderingId,g.draw().finally(()=>{this.renderHighestPriority()}).catch(w=>{w instanceof L.RenderingCancelledException||console.error(`renderView: "${w}"`)})}return!0}}},(ne,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.TextHighlighter=void 0,E.TextHighlighter=class V{constructor({findController:H,eventBus:F,pageIndex:I}){this.findController=H,this.matches=[],this.eventBus=F,this.pageIdx=I,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(H,F){this.textDivs=H,this.textContentItemsStr=F}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=H=>{(H.pageIndex===this.pageIdx||-1===H.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(H,F){if(!H)return[];const{textContentItemsStr:I}=this;let p=0,g=0;const w=I.length-1,R=[];for(let A=0,P=H.length;A<P;A++){let D=H[A];for(;p!==w&&D>=g+I[p].length;)g+=I[p].length,p++;p===I.length&&console.error("Could not find a matching mapping");const C={begin:{divIdx:p,offset:D-g}};for(D+=F[A];p!==w&&D>g+I[p].length;)g+=I[p].length,p++;C.end={divIdx:p,offset:D-g},R.push(C)}return R}_renderMatches(H){if(0===H.length)return;const{findController:F,pageIdx:I}=this,{textContentItemsStr:p,textDivs:g}=this,w=I===F.selected.pageIdx,R=F.selected.matchIdx;let P=null;function C(he,ge){const _e=he.divIdx;return g[_e].textContent="",q(_e,0,he.offset,ge)}function q(he,ge,_e,ve){let Ne=g[he];if(Ne.nodeType===Node.TEXT_NODE){const _=document.createElement("span");Ne.parentNode.insertBefore(_,Ne),_.appendChild(Ne),g[he]=_,Ne=_}const Le=p[he].substring(ge,_e),K=document.createTextNode(Le);if(ve){const _=document.createElement("span");return _.className=`${ve} appended`,_.appendChild(K),Ne.appendChild(_),ve.includes("selected")?_.offsetLeft:0}return Ne.appendChild(K),0}let Y=R,se=Y+1;if(F.state.highlightAll)Y=0,se=H.length;else if(!w)return;for(let he=Y;he<se;he++){const ge=H[he],_e=ge.begin,ve=ge.end,Ne=w&&he===R,Le=Ne?" selected":"";let K=0;if(P&&_e.divIdx===P.divIdx?q(P.divIdx,P.offset,_e.offset):(null!==P&&q(P.divIdx,P.offset,undefined),C(_e)),_e.divIdx===ve.divIdx)K=q(_e.divIdx,_e.offset,ve.offset,"highlight"+Le);else{K=q(_e.divIdx,_e.offset,undefined,"highlight begin"+Le);for(let _=_e.divIdx+1,u=ve.divIdx;_<u;_++)g[_].className="highlight middle"+Le;C(ve,"highlight end"+Le)}P=ve,Ne&&F.scrollMatchIntoView({element:g[_e.divIdx],selectedLeft:K,pageIndex:I,matchIndex:R})}P&&q(P.divIdx,P.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:H,matches:F,pageIdx:I}=this,{textContentItemsStr:p,textDivs:g}=this;let w=-1;for(let P=0,D=F.length;P<D;P++){const C=F[P];for(let Y=Math.max(w,C.begin.divIdx),se=C.end.divIdx;Y<=se;Y++){const he=g[Y];he.textContent=p[Y],he.className=""}w=C.end.divIdx+1}H?.highlightMatches&&(this.matches=this._convertMatches(H.pageMatches[I]||null,H.pageMatchesLength[I]||null),this._renderMatches(this.matches))}}},(ne,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.DownloadManager=void 0;var L=V(3);function H(I,p){const g=document.createElement("a");if(!g.click)throw new Error('DownloadManager: "a.click()" is not supported.');g.href=I,g.target="_parent","download"in g&&(g.download=p),(document.body||document.documentElement).appendChild(g),g.click(),g.remove()}E.DownloadManager=class F{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(p,g){(0,L.createValidAbsoluteUrl)(p,"http://example.com")?H(p+"#pdfjs.action=download",g):console.error(`downloadUrl - not a valid URL: ${p}`)}downloadData(p,g,w){H(URL.createObjectURL(new Blob([p],{type:w})),g)}openOrDownloadData(p,g,w){const R=(0,L.isPdfFile)(w),A=R?"application/pdf":"";if(R){let D,P=this._openBlobUrls.get(p);P||(P=URL.createObjectURL(new Blob([g],{type:A})),this._openBlobUrls.set(p,P)),D="?file="+encodeURIComponent(P+"#"+w);try{return window.open(D),!0}catch(C){console.error(`openOrDownloadData: ${C}`),URL.revokeObjectURL(P),this._openBlobUrls.delete(p)}}return this.downloadData(g,w,A),!1}download(p,g,w,R="download"){H(URL.createObjectURL(p),w)}}},(ne,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.WaitOnType=E.EventBus=E.AutomationEventBus=void 0,E.waitOnEventOrTimeout=function L({target:I,name:p,delay:g=0}){return new Promise(function(w,R){if("object"!=typeof I||!p||"string"!=typeof p||!(Number.isInteger(g)&&g>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function A(q){I instanceof H?I._off(p,P):I.removeEventListener(p,P),C&&clearTimeout(C),w(q)}const P=A.bind(null,V.EVENT);I instanceof H?I._on(p,P):I.addEventListener(p,P);const D=A.bind(null,V.TIMEOUT),C=setTimeout(D,g)})};const V={EVENT:"event",TIMEOUT:"timeout"};E.WaitOnType=V;class H{constructor(){this._listeners=Object.create(null)}on(p,g,w=null){this._on(p,g,{external:!0,once:w?.once})}off(p,g,w=null){this._off(p,g,{external:!0,once:w?.once})}dispatch(p,g){const w=this._listeners[p];if(!w||0===w.length)return;let R;for(const{listener:A,external:P,once:D}of w.slice(0))D&&this._off(p,A),P?(R||=[]).push(A):A(g);if(R){for(const A of R)A(g);R=null}}_on(p,g,w=null){(this._listeners[p]||=[]).push({listener:g,external:!0===w?.external,once:!0===w?.once})}_off(p,g,w=null){const R=this._listeners[p];if(R)for(let A=0,P=R.length;A<P;A++)if(R[A].listener===g)return void R.splice(A,1)}}E.EventBus=H,E.AutomationEventBus=class F extends H{dispatch(p,g){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(ne,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.GenericL10n=void 0,V(19);var L=V(4);const H=document.webL10n;E.GenericL10n=class F{constructor(p){this._lang=p,this._ready=new Promise((g,w)=>{H.setLanguage((0,L.fixupLangCode)(p),()=>{g(H)})})}getLanguage(){var p=this;return M(function*(){return(yield p._ready).getLanguage()})()}getDirection(){var p=this;return M(function*(){return(yield p._ready).getDirection()})()}get(p,g=null,w=(0,L.getL10nFallback)(p,g)){var R=this;return M(function*(){return(yield R._ready).get(p,g,w)})()}translate(p){var g=this;return M(function*(){return(yield g._ready).translate(p)})()}}},()=>{document.webL10n=function(ne,E,V){var L={},H="",F="textContent",I="",p={},g="loading",w=!0;function C(_,u,m){u=u||function(T){},m=m||function(){};var y=new XMLHttpRequest;y.open("GET",_,w),y.overrideMimeType&&y.overrideMimeType("text/plain; charset=utf-8"),y.onreadystatechange=function(){4==y.readyState&&(200==y.status||0===y.status?u(y.responseText):m())},y.onerror=m,y.ontimeout=m;try{y.send(null)}catch{m()}}function Y(_,u){_&&(_=_.toLowerCase()),u=u||function(){},function se(){L={},H="",I=""}(),I=_;var m=function R(){return E.querySelectorAll('link[type="application/l10n"]')}(),y=m.length;if(0!==y){var Q,ue=0;Q=function(){++ue>=y&&(u(),g="complete")};for(var fe=0;fe<y;fe++)new te(m[fe]).load(_,Q)}else{var S=function A(){var _=E.querySelector('script[type="application/l10n"]');return _?JSON.parse(_.innerHTML):null}();if(S&&S.locales&&S.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(L=S.locales[_])){var T=S.default_locale.toLowerCase();for(var x in S.locales){if((x=x.toLowerCase())===_){L=S.locales[_];break}x===T&&(L=S.locales[T])}}u()}else console.log("no resource to load, early way out");g="complete"}function te(ye){var xe=ye.href;this.load=function(Ve,Ye){!function q(_,u,m,y){var S=_.replace(/[^\/]*$/,"")||"./";function T(Q){return Q.lastIndexOf("\\")<0?Q:Q.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}C(_,function(Q){H+=Q,function x(Q,ue){var te={},fe=/^\s*|\s*$/,ce=/^\s*#|^\s*$/,ye=/^\s*\[(.*)\]\s*$/,xe=/^\s*@import\s+url\((.*)\)\s*$/i,Ve=/^([^=\s]*)\s*=\s*(.+)$/;function Ye(qe,Pe,pt){var lt=qe.replace(fe,"").split(/[\r\n]+/),Xe="*",Ae=u.split("-",1)[0],He=!1,Ze="";!function Ce(){for(;;){if(!lt.length)return void pt();var X=lt.shift();if(!ce.test(X)){if(Pe){if(Ze=ye.exec(X)){Xe=Ze[1].toLowerCase(),He="*"!==Xe&&Xe!==u&&Xe!==Ae;continue}if(He)continue;if(Ze=xe.exec(X))return void tt(S+Ze[1],Ce)}var pe=X.match(Ve);pe&&3==pe.length&&(te[pe[1]]=T(pe[2]))}}}()}function tt(qe,Pe){C(qe,function(pt){Ye(pt,!1,Pe)},function(){console.warn(qe+" not found."),Pe()})}Ye(Q,!0,function(){ue(te)})}(Q,function(ue){for(var te in ue){var fe,ce,ye=te.lastIndexOf(".");ye>0?(fe=te.substring(0,ye),ce=te.substring(ye+1)):(fe=te,ce=F),L[fe]||(L[fe]={}),L[fe][ce]=ue[te]}m&&m()})},y)}(xe,Ve,Ye,function(){console.warn(xe+" not found."),console.warn('"'+Ve+'" resource not found'),I="",Ye()})}}}function ge(_,u,m){var y=L[_];if(!y){if(console.warn("#"+_+" is undefined."),!m)return null;y=m}var S={};for(var T in y){var x=y[T];x=ve(x=_e(x,u,_,T),u,_),S[T]=x}return S}function _e(_,u,m,y){var T=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(_);if(!T||!T.length)return _;var ue,x=T[1],Q=T[2];return u&&Q in u?ue=u[Q]:Q in L&&(ue=L[Q]),x in p&&(_=(0,p[x])(_,ue,m,y)),_}function ve(_,u,m){return _.replace(/\{\{\s*(.+?)\s*\}\}/g,function(S,T){return u&&T in u?u[T]:T in L?L[T]:(console.log("argument {{"+T+"}} for #"+m+" is undefined."),S)})}function Ne(_){var u=function D(_){if(!_)return{};var u=_.getAttribute("data-l10n-id"),m=_.getAttribute("data-l10n-args"),y={};if(m)try{y=JSON.parse(m)}catch{console.warn("could not parse arguments for #"+u)}return{id:u,args:y}}(_);if(u.id){var m=ge(u.id,u.args);if(!m)return void console.warn("#"+u.id+" is undefined.");if(m[F]){if(0===function Le(_){if(_.children)return _.children.length;if(typeof _.childElementCount<"u")return _.childElementCount;for(var u=0,m=0;m<_.childNodes.length;m++)u+=1===_.nodeType?1:0;return u}(_))_[F]=m[F];else{for(var y=_.childNodes,S=!1,T=0,x=y.length;T<x;T++)3===y[T].nodeType&&/\S/.test(y[T].nodeValue)&&(S?y[T].nodeValue="":(y[T].nodeValue=m[F],S=!0));if(!S){var Q=E.createTextNode(m[F]);_.insertBefore(Q,_.firstChild)}}delete m[F]}for(var ue in m)_[ue]=m[ue]}}return p.plural=function(_,u,m,y){var S=parseFloat(u);if(isNaN(S)||y!=F)return _;p._pluralRules||(p._pluralRules=function he(_){function m(x,Q){return-1!==Q.indexOf(x)}function y(x,Q,ue){return Q<=x&&x<=ue}var S={0:function(x){return"other"},1:function(x){return y(x%100,3,10)?"few":0===x?"zero":y(x%100,11,99)?"many":2==x?"two":1==x?"one":"other"},2:function(x){return 0!==x&&x%10==0?"many":2==x?"two":1==x?"one":"other"},3:function(x){return 1==x?"one":"other"},4:function(x){return y(x,0,1)?"one":"other"},5:function(x){return y(x,0,2)&&2!=x?"one":"other"},6:function(x){return 0===x?"zero":x%10==1&&x%100!=11?"one":"other"},7:function(x){return 2==x?"two":1==x?"one":"other"},8:function(x){return y(x,3,6)?"few":y(x,7,10)?"many":2==x?"two":1==x?"one":"other"},9:function(x){return 0===x||1!=x&&y(x%100,1,19)?"few":1==x?"one":"other"},10:function(x){return y(x%10,2,9)&&!y(x%100,11,19)?"few":x%10!=1||y(x%100,11,19)?"other":"one"},11:function(x){return y(x%10,2,4)&&!y(x%100,12,14)?"few":x%10==0||y(x%10,5,9)||y(x%100,11,14)?"many":x%10==1&&x%100!=11?"one":"other"},12:function(x){return y(x,2,4)?"few":1==x?"one":"other"},13:function(x){return y(x%10,2,4)&&!y(x%100,12,14)?"few":1!=x&&y(x%10,0,1)||y(x%10,5,9)||y(x%100,12,14)?"many":1==x?"one":"other"},14:function(x){return y(x%100,3,4)?"few":x%100==2?"two":x%100==1?"one":"other"},15:function(x){return 0===x||y(x%100,2,10)?"few":y(x%100,11,19)?"many":1==x?"one":"other"},16:function(x){return x%10==1&&11!=x?"one":"other"},17:function(x){return 3==x?"few":0===x?"zero":6==x?"many":2==x?"two":1==x?"one":"other"},18:function(x){return 0===x?"zero":y(x,0,2)&&0!==x&&2!=x?"one":"other"},19:function(x){return y(x,2,10)?"few":y(x,0,1)?"one":"other"},20:function(x){return!y(x%10,3,4)&&x%10!=9||y(x%100,10,19)||y(x%100,70,79)||y(x%100,90,99)?x%1e6==0&&0!==x?"many":x%10!=2||m(x%100,[12,72,92])?x%10!=1||m(x%100,[11,71,91])?"other":"one":"two":"few"},21:function(x){return 0===x?"zero":1==x?"one":"other"},22:function(x){return y(x,0,1)||y(x,11,99)?"one":"other"},23:function(x){return y(x%10,1,2)||x%20==0?"one":"other"},24:function(x){return y(x,3,10)||y(x,13,19)?"few":m(x,[2,12])?"two":m(x,[1,11])?"one":"other"}},T={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[_.replace(/-.*$/,"")];return T in S?S[T]:(console.warn("plural form unknown for ["+_+"]"),function(){return"other"})}(I));var T="["+p._pluralRules(S)+"]";return 0===S&&m+"[zero]"in L?_=L[m+"[zero]"][y]:1==S&&m+"[one]"in L?_=L[m+"[one]"][y]:2==S&&m+"[two]"in L?_=L[m+"[two]"][y]:m+T in L?_=L[m+T][y]:m+"[other]"in L&&(_=L[m+"[other]"][y]),_},{get:function(_,u,m){var T,y=_.lastIndexOf("."),S=F;y>0&&(S=_.substring(y+1),_=_.substring(0,y)),m&&((T={})[S]=m);var x=ge(_,u,T);return x&&S in x?x[S]:"{{"+_+"}}"},getData:function(){return L},getText:function(){return H},getLanguage:function(){return I},setLanguage:function(_,u){Y(_,function(){u&&u()})},getDirection:function(){var u=I.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(u)>=0?"rtl":"ltr"},translate:function K(_){for(var u=function P(_){return _?_.querySelectorAll("*[data-l10n-id]"):[]}(_=_||E.documentElement),m=u.length,y=0;y<m;y++)Ne(u[y]);Ne(_)},getReadyState:function(){return g},ready:function(_){_&&("complete"==g||"interactive"==g?ne.setTimeout(function(){_()}):E.addEventListener&&E.addEventListener("localized",function u(){E.removeEventListener("localized",u),_()}))}}}(window,document)},(ne,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFFindController=E.FindState=void 0;var L=V(6),H=V(3),F=V(21);const I={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};E.FindState=I;const R={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},A=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),P=[...A.values()].map(De=>String.fromCharCode(De)).join(""),D=/\p{M}+/gu,C=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,q=/([^\p{M}])\p{M}*$/u,Y=/^\p{M}*([^\p{M}])/u;let se=null;function he(De){if(!se){const pn=Object.keys(R).join("");se=new RegExp(`([${pn}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const Oe=[];let st;for(;null!==(st=D.exec(De));)Oe.push([st[0].length,st.index]);let at=De.normalize("NFD");const Ge=[[0,0]];let gt=0,it=0,yt=0,Lt=0,Xt=!1;return at=at.replace(se,(pn,Ei,Fn,gi,On,Rn)=>{if(Rn-=yt,Ei){const ai=R[pn],Ji=ai.length;for(let En=1;En<Ji;En++)Ge.push([Rn-it+En,it-En]);return it-=Ji-1,ai}if(Fn){const ai=Fn.endsWith("\n"),Ji=ai?Fn.length-2:Fn.length;Xt=!0;let En=Ji;Rn+Lt===Oe[gt]?.[1]&&(En-=Oe[gt][0],++gt);for(let Js=1;Js<En+1;Js++)Ge.push([Rn-1-it+Js,it-Js]);return it-=En,yt+=En,ai?(Ge.push([(Rn+=Ji-1)-it+1,1+it]),it+=1,yt+=1,Lt+=1,Fn.slice(0,Ji)):Fn}return gi?(Ge.push([Rn-it+1,1+it]),it+=1,yt+=1,Lt+=1,gi.charAt(0)):(Ge.push([Rn-it+1,it-1]),it-=1,yt+=1,Lt+=1," ")}),Ge.push([at.length,it]),[at,Ge,Xt]}function ge(De,Oe,st){if(!De)return[Oe,st];const at=Oe,Ge=Oe+st;let gt=(0,L.binarySearchFirstItem)(De,yt=>yt[0]>=at);De[gt][0]>at&&--gt;let it=(0,L.binarySearchFirstItem)(De,yt=>yt[0]>=Ge,gt);return De[it][0]>Ge&&--it,[at+De[gt][1],st+De[it][1]-De[gt][1]]}var _e=new WeakSet,ve=new WeakSet,Ne=new WeakMap,Le=new WeakSet,K=new WeakSet,_=new WeakSet,u=new WeakSet,m=new WeakSet,y=new WeakSet,S=new WeakSet,T=new WeakSet,x=new WeakSet,Q=new WeakSet,ue=new WeakSet,te=new WeakSet,fe=new WeakSet,ce=new WeakSet,ye=new WeakSet,xe=new WeakSet,Ve=new WeakSet;function tt(De){if(!De)return;const Oe=this._pdfDocument,{type:st}=De;(null===this._state||N(this,Le,pt).call(this,De))&&(this._dirtyMatch=!0),this._state=De,"highlightallchange"!==st&&N(this,Ve,xt).call(this,I.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Oe&&this._pdfDocument!==Oe)return;N(this,y,Ze).call(this);const at=!this._highlightMatches,Ge=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),st?this._dirtyMatch?N(this,x,pe).call(this):"again"===st?(N(this,x,pe).call(this),at&&this._state.highlightAll&&N(this,T,X).call(this)):"highlightallchange"===st?(Ge?N(this,x,pe).call(this):this._highlightMatches=!0,N(this,T,X).call(this)):N(this,x,pe).call(this):this._findTimeout=setTimeout(()=>{N(this,x,pe).call(this),this._findTimeout=null},250)})}function qe(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,H.createPromiseCapability)()}function Pe(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=he(this._state.query)),this._normalizedQuery}function pt(De){if(De.query!==this._state.query)return!0;switch(De.type){case"again":const Oe=this._selected.pageIdx+1,st=this._linkService;return Oe>=1&&Oe<=st.pagesCount&&Oe!==st.page&&!st.isPageVisible(Oe);case"highlightallchange":return!1}return!0}function lt(De,Oe,st){let at=De.slice(0,Oe).match(q);if(at){const Ge=De.charCodeAt(Oe),gt=at[1].charCodeAt(0);if((0,F.getCharacterType)(Ge)===(0,F.getCharacterType)(gt))return!1}if(at=De.slice(Oe+st).match(Y),at){const Ge=De.charCodeAt(Oe+st-1),gt=at[1].charCodeAt(0);if((0,F.getCharacterType)(Ge)===(0,F.getCharacterType)(gt))return!1}return!0}function Xe(De,Oe,st,at){const Ge=[],gt=[],it=this._pageDiffs[st];let yt;for(;null!==(yt=De.exec(at));){if(Oe&&!N(this,K,lt).call(this,at,yt.index,yt[0].length))continue;const[Lt,Xt]=ge(it,yt.index,yt[0].length);Xt&&(Ge.push(Lt),gt.push(Xt))}this._pageMatches[st]=Ge,this._pageMatchesLength[st]=gt}function Ae(De,Oe){const{matchDiacritics:st}=this._state;let at=!1;return(De=De.replace(C,(gt,it,yt,Lt,Xt,pn)=>it?`[ ]*\\${it}[ ]*`:yt?`[ ]*${yt}[ ]*`:Lt?"[ ]+":st?Xt||pn:Xt?A.has(Xt.charCodeAt(0))?Xt:"":Oe?(at=!0,`${pn}\\p{M}*`):pn)).endsWith("[ ]*")&&(De=De.slice(0,De.length-4)),st&&Oe&&(at=!0,De=`${De}(?=[${P}]|[^\\p{M}]|$)`),[at,De]}function He(De){let Oe=O(this,Ne);if(0===Oe.length)return;const{caseSensitive:st,entireWord:at,phraseSearch:Ge}=this._state,gt=this._pageContents[De],it=this._hasDiacritics[De];let yt=!1;if(Ge)[yt,Oe]=N(this,u,Ae).call(this,Oe,it);else{const pn=Oe.match(/\S+/g);pn&&(Oe=pn.sort().reverse().map(Ei=>{const[Fn,gi]=N(this,u,Ae).call(this,Ei,it);return yt||=Fn,`(${gi})`}).join("|"))}Oe=new RegExp(Oe,`g${yt?"u":""}${st?"":"i"}`),N(this,_,Xe).call(this,Oe,at,De,gt),this._state.highlightAll&&N(this,S,Ce).call(this,De),this._resumePageIdx===De&&(this._resumePageIdx=null,N(this,ue,je).call(this));const Xt=this._pageMatches[De].length;Xt>0&&(this._matchesCountTotal+=Xt,N(this,xe,et).call(this))}function Ze(){if(this._extractTextPromises.length>0)return;let De=Promise.resolve();for(let Oe=0,st=this._linkService.pagesCount;Oe<st;Oe++){const at=(0,H.createPromiseCapability)();this._extractTextPromises[Oe]=at.promise,De=De.then(()=>this._pdfDocument.getPage(Oe+1).then(Ge=>Ge.getTextContent()).then(Ge=>{const gt=[];for(const it of Ge.items)gt.push(it.str),it.hasEOL&&gt.push("\n");[this._pageContents[Oe],this._pageDiffs[Oe],this._hasDiacritics[Oe]]=he(gt.join("")),at.resolve()},Ge=>{console.error(`Unable to get text content for page ${Oe+1}`,Ge),this._pageContents[Oe]="",this._pageDiffs[Oe]=null,this._hasDiacritics[Oe]=!1,at.resolve()}))}}function Ce(De){this._scrollMatches&&this._selected.pageIdx===De&&(this._linkService.page=De+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:De})}function X(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function pe(){const De=this._state.findPrevious,Oe=this._linkService.page-1,st=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Oe,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,N(this,T,X).call(this);for(let Ge=0;Ge<st;Ge++)this._pendingFindMatches.has(Ge)||(this._pendingFindMatches.add(Ge),this._extractTextPromises[Ge].then(()=>{this._pendingFindMatches.delete(Ge),N(this,m,He).call(this,Ge)}))}if(""===O(this,Ne))return void N(this,Ve,xt).call(this,I.FOUND);if(this._resumePageIdx)return;const at=this._offset;if(this._pagesToSearch=st,null!==at.matchIdx){if(!De&&at.matchIdx+1<this._pageMatches[at.pageIdx].length||De&&at.matchIdx>0)return at.matchIdx=De?at.matchIdx-1:at.matchIdx+1,void N(this,fe,Z).call(this,!0);N(this,te,le).call(this,De)}N(this,ue,je).call(this)}function Fe(De){const Oe=this._offset,st=De.length,at=this._state.findPrevious;return st?(Oe.matchIdx=at?st-1:0,N(this,fe,Z).call(this,!0),!0):(N(this,te,le).call(this,at),!!(Oe.wrapped&&(Oe.matchIdx=null,this._pagesToSearch<0))&&(N(this,fe,Z).call(this,!1),!0))}function je(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let De=null;do{const Oe=this._offset.pageIdx;if(De=this._pageMatches[Oe],!De){this._resumePageIdx=Oe;break}}while(!N(this,Q,Fe).call(this,De))}function le(De){const Oe=this._offset,st=this._linkService.pagesCount;Oe.pageIdx=De?Oe.pageIdx-1:Oe.pageIdx+1,Oe.matchIdx=null,this._pagesToSearch--,(Oe.pageIdx>=st||Oe.pageIdx<0)&&(Oe.pageIdx=De?st-1:0,Oe.wrapped=!0)}function Z(De=!1){let Oe=I.NOT_FOUND;const st=this._offset.wrapped;if(this._offset.wrapped=!1,De){const at=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Oe=st?I.WRAPPED:I.FOUND,-1!==at&&at!==this._selected.pageIdx&&N(this,S,Ce).call(this,at)}N(this,Ve,xt).call(this,Oe,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,N(this,S,Ce).call(this,this._selected.pageIdx))}function re(De){const Oe=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Oe&&this._pdfDocument!==Oe||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),N(this,Ve,xt).call(this,I.FOUND),this._highlightMatches=!1,N(this,T,X).call(this))})}function Te(){const{pageIdx:De,matchIdx:Oe}=this._selected;let st=0,at=this._matchesCountTotal;if(-1!==Oe){for(let Ge=0;Ge<De;Ge++)st+=this._pageMatches[Ge]?.length||0;st+=Oe+1}return(st<1||st>at)&&(st=at=0),{current:st,total:at}}function et(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:N(this,ye,Te).call(this)})}function xt(De,Oe=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:De,previous:Oe,matchesCount:N(this,ye,Te).call(this),rawQuery:this._state?.query??null})}E.PDFFindController=class Ye{constructor({linkService:Oe,eventBus:st}){U(this,Ve),U(this,xe),U(this,ye),U(this,ce),U(this,fe),U(this,te),U(this,ue),U(this,Q),U(this,x),U(this,T),U(this,S),U(this,y),U(this,m),U(this,u),U(this,_),U(this,K),U(this,Le),j(this,Ne,{get:Pe,set:void 0}),U(this,ve),U(this,_e),this._linkService=Oe,this._eventBus=st,N(this,ve,qe).call(this),st._on("find",N(this,_e,tt).bind(this)),st._on("findbarclose",N(this,ce,re).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(Oe){this._pdfDocument&&N(this,ve,qe).call(this),Oe&&(this._pdfDocument=Oe,this._firstPageCapability.resolve())}scrollMatchIntoView({element:Oe=null,selectedLeft:st=0,pageIndex:at=-1,matchIndex:Ge=-1}){this._scrollMatches&&Oe&&-1!==Ge&&Ge===this._selected.matchIdx&&-1!==at&&at===this._selected.pageIdx&&(this._scrollMatches=!1,(0,L.scrollIntoView)(Oe,{top:-50,left:st+-400},!0))}}},(ne,E)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.CharacterType=void 0,E.getCharacterType=function D(C){return function L(C){return C<11904}(C)?function H(C){return 0==(65408&C)}(C)?function p(C){return 32===C||9===C||13===C||10===C}(C)?V.SPACE:function F(C){return C>=97&&C<=122||C>=65&&C<=90}(C)||function I(C){return C>=48&&C<=57}(C)||95===C?V.ALPHA_LETTER:V.PUNCT:function P(C){return 3584==(65408&C)}(C)?V.THAI_LETTER:160===C?V.SPACE:V.ALPHA_LETTER:function g(C){return C>=13312&&C<=40959||C>=63744&&C<=64255}(C)?V.HAN_LETTER:function w(C){return C>=12448&&C<=12543}(C)?V.KATAKANA_LETTER:function R(C){return C>=12352&&C<=12447}(C)?V.HIRAGANA_LETTER:function A(C){return C>=65376&&C<=65439}(C)?V.HALFWIDTH_KATAKANA_LETTER:V.ALPHA_LETTER};const V={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};E.CharacterType=V},(ne,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFHistory=void 0,E.isDestArraysEqual=A,E.isDestHashesEqual=R;var L=V(6),H=V(17);function g(){return document.location.hash}function R(P,D){return"string"==typeof P&&"string"==typeof D&&(P===D||(0,L.parseQueryString)(P).get("nameddest")===D)}function A(P,D){function C(q,Y){if(typeof q!=typeof Y||Array.isArray(q)||Array.isArray(Y))return!1;if(null!==q&&"object"==typeof q&&null!==Y){if(Object.keys(q).length!==Object.keys(Y).length)return!1;for(const se in q)if(!C(q[se],Y[se]))return!1;return!0}return q===Y||Number.isNaN(q)&&Number.isNaN(Y)}if(!Array.isArray(P)||!Array.isArray(D)||P.length!==D.length)return!1;for(let q=0,Y=P.length;q<Y;q++)if(!C(P[q],D[q]))return!1;return!0}E.PDFHistory=class w{constructor({linkService:D,eventBus:C}){this.linkService=D,this.eventBus=C,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",q=>{this._isPagesLoaded=!!q.pagesCount},{once:!0})})}initialize({fingerprint:D,resetHistory:C=!1,updateUrl:q=!1}){if(!D||"string"!=typeof D)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const Y=""!==this._fingerprint&&this._fingerprint!==D;this._fingerprint=D,this._updateUrl=!0===q,this._initialized=!0,this._bindEvents();const se=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=g(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(se,!0)||C){const{hash:ge,page:_e,rotation:ve}=this._parseCurrentHash(!0);return!ge||Y||C?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:ge,page:_e,rotation:ve},!0)}const he=se.destination;this._updateInternalState(he,se.uid,!0),void 0!==he.rotation&&(this._initialRotation=he.rotation),he.dest?(this._initialBookmark=JSON.stringify(he.dest),this._destination.page=null):he.hash?this._initialBookmark=he.hash:he.page&&(this._initialBookmark=`page=${he.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:D=null,explicitDest:C,pageNumber:q}){if(!this._initialized)return;if(D&&"string"!=typeof D)return void console.error(`PDFHistory.push: "${D}" is not a valid namedDest parameter.`);if(!Array.isArray(C))return void console.error(`PDFHistory.push: "${C}" is not a valid explicitDest parameter.`);if(!this._isValidPage(q)&&(null!==q||this._destination))return void console.error(`PDFHistory.push: "${q}" is not a valid pageNumber parameter.`);const Y=D||JSON.stringify(C);if(!Y)return;let se=!1;if(this._destination&&(R(this._destination.hash,Y)||A(this._destination.dest,C))){if(this._destination.page)return;se=!0}this._popStateInProgress&&!se||(this._pushOrReplaceState({dest:C,hash:Y,page:q,rotation:this.linkService.rotation},se),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(D){if(this._initialized){if(!this._isValidPage(D))return void console.error(`PDFHistory.pushPage: "${D}" is not a valid page number.`);this._destination?.page!==D&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${D}`,page:D,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const D=window.history.state;this._isValidState(D)&&D.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const D=window.history.state;this._isValidState(D)&&D.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(D,C=!1){const q=C||!this._destination,Y={fingerprint:this._fingerprint,uid:q?this._uid:this._uid+1,destination:D};let se;if(this._updateInternalState(D,Y.uid),this._updateUrl&&D?.hash){const he=document.location.href.split("#")[0];he.startsWith("file://")||(se=`${he}#${D.hash}`)}q?window.history.replaceState(Y,"",se):window.history.pushState(Y,"",se)}_tryPushCurrentPosition(D=!1){if(!this._position)return;let C=this._position;if(D&&(C=Object.assign(Object.create(null),this._position),C.temporary=!0),!this._destination)return void this._pushOrReplaceState(C);if(this._destination.temporary)return void this._pushOrReplaceState(C,!0);if(this._destination.hash===C.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let q=!1;if(this._destination.page>=C.first&&this._destination.page<=C.page){if(void 0!==this._destination.dest||!this._destination.first)return;q=!0}this._pushOrReplaceState(C,q)}_isValidPage(D){return Number.isInteger(D)&&D>0&&D<=this.linkService.pagesCount}_isValidState(D,C=!1){if(!D)return!1;if(D.fingerprint!==this._fingerprint){if(!C)return!1;{if("string"!=typeof D.fingerprint||D.fingerprint.length!==this._fingerprint.length)return!1;const[q]=performance.getEntriesByType("navigation");if("reload"!==q?.type)return!1}}return!(!Number.isInteger(D.uid)||D.uid<0||null===D.destination||"object"!=typeof D.destination)}_updateInternalState(D,C,q=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),q&&D?.temporary&&delete D.temporary,this._destination=D,this._uid=C,this._maxUid=Math.max(this._maxUid,C),this._numPositionUpdates=0}_parseCurrentHash(D=!1){const C=unescape(g()).substring(1),q=(0,L.parseQueryString)(C),Y=q.get("nameddest")||"";let se=0|q.get("page");return(!this._isValidPage(se)||D&&Y.length>0)&&(se=null),{hash:C,page:se,rotation:this.linkService.rotation}}_updateViewarea({location:D}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:D.pdfOpenParams.substring(1),page:this.linkService.page,first:D.pageNumber,rotation:D.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:D}){const C=g(),q=this._currentHash!==C;if(this._currentHash=C,!D){this._uid++;const{hash:se,page:he,rotation:ge}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:se,page:he,rotation:ge},!0)}if(!this._isValidState(D))return;this._popStateInProgress=!0,q&&(this._blockHashChange++,(0,H.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const Y=D.destination;this._updateInternalState(Y,D.uid,!0),(0,L.isValidRotation)(Y.rotation)&&(this.linkService.rotation=Y.rotation),Y.dest?this.linkService.goToDestination(Y.dest):Y.hash?this.linkService.setHash(Y.hash):Y.page&&(this.linkService.page=Y.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(ne,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.PDFScriptingManager=void 0;var L=V(6),H=V(3);E.PDFScriptingManager=class F{constructor({eventBus:p,sandboxBundleSrc:g=null,scriptingFactory:w=null,docPropertiesLookup:R=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=p,this._sandboxBundleSrc=g,this._scriptingFactory=w,this._docPropertiesLookup=R,this._scriptingFactory||window.addEventListener("updatefromsandbox",A=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:A.detail})})}setViewer(p){this._pdfViewer=p}setDocument(p){var g=this;return M(function*(){if(g._pdfDocument&&(yield g._destroyScripting()),g._pdfDocument=p,!p)return;const[w,R,A]=yield Promise.all([p.getFieldObjects(),p.getCalculationOrderIds(),p.getJSActions()]);if(w||A){if(p===g._pdfDocument){try{g._scripting=g._createScripting()}catch(P){return console.error(`PDFScriptingManager.setDocument: "${P?.message}".`),void(yield g._destroyScripting())}g._internalEvents.set("updatefromsandbox",P=>{P?.source===window&&g._updateFromSandbox(P.detail)}),g._internalEvents.set("dispatcheventinsandbox",P=>{g._scripting?.dispatchEventInSandbox(P.detail)}),g._internalEvents.set("pagechanging",({pageNumber:P,previous:D})=>{P!==D&&(g._dispatchPageClose(D),g._dispatchPageOpen(P))}),g._internalEvents.set("pagerendered",({pageNumber:P})=>{g._pageOpenPending.has(P)&&P===g._pdfViewer.currentPageNumber&&g._dispatchPageOpen(P)}),g._internalEvents.set("pagesdestroy",function(){var P=M(function*(D){yield g._dispatchPageClose(g._pdfViewer.currentPageNumber),yield g._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),g._closeCapability?.resolve()});return function(D){return P.apply(this,arguments)}}()),g._domEvents.set("mousedown",P=>{g._mouseState.isDown=!0}),g._domEvents.set("mouseup",P=>{g._mouseState.isDown=!1});for(const[P,D]of g._internalEvents)g._eventBus._on(P,D);for(const[P,D]of g._domEvents)window.addEventListener(P,D,!0);try{const P=yield g._getDocProperties();if(p!==g._pdfDocument)return;yield g._scripting.createSandbox({objects:w,calculationOrder:R,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...P,actions:A}}),g._eventBus.dispatch("sandboxcreated",{source:g})}catch(P){return console.error(`PDFScriptingManager.setDocument: "${P?.message}".`),void(yield g._destroyScripting())}yield g._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield g._dispatchPageOpen(g._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{p===g._pdfDocument&&(g._ready=!0)})}}else yield g._destroyScripting()})()}dispatchWillSave(p){var g=this;return M(function*(){return g._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(p){var g=this;return M(function*(){return g._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(p){var g=this;return M(function*(){return g._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(p){var g=this;return M(function*(){return g._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,H.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,H.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,H.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,H.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(p){var g=this;return M(function*(){const w=g._pdfViewer.isInPresentationMode||g._pdfViewer.isChangingPresentationMode,{id:R,siblings:A,command:P,value:D}=p;if(!R){switch(P){case"clear":console.clear();break;case"error":console.error(D);break;case"layout":if(w)return;const q=(0,L.apiPageLayoutToViewerModes)(D);g._pdfViewer.spreadMode=q.spreadMode;break;case"page-num":g._pdfViewer.currentPageNumber=D+1;break;case"print":yield g._pdfViewer.pagesPromise,g._eventBus.dispatch("print",{source:g});break;case"println":console.log(D);break;case"zoom":if(w)return;g._pdfViewer.currentScaleValue=D;break;case"SaveAs":g._eventBus.dispatch("save",{source:g});break;case"FirstPage":g._pdfViewer.currentPageNumber=1;break;case"LastPage":g._pdfViewer.currentPageNumber=g._pdfViewer.pagesCount;break;case"NextPage":g._pdfViewer.nextPage();break;case"PrevPage":g._pdfViewer.previousPage();break;case"ZoomViewIn":if(w)return;g._pdfViewer.increaseScale();break;case"ZoomViewOut":if(w)return;g._pdfViewer.decreaseScale()}return}if(w&&p.focus)return;delete p.id,delete p.siblings;const C=A?[R,...A]:[R];for(const q of C){const Y=document.getElementById(q);Y?Y.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:p})):g._pdfDocument?.annotationStorage.setValue(q,p)}})()}_dispatchPageOpen(p,g=!1){var w=this;return M(function*(){const R=w._pdfDocument,A=w._visitedPages;if(g&&(w._closeCapability=(0,H.createPromiseCapability)()),!w._closeCapability)return;const P=w._pdfViewer.getPageView(p-1);if(P?.renderingState!==L.RenderingStates.FINISHED)return void w._pageOpenPending.add(p);w._pageOpenPending.delete(p);const D=M(function*(){const C=yield A.has(p)?null:P.pdfPage?.getJSActions();R===w._pdfDocument&&(yield w._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:p,actions:C}))})();A.set(p,D)})()}_dispatchPageClose(p){var g=this;return M(function*(){const w=g._pdfDocument,R=g._visitedPages;if(!g._closeCapability||g._pageOpenPending.has(p))return;const A=R.get(p);A&&(R.set(p,null),yield A,w===g._pdfDocument&&(yield g._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:p})))})()}_getDocProperties(){var p=this;return M(function*(){if(p._docPropertiesLookup)return p._docPropertiesLookup(p._pdfDocument);const{docPropertiesLookup:g}=V(24);return g(p._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,H.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:p}=V(24);return new p(this._sandboxBundleSrc)}_destroyScripting(){var p=this;return M(function*(){if(!p._scripting)return p._pdfDocument=null,void p._destroyCapability?.resolve();p._closeCapability&&(yield Promise.race([p._closeCapability.promise,new Promise(g=>{setTimeout(g,1e3)})]).catch(g=>{}),p._closeCapability=null),p._pdfDocument=null;try{yield p._scripting.destroySandbox()}catch{}for(const[g,w]of p._internalEvents)p._eventBus._off(g,w);p._internalEvents.clear();for(const[g,w]of p._domEvents)window.removeEventListener(g,w,!0);p._domEvents.clear(),p._pageOpenPending.clear(),p._visitedPages.clear(),p._scripting=null,delete p._mouseState.isDown,p._ready=!1,p._destroyCapability?.resolve()})()}}},(ne,E,V)=>{Object.defineProperty(E,"__esModule",{value:!0}),E.GenericScripting=void 0,E.docPropertiesLookup=function H(p){return F.apply(this,arguments)};var L=V(3);function F(){return(F=M(function*(p){const w="".split("#")[0];let{info:R,metadata:A,contentDispositionFilename:P,contentLength:D}=yield p.getMetadata();if(!D){const{length:C}=yield p.getDownloadInfo();D=C}return{...R,baseURL:w,filesize:D,filename:P||(0,L.getPdfFilenameFromUrl)(""),metadata:A?.getRaw(),authors:A?.get("dc:creator"),numPages:p.numPages,URL:""}})).apply(this,arguments)}E.GenericScripting=class I{constructor(g){this._ready=(0,L.loadScript)(g,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(g){var w=this;return M(function*(){(yield w._ready).create(g)})()}dispatchEventInSandbox(g){var w=this;return M(function*(){const R=yield w._ready;setTimeout(()=>R.dispatchEvent(g),0)})()}destroySandbox(){var g=this;return M(function*(){(yield g._ready).nukeSandbox()})()}}}],W={};function ee(ne){var E=W[ne];if(void 0!==E)return E.exports;var V=W[ne]={exports:{}};return B[ne](V,V.exports,ee),V.exports}var G={};return(()=>{var ne=G;Object.defineProperty(ne,"__esModule",{value:!0}),Object.defineProperty(ne,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return F.AnnotationLayerBuilder}}),Object.defineProperty(ne,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return E.DefaultAnnotationLayerFactory}}),Object.defineProperty(ne,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return E.DefaultStructTreeLayerFactory}}),Object.defineProperty(ne,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return E.DefaultTextLayerFactory}}),Object.defineProperty(ne,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return E.DefaultXfaLayerFactory}}),Object.defineProperty(ne,"DownloadManager",{enumerable:!0,get:function(){return I.DownloadManager}}),Object.defineProperty(ne,"EventBus",{enumerable:!0,get:function(){return p.EventBus}}),Object.defineProperty(ne,"GenericL10n",{enumerable:!0,get:function(){return g.GenericL10n}}),Object.defineProperty(ne,"LinkTarget",{enumerable:!0,get:function(){return V.LinkTarget}}),Object.defineProperty(ne,"NullL10n",{enumerable:!0,get:function(){return w.NullL10n}}),Object.defineProperty(ne,"PDFFindController",{enumerable:!0,get:function(){return R.PDFFindController}}),Object.defineProperty(ne,"PDFHistory",{enumerable:!0,get:function(){return A.PDFHistory}}),Object.defineProperty(ne,"PDFLinkService",{enumerable:!0,get:function(){return V.PDFLinkService}}),Object.defineProperty(ne,"PDFPageView",{enumerable:!0,get:function(){return P.PDFPageView}}),Object.defineProperty(ne,"PDFScriptingManager",{enumerable:!0,get:function(){return D.PDFScriptingManager}}),Object.defineProperty(ne,"PDFSinglePageViewer",{enumerable:!0,get:function(){return H.PDFSinglePageViewer}}),Object.defineProperty(ne,"PDFViewer",{enumerable:!0,get:function(){return H.PDFViewer}}),Object.defineProperty(ne,"ProgressBar",{enumerable:!0,get:function(){return L.ProgressBar}}),Object.defineProperty(ne,"SimpleLinkService",{enumerable:!0,get:function(){return V.SimpleLinkService}}),Object.defineProperty(ne,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return C.StructTreeLayerBuilder}}),Object.defineProperty(ne,"TextLayerBuilder",{enumerable:!0,get:function(){return q.TextLayerBuilder}}),Object.defineProperty(ne,"XfaLayerBuilder",{enumerable:!0,get:function(){return Y.XfaLayerBuilder}}),Object.defineProperty(ne,"parseQueryString",{enumerable:!0,get:function(){return L.parseQueryString}});var E=ee(1),V=ee(5),L=ee(6),H=ee(10),F=ee(2),I=ee(16),p=ee(17),g=ee(18),w=ee(4),R=ee(20),A=ee(22),P=ee(12),D=ee(23),C=ee(7),q=ee(8),Y=ee(9)})(),G})(),oe.exports=ee()},178:oe=>{"use strict";function v(U){return U instanceof Buffer?Buffer.from(U):new U.constructor(U.buffer.slice(),U.byteOffset,U.length)}oe.exports=function z(U){return(U=U||{}).circles?function h(U){var j=[],ie=[];return U.proto?function M(B){if("object"!=typeof B||null===B)return B;if(B instanceof Date)return new Date(B);if(Array.isArray(B))return N(B,M);if(B instanceof Map)return new Map(N(Array.from(B),M));if(B instanceof Set)return new Set(N(Array.from(B),M));var W={};for(var ee in j.push(B),ie.push(W),B){var G=B[ee];if("object"!=typeof G||null===G)W[ee]=G;else if(G instanceof Date)W[ee]=new Date(G);else if(G instanceof Map)W[ee]=new Map(N(Array.from(G),M));else if(G instanceof Set)W[ee]=new Set(N(Array.from(G),M));else if(ArrayBuffer.isView(G))W[ee]=v(G);else{var ne=j.indexOf(G);W[ee]=-1!==ne?ie[ne]:M(G)}}return j.pop(),ie.pop(),W}:function O(B){if("object"!=typeof B||null===B)return B;if(B instanceof Date)return new Date(B);if(Array.isArray(B))return N(B,O);if(B instanceof Map)return new Map(N(Array.from(B),O));if(B instanceof Set)return new Set(N(Array.from(B),O));var W={};for(var ee in j.push(B),ie.push(W),B)if(!1!==Object.hasOwnProperty.call(B,ee)){var G=B[ee];if("object"!=typeof G||null===G)W[ee]=G;else if(G instanceof Date)W[ee]=new Date(G);else if(G instanceof Map)W[ee]=new Map(N(Array.from(G),O));else if(G instanceof Set)W[ee]=new Set(N(Array.from(G),O));else if(ArrayBuffer.isView(G))W[ee]=v(G);else{var ne=j.indexOf(G);W[ee]=-1!==ne?ie[ne]:O(G)}}return j.pop(),ie.pop(),W};function N(B,W){for(var ee=Object.keys(B),G=new Array(ee.length),ne=0;ne<ee.length;ne++){var E=ee[ne],V=B[E];if("object"!=typeof V||null===V)G[E]=V;else if(V instanceof Date)G[E]=new Date(V);else if(ArrayBuffer.isView(V))G[E]=v(V);else{var L=j.indexOf(V);G[E]=-1!==L?ie[L]:W(V)}}return G}}(U):U.proto?function N(O){if("object"!=typeof O||null===O)return O;if(O instanceof Date)return new Date(O);if(Array.isArray(O))return j(O,N);if(O instanceof Map)return new Map(j(Array.from(O),N));if(O instanceof Set)return new Set(j(Array.from(O),N));var M={};for(var B in O){var W=O[B];M[B]="object"!=typeof W||null===W?W:W instanceof Date?new Date(W):W instanceof Map?new Map(j(Array.from(W),N)):W instanceof Set?new Set(j(Array.from(W),N)):ArrayBuffer.isView(W)?v(W):N(W)}return M}:function ie(O){if("object"!=typeof O||null===O)return O;if(O instanceof Date)return new Date(O);if(Array.isArray(O))return j(O,ie);if(O instanceof Map)return new Map(j(Array.from(O),ie));if(O instanceof Set)return new Set(j(Array.from(O),ie));var M={};for(var B in O)if(!1!==Object.hasOwnProperty.call(O,B)){var W=O[B];M[B]="object"!=typeof W||null===W?W:W instanceof Date?new Date(W):W instanceof Map?new Map(j(Array.from(W),ie)):W instanceof Set?new Set(j(Array.from(W),ie)):ArrayBuffer.isView(W)?v(W):ie(W)}return M};function j(O,M){for(var B=Object.keys(O),W=new Array(B.length),ee=0;ee<B.length;ee++){var G=B[ee],ne=O[G];W[G]="object"!=typeof ne||null===ne?ne:ne instanceof Date?new Date(ne):ArrayBuffer.isView(ne)?v(ne):M(ne)}return W}}},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{},156:oe=>{function v(h,U,j,ie,N,O,M){try{var B=h[O](M),W=B.value}catch(ee){return void j(ee)}B.done?U(W):Promise.resolve(W).then(ie,N)}oe.exports=function z(h){return function(){var U=this,j=arguments;return new Promise(function(ie,N){var O=h.apply(U,j);function M(W){v(O,ie,N,M,B,"next",W)}function B(W){v(O,ie,N,M,B,"throw",W)}M(void 0)})}},oe.exports.__esModule=!0,oe.exports.default=oe.exports},521:oe=>{oe.exports=function v(z,h){if(h.has(z))throw new TypeError("Cannot initialize the same private elements twice on an object")},oe.exports.__esModule=!0,oe.exports.default=oe.exports},912:oe=>{oe.exports=function v(z,h){return h.get?h.get.call(z):h.value},oe.exports.__esModule=!0,oe.exports.default=oe.exports},448:oe=>{oe.exports=function v(z,h,U){if(h.set)h.set.call(z,U);else{if(!h.writable)throw new TypeError("attempted to set read only private field");h.value=U}},oe.exports.__esModule=!0,oe.exports.default=oe.exports},625:oe=>{oe.exports=function v(z,h){if(z!==h)throw new TypeError("Private static access of wrong provenance")},oe.exports.__esModule=!0,oe.exports.default=oe.exports},506:oe=>{oe.exports=function v(z,h){if(void 0===z)throw new TypeError("attempted to "+h+" private static field before its declaration")},oe.exports.__esModule=!0,oe.exports.default=oe.exports},69:oe=>{oe.exports=function v(z,h,U){if(!h.has(z))throw new TypeError("attempted to "+U+" private field on non-instance");return h.get(z)},oe.exports.__esModule=!0,oe.exports.default=oe.exports},468:(oe,v,z)=>{var h=z(912),U=z(69);oe.exports=function j(ie,N){var O=U(ie,N,"get");return h(ie,O)},oe.exports.__esModule=!0,oe.exports.default=oe.exports},159:(oe,v,z)=>{var h=z(521);oe.exports=function U(j,ie,N){h(j,ie),ie.set(j,N)},oe.exports.__esModule=!0,oe.exports.default=oe.exports},661:(oe,v,z)=>{var h=z(448),U=z(69);oe.exports=function j(ie,N,O){var M=U(ie,N,"set");return h(ie,M,O),O},oe.exports.__esModule=!0,oe.exports.default=oe.exports},467:oe=>{oe.exports=function v(z,h,U){if(!h.has(z))throw new TypeError("attempted to get private field on non-instance");return U},oe.exports.__esModule=!0,oe.exports.default=oe.exports},860:(oe,v,z)=>{var h=z(521);oe.exports=function U(j,ie){h(j,ie),ie.add(j)},oe.exports.__esModule=!0,oe.exports.default=oe.exports},280:(oe,v,z)=>{var h=z(912),U=z(625),j=z(506);oe.exports=function ie(N,O,M){return U(N,O),j(M,"get"),h(N,M)},oe.exports.__esModule=!0,oe.exports.default=oe.exports},306:(oe,v,z)=>{var h=z(448),U=z(625),j=z(506);oe.exports=function ie(N,O,M,B){return U(N,O),j(M,"set"),h(N,M,B),B},oe.exports.__esModule=!0,oe.exports.default=oe.exports},764:(oe,v,z)=>{var h=z(625);oe.exports=function U(j,ie,N){return h(j,ie),N},oe.exports.__esModule=!0,oe.exports.default=oe.exports},416:(oe,v,z)=>{var h=z(62);oe.exports=function U(j,ie,N){return(ie=h(ie))in j?Object.defineProperty(j,ie,{value:N,enumerable:!0,configurable:!0,writable:!0}):j[ie]=N,j},oe.exports.__esModule=!0,oe.exports.default=oe.exports},36:(oe,v,z)=>{var h=z(698).default;oe.exports=function U(j,ie){if("object"!==h(j)||null===j)return j;var N=j[Symbol.toPrimitive];if(void 0!==N){var O=N.call(j,ie||"default");if("object"!==h(O))return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ie?String:Number)(j)},oe.exports.__esModule=!0,oe.exports.default=oe.exports},62:(oe,v,z)=>{var h=z(698).default,U=z(36);oe.exports=function j(ie){var N=U(ie,"string");return"symbol"===h(N)?N:String(N)},oe.exports.__esModule=!0,oe.exports.default=oe.exports},698:oe=>{function v(z){return oe.exports=v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},oe.exports.__esModule=!0,oe.exports.default=oe.exports,v(z)}oe.exports=v,oe.exports.__esModule=!0,oe.exports.default=oe.exports}},oe=>{oe(oe.s=811)}]);